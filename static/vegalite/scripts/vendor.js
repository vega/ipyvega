/* D3.js */

!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function r(n){return null===n?0/0:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function c(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function l(){this._=Object.create(null)}function s(n){return(n+="")===pa||n[0]===va?va+n:n}function f(n){return(n+="")[0]===va?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=da.length;r>e;++e){var u=da[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new l;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){ta.event.preventDefault()}function k(){for(var n,t=ta.event;n=t.sourceEvent;)t=n;return t}function E(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=ta.event;u.target=n,ta.event=u,t[u.type].apply(e,r)}finally{ta.event=i}}},t}function A(n){return ya(n,_a),n}function N(n){return"function"==typeof n?n:function(){return Ma(n,this)}}function C(n){return"function"==typeof n?n:function(){return xa(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ta.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function q(n){return n.trim().replace(/\s+/g," ")}function L(n){return new RegExp("(?:^|\\s+)"+ta.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=L(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",q(u+" "+n))):e.setAttribute("class",q(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ta.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return ba(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function Z(n){return ya(n,Sa),n}function V(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,ra(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+ta.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=$;a>0&&(n=n.slice(0,a));var l=ka.get(n);return l&&(n=l,c=B),a?t?u:r:t?b:i}function $(n,t){return function(e){var r=ta.event;ta.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ta.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Aa,u="click"+r,i=ta.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ea&&(Ea="onselectstart"in e?!1:x(e.style,"userSelect")),Ea){var o=n(e).style,a=o[Ea];o[Ea]="none"}return function(n){if(i.on(r,null),Ea&&(o[Ea]=a),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Na){var i=t(n);if(i.scrollX||i.scrollY){r=ta.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Na=!(o.f||o.e),r.remove()}}return Na?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ta.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nt(n){return n>1?0:-1>n?qa:Math.acos(n)}function tt(n){return n>1?Ra:-1>n?-Ra:Math.asin(n)}function et(n){return((n=Math.exp(n))-1/n)/2}function rt(n){return((n=Math.exp(n))+1/n)/2}function ut(n){return((n=Math.exp(2*n))-1)/(n+1)}function it(n){return(n=Math.sin(n/2))*n}function ot(){}function at(n,t,e){return this instanceof at?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof at?new at(n.h,n.s,n.l):bt(""+n,_t,at):new at(n,t,e)}function ct(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new mt(u(n+120),u(n),u(n-120))}function lt(n,t,e){return this instanceof lt?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof lt?new lt(n.h,n.c,n.l):n instanceof ft?gt(n.l,n.a,n.b):gt((n=wt((n=ta.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new lt(n,t,e)}function st(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new ft(e,Math.cos(n*=Da)*t,Math.sin(n)*t)}function ft(n,t,e){return this instanceof ft?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof ft?new ft(n.l,n.a,n.b):n instanceof lt?st(n.h,n.c,n.l):wt((n=mt(n)).r,n.g,n.b):new ft(n,t,e)}function ht(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=pt(u)*Xa,r=pt(r)*$a,i=pt(i)*Ba,new mt(dt(3.2404542*u-1.5371385*r-.4985314*i),dt(-.969266*u+1.8760108*r+.041556*i),dt(.0556434*u-.2040259*r+1.0572252*i))}function gt(n,t,e){return n>0?new lt(Math.atan2(e,t)*Pa,Math.sqrt(t*t+e*e),n):new lt(0/0,0/0,n)}function pt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function vt(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function dt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mt(n,t,e){return this instanceof mt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mt?new mt(n.r,n.g,n.b):bt(""+n,mt,ct):new mt(n,t,e)}function yt(n){return new mt(n>>16,n>>8&255,255&n)}function Mt(n){return yt(n)+""}function xt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function bt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(kt(u[0]),kt(u[1]),kt(u[2]))}return(i=Ga.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function _t(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new at(r,u,c)}function wt(n,t,e){n=St(n),t=St(t),e=St(e);var r=vt((.4124564*n+.3575761*t+.1804375*e)/Xa),u=vt((.2126729*n+.7151522*t+.072175*e)/$a),i=vt((.0193339*n+.119192*t+.9503041*e)/Ba);return ft(116*u-16,500*(r-u),200*(u-i))}function St(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function kt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function Et(n){return"function"==typeof n?n:function(){return n}}function At(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Nt(t,e,n,r)}}function Nt(n,t,e,r){function u(){var n,t=c.status;if(!t&&zt(c)||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=ta.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=ta.event;ta.event=n;try{o.progress.call(i,c)}finally{ta.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(l=n,i):l},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ra(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var s in a)c.setRequestHeader(s,a[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=l&&(c.responseType=l),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},ta.rebind(i,o,"on"),null==r?i:i.get(Ct(r))}function Ct(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function zt(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qt(){var n=Lt(),t=Tt()-n;t>24?(isFinite(t)&&(clearTimeout(tc),tc=setTimeout(qt,t)),nc=0):(nc=1,rc(qt))}function Lt(){var n=Date.now();for(ec=Ka;ec;)n>=ec.t&&(ec.f=ec.c(n-ec.t)),ec=ec.n;return n}function Tt(){for(var n,t=Ka,e=1/0;t;)t.f?t=n?n.n=t.n:Ka=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Qa=n,e}function Rt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Dt(n,t){var e=Math.pow(10,3*ga(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Pt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],o=0,a=r[0],c=0;u>0&&a>0&&(c+a+1>t&&(a=Math.max(1,t-c)),i.push(n.substring(u-=a,u+a)),!((c+=a+1)>t));)a=r[o=(o+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=ic.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",c=e[4]||"",l=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===o)&&(l=r="0",o="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=oc.get(g)||Ut;var M=l&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===a?"":a;if(0>p){var c=ta.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!l&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===o?u+n+k:">"===o?k+u+n:"^"===o?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Ut(n){return n+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new cc(e-1)),1),e}function i(n,e){return t(n=new cc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{cc=jt;var r=new jt;return r._=n,o(r,t,e)}finally{cc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Ht(n);return c.floor=c,c.round=Ht(r),c.ceil=Ht(u),c.offset=Ht(i),c.range=a,n}function Ht(n){return function(t,e){try{cc=jt;var r=new jt;return r._=t,n(r,e)._}finally{cc=Date}}}function Ot(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(c,a)),null!=(u=sc[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=N[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.slice(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&cc!==jt,o=new(i?jt:cc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,l=e.length;c>a;){if(r>=l)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=C[o in sc?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.slice(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,N.c.toString(),t,r)}function c(n,t,r){return e(n,N.x.toString(),t,r)}function l(n,t,r){return e(n,N.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{cc=jt;var t=new cc;return t._=n,r(t)}finally{cc=Date}}var r=t(n);return e.parse=function(n){try{cc=jt;var t=r.parse(n);return t&&t._}finally{cc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ae;var M=ta.map(),x=Yt(v),b=Zt(v),_=Yt(d),w=Zt(d),S=Yt(m),k=Zt(m),E=Yt(y),A=Zt(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var N={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return It(n.getDate(),t,2)},e:function(n,t){return It(n.getDate(),t,2)},H:function(n,t){return It(n.getHours(),t,2)},I:function(n,t){return It(n.getHours()%12||12,t,2)},j:function(n,t){return It(1+ac.dayOfYear(n),t,3)},L:function(n,t){return It(n.getMilliseconds(),t,3)},m:function(n,t){return It(n.getMonth()+1,t,2)},M:function(n,t){return It(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return It(n.getSeconds(),t,2)},U:function(n,t){return It(ac.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return It(ac.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return It(n.getFullYear()%100,t,2)},Y:function(n,t){return It(n.getFullYear()%1e4,t,4)},Z:ie,"%":function(){return"%"}},C={a:r,A:u,b:i,B:o,c:a,d:Qt,e:Qt,H:te,I:te,j:ne,L:ue,m:Kt,M:ee,p:s,S:re,U:Xt,w:Vt,W:$t,x:c,X:l,y:Wt,Y:Bt,Z:Jt,"%":oe};return t}function It(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Yt(n){return new RegExp("^(?:"+n.map(ta.requote).join("|")+")","i")}function Zt(n){for(var t=new l,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Vt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Xt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function $t(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Bt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Wt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.y=Gt(+r[0]),e+r[0].length):-1}function Jt(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Gt(n){return n+(n>68?1900:2e3)}function Kt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Qt(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ne(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function te(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ee(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function re(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ue(n,t,e){fc.lastIndex=0;var r=fc.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ie(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=ga(t)/60|0,u=ga(t)%60;return e+It(r,"0",2)+It(u,"0",2)}function oe(n,t,e){hc.lastIndex=0;var r=hc.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ae(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ce(){}function le(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function se(n,t){n&&dc.hasOwnProperty(n.type)&&dc[n.type](n,t)}function fe(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function he(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)fe(n[e],t,1);t.polygonEnd()}function ge(){function n(n,t){n*=Da,t=t*Da/2+qa/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),l=Math.sin(t),s=i*l,f=u*c+s*Math.cos(a),h=s*o*Math.sin(a);yc.add(Math.atan2(h,f)),r=n,u=c,i=l}var t,e,r,u,i;Mc.point=function(o,a){Mc.point=n,r=(t=o)*Da,u=Math.cos(a=(e=a)*Da/2+qa/4),i=Math.sin(a)},Mc.lineEnd=function(){n(t,e)}}function pe(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function ve(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function de(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function me(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ye(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Me(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function xe(n){return[Math.atan2(n[1],n[0]),tt(n[2])]}function be(n,t){return ga(n[0]-t[0])<Ca&&ga(n[1]-t[1])<Ca}function _e(n,t){n*=Da;var e=Math.cos(t*=Da);we(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function we(n,t,e){++xc,_c+=(n-_c)/xc,wc+=(t-wc)/xc,Sc+=(e-Sc)/xc}function Se(){function n(n,u){n*=Da;var i=Math.cos(u*=Da),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),l=Math.atan2(Math.sqrt((l=e*c-r*a)*l+(l=r*o-t*c)*l+(l=t*a-e*o)*l),t*o+e*a+r*c);bc+=l,kc+=l*(t+(t=o)),Ec+=l*(e+(e=a)),Ac+=l*(r+(r=c)),we(t,e,r)}var t,e,r;qc.point=function(u,i){u*=Da;var o=Math.cos(i*=Da);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),qc.point=n,we(t,e,r)}}function ke(){qc.point=_e}function Ee(){function n(n,t){n*=Da;var e=Math.cos(t*=Da),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),l=u*c-i*a,s=i*o-r*c,f=r*a-u*o,h=Math.sqrt(l*l+s*s+f*f),g=r*o+u*a+i*c,p=h&&-nt(g)/h,v=Math.atan2(h,g);Nc+=p*l,Cc+=p*s,zc+=p*f,bc+=v,kc+=v*(r+(r=o)),Ec+=v*(u+(u=a)),Ac+=v*(i+(i=c)),we(r,u,i)}var t,e,r,u,i;qc.point=function(o,a){t=o,e=a,qc.point=n,o*=Da;var c=Math.cos(a*=Da);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),we(r,u,i)},qc.lineEnd=function(){n(t,e),qc.lineEnd=ke,qc.point=_e}}function Ae(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function Ne(){return!0}function Ce(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(be(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var c=new qe(e,n,null,!0),l=new qe(e,null,c,!1);c.o=l,i.push(c),o.push(l),c=new qe(r,n,null,!1),l=new qe(r,null,c,!0),c.o=l,i.push(c),o.push(l)}}),o.sort(t),ze(i),ze(o),i.length){for(var a=0,c=e,l=o.length;l>a;++a)o[a].e=c=!c;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,l=s.length;l>a;++a)u.point((f=s[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var a=s.length-1;a>=0;--a)u.point((f=s[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ze(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function qe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Le(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function l(){y.point=o,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Te))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:l,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=l,g=ta.merge(g);var n=Fe(m,p);g.length?(b||(i.polygonStart(),b=!0),Ce(g,De,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Re(),x=t(M),b=!1;return y}}function Te(n){return n.length>1}function Re(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function De(n,t){return((n=n.x)[0]<0?n[1]-Ra-Ca:Ra-n[1])-((t=t.x)[0]<0?t[1]-Ra-Ca:Ra-t[1])}function Pe(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?qa:-qa,c=ga(i-e);ga(c-qa)<Ca?(n.point(e,r=(r+o)/2>0?Ra:-Ra),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=qa&&(ga(e-u)<Ca&&(e-=u*Ca),ga(i-a)<Ca&&(i-=a*Ca),r=Ue(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function Ue(n,t,e,r){var u,i,o=Math.sin(n-e);return ga(o)>Ca?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function je(n,t,e,r){var u;if(null==n)u=e*Ra,r.point(-qa,u),r.point(0,u),r.point(qa,u),r.point(qa,0),r.point(qa,-u),r.point(0,-u),r.point(-qa,-u),r.point(-qa,0),r.point(-qa,u);else if(ga(n[0]-t[0])>Ca){var i=n[0]<t[0]?qa:-qa;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Fe(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;yc.reset();for(var a=0,c=t.length;c>a;++a){var l=t[a],s=l.length;if(s)for(var f=l[0],h=f[0],g=f[1]/2+qa/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=l[d];var m=n[0],y=n[1]/2+qa/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>qa,k=p*M;if(yc.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*La:b,S^h>=e^m>=e){var E=de(pe(f),pe(n));Me(E);var A=de(u,E);Me(A);var N=(S^b>=0?-1:1)*tt(A[2]);(r>N||r===N&&(E[0]||E[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Ca>i||Ca>i&&0>yc)^1&o}function He(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,l,s;return{lineStart:function(){l=c=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?qa:-qa),h):0;if(!e&&(l=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(be(e,g)||be(p,g))&&(p[0]+=Ca,p[1]+=Ca,v=t(p[0],p[1]))),v!==c)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(s=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&be(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return s|(l&&c)<<1}}}function r(n,t,e){var r=pe(n),u=pe(t),o=[1,0,0],a=de(r,u),c=ve(a,a),l=a[0],s=c-l*l;if(!s)return!e&&n;var f=i*c/s,h=-i*l/s,g=de(o,a),p=ye(o,f),v=ye(a,h);me(p,v);var d=g,m=ve(p,d),y=ve(d,d),M=m*m-y*(ve(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=ye(d,(-m-x)/y);if(me(b,p),b=xe(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(_=w,w=S,S=_);var A=S-w,N=ga(A-qa)<Ca,C=N||Ca>A;if(!N&&k>E&&(_=k,k=E,E=_),C?N?k+E>0^b[1]<(ga(b[0]-w)<Ca?k:E):k<=b[1]&&b[1]<=E:A>qa^(w<=b[0]&&b[0]<=S)){var z=ye(d,(-m+x)/y);return me(z,p),[b,xe(z)]}}}function u(t,e){var r=o?n:qa-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ga(i)>Ca,c=gr(n,6*Da);return Le(t,e,c,o?[0,-n]:[-qa,n-qa])}function Oe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,l=o.y,s=a.x,f=a.y,h=0,g=1,p=s-c,v=f-l;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-l,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-l,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:l+h*v}),1>g&&(u.b={x:c+g*p,y:l+g*v}),u}}}}}}function Ie(n,t,e,r){function u(r,u){return ga(r[0]-n)<Ca?u>0?0:3:ga(r[0]-e)<Ca?u>0?2:1:ga(r[1]-t)<Ca?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&Q(l,i,n)>0&&++t:i[1]<=r&&Q(l,i,n)<0&&--t,l=i;return 0!==t}function l(i,a,c,l){var s=0,f=0;if(null==i||(s=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do l.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+c+4)%4)!==f)}else l.point(a[0],a[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&a.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=0/0}function g(){v&&(p(y,M),x&&w&&A.rejoin(),v.push(A.buffer())),C.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-Tc,Math.min(Tc,n)),t=Math.max(-Tc,Math.min(Tc,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};N(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,E=a,A=Re(),N=Oe(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=ta.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Ce(v,i,t,l,a),a.polygonEnd()),v=d=m=null}};return C}}function Ye(n){var t=0,e=qa/3,r=ir(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*qa/180,e=n[1]*qa/180):[t/qa*180,e/qa*180]},u}function Ze(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,tt((i-(n*n+e*e)*u*u)/(2*u))]},e}function Ve(){function n(n,t){Dc+=u*n-r*t,r=n,u=t}var t,e,r,u;Hc.point=function(i,o){Hc.point=n,t=r=i,e=u=o},Hc.lineEnd=function(){n(t,e)}}function Xe(n,t){Pc>n&&(Pc=n),n>jc&&(jc=n),Uc>t&&(Uc=t),t>Fc&&(Fc=t)}function $e(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Be(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Be(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Be(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function We(n,t){_c+=n,wc+=t,++Sc}function Je(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);kc+=o*(t+n)/2,Ec+=o*(e+r)/2,Ac+=o,We(t=n,e=r)}var t,e;Ic.point=function(r,u){Ic.point=n,We(t=r,e=u)}}function Ge(){Ic.point=We}function Ke(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);kc+=o*(r+n)/2,Ec+=o*(u+t)/2,Ac+=o,o=u*n-r*t,Nc+=o*(r+n),Cc+=o*(u+t),zc+=3*o,We(r=n,u=t)}var t,e,r,u;Ic.point=function(i,o){Ic.point=n,We(t=r=i,e=u=o)},Ic.lineEnd=function(){n(t,e)}}function Qe(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,La)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function nr(n){function t(n){return(a?r:e)(n)}function e(t){return rr(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=0/0,S.point=i,t.lineStart()}function i(e,r){var i=pe([e,r]),o=n(e,r);u(M,x,y,b,_,w,M=o[0],x=o[1],y=e,b=i[0],_=i[1],w=i[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=l,S.lineEnd=s}function l(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c
},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,l,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=a+g,_=c+p,w=l+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),E=ga(ga(w)-1)<Ca||ga(r-h)<Ca?(r+h)/2:Math.atan2(_,b),A=n(E,k),N=A[0],C=A[1],z=N-t,q=C-e,L=M*z-y*q;(L*L/x>i||ga((y*z+M*q)/x-.5)>.3||o>a*g+c*p+l*v)&&(u(t,e,r,a,c,l,N,C,E,b/=S,_/=S,w,d,m),m.point(N,C),u(N,C,E,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Da),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function tr(n){var t=nr(function(t,e){return n([t*Pa,e*Pa])});return function(n){return or(t(n))}}function er(n){this.stream=n}function rr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ur(n){return ir(function(){return n})()}function ir(n){function t(n){return n=a(n[0]*Da,n[1]*Da),[n[0]*h+c,l-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(l-n[1])/h),n&&[n[0]*Pa,n[1]*Pa]}function r(){a=Ae(o=lr(m,M,x),i);var n=i(v,d);return c=g-n[0]*h,l=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,o,a,c,l,s,f=nr(function(n,t){return n=i(n,t),[n[0]*h+c,l-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Lc,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=or(b(o,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Lc):He((w=+n)*Da),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Ie(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Da,d=n[1]%360*Da,r()):[v*Pa,d*Pa]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Da,M=n[1]%360*Da,x=n.length>2?n[2]%360*Da:0,r()):[m*Pa,M*Pa,x*Pa]},ta.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function or(n){return rr(n,function(t,e){n.point(t*Da,e*Da)})}function ar(n,t){return[n,t]}function cr(n,t){return[n>qa?n-La:-qa>n?n+La:n,t]}function lr(n,t,e){return n?t||e?Ae(fr(n),hr(t,e)):fr(n):t||e?hr(t,e):cr}function sr(n){return function(t,e){return t+=n,[t>qa?t-La:-qa>t?t+La:t,e]}}function fr(n){var t=sr(n);return t.invert=sr(-n),t}function hr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*r+a*u;return[Math.atan2(c*i-s*o,a*r-l*u),tt(s*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,l=Math.sin(t),s=l*i-c*o;return[Math.atan2(c*i+l*o,a*r+s*u),tt(s*r-a*u)]},e}function gr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=pr(e,u),i=pr(e,i),(o>0?i>u:u>i)&&(u+=o*La)):(u=n+o*La,i=n-.5*c);for(var l,s=u;o>0?s>i:i>s;s-=c)a.point((l=xe([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],l[1])}}function pr(n,t){var e=pe(t);e[0]-=n,Me(e);var r=nt(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ca)%(2*Math.PI)}function vr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function dr(n,t,e){var r=ta.range(n,t-Ca,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function mr(n){return n.source}function yr(n){return n.target}function Mr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),l=u*Math.sin(n),s=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(it(r-t)+u*o*it(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*s,u=e*l+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Pa,Math.atan2(o,Math.sqrt(r*r+u*u))*Pa]}:function(){return[n*Pa,t*Pa]};return p.distance=h,p}function xr(){function n(n,u){var i=Math.sin(u*=Da),o=Math.cos(u),a=ga((n*=Da)-t),c=Math.cos(a);Yc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Zc.point=function(u,i){t=u*Da,e=Math.sin(i*=Da),r=Math.cos(i),Zc.point=n},Zc.lineEnd=function(){Zc.point=Zc.lineEnd=b}}function br(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function _r(n,t){function e(n,t){o>0?-Ra+Ca>t&&(t=-Ra+Ca):t>Ra-Ca&&(t=Ra-Ca);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(qa/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Ra]},e):Sr}function wr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ga(u)<Ca?ar:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Sr(n,t){return[n,Math.log(Math.tan(qa/4+t/2))]}function kr(n){var t,e=ur(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=qa*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Er(n,t){return[Math.log(Math.tan(qa/4+t/2)),-n]}function Ar(n){return n[0]}function Nr(n){return n[1]}function Cr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function zr(n,t){return n[0]-t[0]||n[1]-t[1]}function qr(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Lr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],l=e[1],s=t[1]-c,f=r[1]-l,h=(a*(c-l)-f*(u-i))/(f*o-a*s);return[u+h*o,c+h*s]}function Tr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Rr(){tu(this),this.edge=this.site=this.circle=null}function Dr(n){var t=el.pop()||new Rr;return t.site=n,t}function Pr(n){Xr(n),Qc.remove(n),el.push(n),tu(n)}function Ur(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Pr(n);for(var c=i;c.circle&&ga(e-c.circle.x)<Ca&&ga(r-c.circle.cy)<Ca;)i=c.P,a.unshift(c),Pr(c),c=i;a.unshift(c),Xr(c);for(var l=o;l.circle&&ga(e-l.circle.x)<Ca&&ga(r-l.circle.cy)<Ca;)o=l.N,a.push(l),Pr(l),l=o;a.push(l),Xr(l);var s,f=a.length;for(s=1;f>s;++s)l=a[s],c=a[s-1],Kr(l.edge,c.site,l.site,u);c=a[0],l=a[f-1],l.edge=Jr(c.site,l.site,null,u),Vr(c),Vr(l)}function jr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Qc._;a;)if(r=Fr(a,o)-i,r>Ca)a=a.L;else{if(u=i-Hr(a,o),!(u>Ca)){r>-Ca?(t=a.P,e=a):u>-Ca?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Dr(n);if(Qc.insert(t,c),t||e){if(t===e)return Xr(t),e=Dr(t.site),Qc.insert(c,e),c.edge=e.edge=Jr(t.site,c.site),Vr(t),void Vr(e);if(!e)return void(c.edge=Jr(t.site,c.site));Xr(t),Xr(e);var l=t.site,s=l.x,f=l.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};Kr(e.edge,l,p,x),c.edge=Jr(l,n,null,x),e.edge=Jr(n,p,null,x),Vr(t),Vr(e)}}function Fr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,l=c-t;if(!l)return a;var s=a-r,f=1/i-1/l,h=s/l;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*l)-c+l/2+u-i/2)))/f+r:(r+a)/2}function Hr(n,t){var e=n.N;if(e)return Fr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Or(n){this.site=n,this.edges=[]}function Ir(n){for(var t,e,r,u,i,o,a,c,l,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Kc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)s=a[o].end(),r=s.x,u=s.y,l=a[++o%c].start(),t=l.x,e=l.y,(ga(r-t)>Ca||ga(u-e)>Ca)&&(a.splice(o,0,new Qr(Gr(i.site,s,ga(r-f)<Ca&&p-u>Ca?{x:f,y:ga(t-f)<Ca?e:p}:ga(u-p)<Ca&&h-r>Ca?{x:ga(e-p)<Ca?t:h,y:p}:ga(r-h)<Ca&&u-g>Ca?{x:h,y:ga(t-h)<Ca?e:g}:ga(u-g)<Ca&&r-f>Ca?{x:ga(e-g)<Ca?t:f,y:g}:null),i.site,null)),++c)}function Yr(n,t){return t.angle-n.angle}function Zr(){tu(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,l=r.y-a,s=i.x-o,f=i.y-a,h=2*(c*f-l*s);if(!(h>=-za)){var g=c*c+l*l,p=s*s+f*f,v=(f*g-l*p)/h,d=(c*p-s*g)/h,f=d+a,m=rl.pop()||new Zr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=tl._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}tl.insert(y,m),y||(nl=m)}}}}function Xr(n){var t=n.circle;t&&(t.P||(nl=t.N),tl.remove(t),rl.push(t),tu(t),n.circle=null)}function $r(n){for(var t,e=Gc,r=Oe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Br(t,n)||!r(t)||ga(t.a.x-t.b.x)<Ca&&ga(t.a.y-t.b.y)<Ca)&&(t.a=t.b=null,e.splice(u,1))}function Br(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],l=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=l)return}else i={x:d,y:c};e={x:d,y:l}}else{if(i){if(i.y<c)return}else i={x:d,y:l};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else{if(i){if(i.y<c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Wr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Jr(n,t,e,r){var u=new Wr(n,t);return Gc.push(u),e&&Kr(u,n,t,e),r&&Kr(u,t,n,r),Kc[n.i].edges.push(new Qr(u,n,t)),Kc[t.i].edges.push(new Qr(u,t,n)),u}function Gr(n,t,e){var r=new Wr(n,null);return r.a=t,r.b=e,Gc.push(r),r}function Kr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Qr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function nu(){this._=null}function tu(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function eu(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ru(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function uu(n){for(;n.L;)n=n.L;return n}function iu(n,t){var e,r,u,i=n.sort(ou).pop();for(Gc=[],Kc=new Array(n.length),Qc=new nu,tl=new nu;;)if(u=nl,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Kc[i.i]=new Or(i),jr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ur(u.arc)}t&&($r(t),Ir(t));var o={cells:Kc,edges:Gc};return Qc=tl=Gc=Kc=null,o}function ou(n,t){return t.y-n.y||t.x-n.x}function au(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function cu(n){return n.x}function lu(n){return n.y}function su(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fu(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&fu(n,c[0],e,r,o,a),c[1]&&fu(n,c[1],o,r,u,a),c[2]&&fu(n,c[2],e,a,o,i),c[3]&&fu(n,c[3],o,a,u,i)}}function hu(n,t,e,r,u,i,o){var a,c=1/0;return function l(n,s,f,h,g){if(!(s>i||f>o||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(c>m){var y=Math.sqrt(c=m);r=t-y,u=e-y,i=t+y,o=e+y,a=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:l(n,s,f,x,b);break;case 1:l(n,x,f,h,b);break;case 2:l(n,s,b,x,g);break;case 3:l(n,x,b,h,g)}}}(n,r,u,i,o),a}function gu(n,t){n=ta.rgb(n),t=ta.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+xt(Math.round(e+i*n))+xt(Math.round(r+o*n))+xt(Math.round(u+a*n))}}function pu(n,t){var e,r={},u={};for(e in n)e in t?r[e]=mu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function vu(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function du(n,t){var e,r,u,i=il.lastIndex=ol.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=il.exec(n))&&(r=ol.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:vu(e,r)})),i=ol.lastIndex;return i<t.length&&(u=t.slice(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function mu(n,t){for(var e,r=ta.interpolators.length;--r>=0&&!(e=ta.interpolators[r](n,t)););return e}function yu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(mu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function Mu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function xu(n){return function(t){return 1-n(1-t)}}function bu(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function _u(n){return n*n}function wu(n){return n*n*n}function Su(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function ku(n){return function(t){return Math.pow(t,n)}}function Eu(n){return 1-Math.cos(n*Ra)}function Au(n){return Math.pow(2,10*(n-1))}function Nu(n){return 1-Math.sqrt(1-n*n)}function Cu(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/La*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*La/t)}}function zu(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function qu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Lu(n,t){n=ta.hcl(n),t=ta.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return st(e+i*n,r+o*n,u+a*n)+""}}function Tu(n,t){n=ta.hsl(n),t=ta.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ct(e+i*n,r+o*n,u+a*n)+""}}function Ru(n,t){n=ta.lab(n),t=ta.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ht(e+i*n,r+o*n,u+a*n)+""}}function Du(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Pu(n){var t=[n.a,n.b],e=[n.c,n.d],r=ju(t),u=Uu(t,e),i=ju(Fu(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Pa,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Pa:0}function Uu(n,t){return n[0]*t[0]+n[1]*t[1]}function ju(n){var t=Math.sqrt(Uu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Fu(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Hu(n,t){var e,r=[],u=[],i=ta.transform(n),o=ta.transform(t),a=i.translate,c=o.translate,l=i.rotate,s=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:vu(a[0],c[0])},{i:3,x:vu(a[1],c[1])})):r.push(c[0]||c[1]?"translate("+c+")":""),l!=s?(l-s>180?s+=360:s-l>180&&(l+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vu(l,s)})):s&&r.push(r.pop()+"rotate("+s+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:vu(g[0],p[0])},{i:e-2,x:vu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Ou(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Iu(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Yu(n){for(var t=n.source,e=n.target,r=Vu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Zu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Vu(n,t){if(n===t)return n;for(var e=Zu(n),r=Zu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Xu(n){n.fixed|=2}function $u(n){n.fixed&=-7}function Bu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Wu(n){n.fixed&=-5}function Ju(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Ju(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*e[n.point.index];n.charge+=n.pointCharge=l,r+=l*n.point.x,u+=l*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Gu(n,t){return ta.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=ri,n}function Ku(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Qu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function ni(n){return n.children}function ti(n){return n.value}function ei(n,t){return t.value-n.value}function ri(n){return ta.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function ui(n){return n.x}function ii(n){return n.y}function oi(n,t,e){n.y0=t,n.y=e}function ai(n){return ta.range(n.length)}function ci(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function li(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function si(n){return n.reduce(fi,0)}function fi(n,t){return n+t[1]}function hi(n,t){return gi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function gi(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function pi(n){return[ta.min(n),ta.max(n)]}function vi(n,t){return n.value-t.value}function di(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function mi(n,t){n._pack_next=t,t._pack_prev=n}function yi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Mi(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(l=e.length)){var e,r,u,i,o,a,c,l,s=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(xi),r=e[0],r.x=-r.r,r.y=0,t(r),l>1&&(u=e[1],u.x=u.r,u.y=0,t(u),l>2))for(i=e[2],wi(r,u,i),t(i),di(r,i),r._pack_prev=i,di(i,u),u=r._pack_next,o=3;l>o;o++){wi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(yi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!yi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?mi(r,u=a):mi(r=c,u),o--):(di(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(o=0;l>o;o++)i=e[o],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(bi)}}function xi(n){n._pack_next=n._pack_prev=n}function bi(n){delete n._pack_next,delete n._pack_prev}function _i(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)_i(u[i],t,e,r)}function wi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+l*i,e.y=n.y+c*i-l*u}else e.x=n.x+r,e.y=n.y}function Si(n,t){return n.parent==t.parent?1:2}function ki(n){var t=n.children;return t.length?t[0]:n.t}function Ei(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ai(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Ni(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Ci(n,t,e){return n.a.parent===t.parent?n.a:e}function zi(n){return 1+ta.max(n,function(n){return n.y})}function qi(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Li(n){var t=n.children;return t&&t.length?Li(t[0]):n}function Ti(n){var t,e=n.children;return e&&(t=e.length)?Ti(e[t-1]):n}function Ri(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Di(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Pi(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ui(n){return n.rangeExtent?n.rangeExtent():Pi(n.range())}function ji(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Fi(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Hi(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ml}function Oi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=ta.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Ii(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Oi:ji,c=r?Iu:Ou;return o=u(n,t,c,e),a=u(t,n,c,mu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Du)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Xi(n,t)},i.tickFormat=function(t,e){return $i(n,t,e)},i.nice=function(t){return Zi(n,t),u()},i.copy=function(){return Ii(n,t,e,r)},u()}function Yi(n,t){return ta.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Zi(n,t){return Fi(n,Hi(Vi(n,t)[2]))}function Vi(n,t){null==t&&(t=10);var e=Pi(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Xi(n,t){return ta.range.apply(ta,Vi(n,t))}function $i(n,t,e){var r=Vi(n,t);if(e){var u=ic.exec(e);if(u.shift(),"s"===u[8]){var i=ta.formatPrefix(Math.max(ga(r[0]),ga(r[1])));return u[7]||(u[7]="."+Bi(i.scale(r[2]))),u[8]="f",e=ta.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Wi(u[8],r)),e=u.join("")}else e=",."+Bi(r[2])+"f";return ta.format(e)}function Bi(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Wi(n,t){var e=Bi(t[2]);return n in yl?Math.abs(e-Bi(Math.max(ga(t[0]),ga(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Ji(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Fi(r.map(u),e?Math:xl);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Pi(r),o=[],a=n[0],c=n[1],l=Math.floor(u(a)),s=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(s-l)){if(e){for(;s>l;l++)for(var h=1;f>h;h++)o.push(i(l)*h);o.push(i(l))}else for(o.push(i(l));l++<s;)for(var h=f-1;h>0;h--)o.push(i(l)*h);for(l=0;o[l]<a;l++);for(s=o.length;o[s-1]>c;s--);o=o.slice(l,s)}return o},o.tickFormat=function(n,t){if(!arguments.length)return Ml;arguments.length<2?t=Ml:"function"!=typeof t&&(t=ta.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Ji(n.copy(),t,e,r)},Yi(o,n)}function Gi(n,t,e){function r(t){return n(u(t))}var u=Ki(t),i=Ki(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Xi(e,n)},r.tickFormat=function(n,t){return $i(e,n,t)},r.nice=function(n){return r.domain(Zi(e,n))},r.exponent=function(o){return arguments.length?(u=Ki(t=o),i=Ki(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Gi(n.copy(),t,e)},Yi(r,n)}function Ki(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Qi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return ta.range(n.length).map(function(n){return t+e*n})}var u,i,o;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new l;for(var i,o=-1,a=r.length;++o<a;)u.has(i=r[o])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,o=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=(c+l)/2,0):(l-c)/(n.length-1+a);return i=r(c+s*a/2,s),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,a){arguments.length<2&&(a=0);var c=u[0],l=u[1],s=n.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(n.length-1+a)|0;return i=r(c+Math.round(s*a/2+(l-c-(n.length-1+a)*s)/2),s),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=(f-s)/(n.length-a+2*c);return i=r(s+h*c,h),l&&i.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=u[1]<u[0],s=u[l-0],f=u[1-l],h=Math.floor((f-s)/(n.length-a+2*c));return i=r(s+Math.round((f-s-(n.length-a)*h)/2),h),l&&i.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Pi(t.a[0])},e.copy=function(){return Qi(n,t)},e.domain(n)}function no(n,t){function i(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ta.quantile(n,e/r);return o}function o(n){return isNaN(n=+n)?void 0:t[ta.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},o.range=function(n){return arguments.length?(t=n,i()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),0>e?[0/0,0/0]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return no(n,t)},i()}function to(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return to(n,t,e)},u()}function eo(n,t){function e(e){return e>=e?t[ta.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return eo(n,t)},e}function ro(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Xi(n,t)},t.tickFormat=function(t,e){return $i(n,t,e)},t.copy=function(){return ro(n)},t}function uo(){return 0}function io(n){return n.innerRadius}function oo(n){return n.outerRadius}function ao(n){return n.startAngle}function co(n){return n.endAngle}function lo(n){return n&&n.padAngle}function so(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function fo(n,t,e,r,u){var i=n[0]-t[0],o=n[1]-t[1],a=(u?r:-r)/Math.sqrt(i*i+o*o),c=a*o,l=-a*i,s=n[0]+c,f=n[1]+l,h=t[0]+c,g=t[1]+l,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(M*M*y-x*x),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,E=_-p,A=w-v,N=S-p,C=k-v;return E*E+A*A>N*N+C*C&&(_=S,w=k),[[_-c,w-l],[_*e/M,w*e/M]]}function ho(n){function t(t){function o(){l.push("M",i(n(s),a))}for(var c,l=[],s=[],f=-1,h=t.length,g=Et(e),p=Et(r);++f<h;)u.call(this,c=t[f],f)?s.push([+g.call(this,c,f),+p.call(this,c,f)]):s.length&&(o(),s=[]);return s.length&&o(),l.length?l.join(""):null}var e=Ar,r=Nr,u=Ne,i=go,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=El.get(n)||go).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function go(n){return n.join("L")}function po(n){return go(n)+"Z"}function vo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function mo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function yo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Mo(n,t){return n.length<4?go(n):n[1]+_o(n.slice(1,-1),wo(n,t))}function xo(n,t){return n.length<3?go(n):n[0]+_o((n.push(n[0]),n),wo([n[n.length-2]].concat(n,[n[1]]),t))}function bo(n,t){return n.length<3?go(n):n[0]+_o(n,wo(n,t))}function _o(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return go(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var l=2;l<t.length;l++,c++)i=n[c],a=t[l],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var s=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+s[0]+","+s[1]}return r}function wo(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function So(n){if(n.length<3)return go(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",No(Cl,o),",",No(Cl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Co(c,o,a);return n.pop(),c.push("L",r),c.join("")}function ko(n){if(n.length<4)return go(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(No(Cl,i)+","+No(Cl,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Co(e,i,o);return e.join("")}function Eo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[No(Cl,o),",",No(Cl,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Co(t,o,a);return t.join("")}function Ao(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,l=-1;++l<=e;)r=n[l],u=l/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return So(n)}function No(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Co(n,t,e){n.push("C",No(Al,t),",",No(Al,e),",",No(Nl,t),",",No(Nl,e),",",No(Cl,t),",",No(Cl,e))}function zo(n,t){return(t[1]-n[1])/(t[0]-n[0])}function qo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=zo(u,i);++t<e;)r[t]=(o+(o=zo(u=i,i=n[t+1])))/2;return r[t]=o,r}function Lo(n){for(var t,e,r,u,i=[],o=qo(n),a=-1,c=n.length-1;++a<c;)t=zo(n[a],n[a+1]),ga(t)<Ca?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function To(n){return n.length<3?go(n):n[0]+_o(n,Lo(n))}function Ro(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Ra,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Do(n){function t(t){function c(){v.push("M",a(n(m),f),s,l(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=Et(e),b=Et(u),_=e===r?function(){return g}:Et(r),w=u===i?function(){return p}:Et(i);++y<M;)o.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ar,r=Ar,u=0,i=Nr,o=Ne,a=go,c=a.key,l=a,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r
},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=El.get(n)||go).key,l=a.reverse||a,s=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Po(n){return n.radius}function Uo(n){return[n.x,n.y]}function jo(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ra;return[e*Math.cos(r),e*Math.sin(r)]}}function Fo(){return 64}function Ho(){return"circle"}function Oo(n){var t=Math.sqrt(n/qa);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Io(n){return function(){var t,e;(t=this[n])&&(e=t[t.active])&&(--t.count?delete t[t.active]:delete this[n],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Yo(n,t,e){return ya(n,Pl),n.namespace=t,n.id=e,n}function Zo(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[i][u].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Vo(n){return null==n&&(n=""),function(){this.textContent=n}}function Xo(n){return null==n?"__transition__":"__transition_"+n+"__"}function $o(n,t,e,r,u){var i=n[e]||(n[e]={active:0,count:0}),o=i[r];if(!o){var a=u.time;o=i[r]={tween:new l,time:a,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++i.count,ta.timer(function(u){function c(e){if(i.active>r)return s();var u=i[i.active];u&&(--i.count,delete i[i.active],u.event&&u.event.interrupt.call(n,n.__data__,u.index)),i.active=r,o.event&&o.event.start.call(n,n.__data__,t),o.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&v.push(r)}),h=o.ease,f=o.duration,ta.timer(function(){return p.c=l(e||1)?Ne:l,1},0,a)}function l(e){if(i.active!==r)return 1;for(var u=e/f,a=h(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,n.__data__,t),s()):void 0}function s(){return--i.count?delete i[r]:delete n[e],1}var f,h,g=o.delay,p=ec,v=[];return p.t=g+a,u>=g?c(u-g):void(p.c=c)},0,a)}}function Bo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function Wo(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function Jo(n){return n.toISOString()}function Go(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=ta.bisect(Vl,u);return i==Vl.length?[t.year,Vi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Vl[i-1]<Vl[i]/u?i-1:i]:[Bl,Vi(n,e)[2]]}return r.invert=function(t){return Ko(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Ko)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Ko(+e+1),t).length}var i=r.domain(),o=Pi(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Fi(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Ko(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Ko(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Pi(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Ko(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Go(n.copy(),t,e)},Yi(r,n)}function Ko(n){return new Date(n)}function Qo(n){return JSON.parse(n.responseText)}function na(n){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(n.responseText)}var ta={version:"3.5.6"},ea=[].slice,ra=function(n){return ea.call(n)},ua=this.document;if(ua)try{ra(ua.documentElement.childNodes)[0].nodeType}catch(ia){ra=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(oa){var aa=this.Element.prototype,ca=aa.setAttribute,la=aa.setAttributeNS,sa=this.CSSStyleDeclaration.prototype,fa=sa.setProperty;aa.setAttribute=function(n,t){ca.call(this,n,t+"")},aa.setAttributeNS=function(n,t,e){la.call(this,n,t,e+"")},sa.setProperty=function(n,t,e){fa.call(this,n,t+"",e)}}ta.ascending=e,ta.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},ta.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},ta.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},ta.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},ta.sum=function(n,t){var e,r=0,i=n.length,o=-1;if(1===arguments.length)for(;++o<i;)u(e=+n[o])&&(r+=e);else for(;++o<i;)u(e=+t.call(n,n[o],o))&&(r+=e);return r},ta.mean=function(n,t){var e,i=0,o=n.length,a=-1,c=o;if(1===arguments.length)for(;++a<o;)u(e=r(n[a]))?i+=e:--c;else for(;++a<o;)u(e=r(t.call(n,n[a],a)))?i+=e:--c;return c?i/c:void 0},ta.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},ta.median=function(n,t){var i,o=[],a=n.length,c=-1;if(1===arguments.length)for(;++c<a;)u(i=r(n[c]))&&o.push(i);else for(;++c<a;)u(i=r(t.call(n,n[c],c)))&&o.push(i);return o.length?ta.quantile(o.sort(e),.5):void 0},ta.variance=function(n,t){var e,i,o=n.length,a=0,c=0,l=-1,s=0;if(1===arguments.length)for(;++l<o;)u(e=r(n[l]))&&(i=e-a,a+=i/++s,c+=i*(e-a));else for(;++l<o;)u(e=r(t.call(n,n[l],l)))&&(i=e-a,a+=i/++s,c+=i*(e-a));return s>1?c/(s-1):void 0},ta.deviation=function(){var n=ta.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ha=i(e);ta.bisectLeft=ha.left,ta.bisect=ta.bisectRight=ha.right,ta.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},ta.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},ta.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ta.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},ta.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ta.min(arguments,o),e=new Array(t);++n<t;)for(var r,u=-1,i=e[n]=new Array(r);++u<r;)i[u]=arguments[u][n];return e},ta.transpose=function(n){return ta.zip.apply(ta,n)},ta.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ta.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ta.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ta.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var ga=Math.abs;ta.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=a(ga(e)),o=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++o)>t;)u.push(r/i);else for(;(r=n+e*++o)<t;)u.push(r/i);return u},ta.map=function(n,t){var e=new l;if(n instanceof l)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var o in n)e.set(o,n[o]);return e};var pa="__proto__",va="\x00";c(l,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),ta.nest=function(){function n(t,o,a){if(a>=i.length)return r?r.call(u,o):e?o.sort(e):o;for(var c,s,f,h,g=-1,p=o.length,v=i[a++],d=new l;++g<p;)(h=d.get(c=v(s=o[g])))?h.push(s):d.set(c,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,a))}):(s={},f=function(e,r){s[e]=n(t,r,a)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=o[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],o=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(ta.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return o[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},ta.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},c(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),ta.behavior={},ta.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var da=["webkit","ms","moz","Moz","o","O"];ta.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ta.event=null,ta.requote=function(n){return n.replace(ma,"\\$&")};var ma=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ya={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},Ma=function(n,t){return t.querySelector(n)},xa=function(n,t){return t.querySelectorAll(n)},ba=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(ba=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(Ma=function(n,t){return Sizzle(n,t)[0]||null},xa=Sizzle,ba=Sizzle.matchesSelector),ta.selection=function(){return ta.select(ua.documentElement)};var _a=ta.selection.prototype=[];_a.select=function(n){var t,e,r,u,i=[];n=N(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,l=r.length;++c<l;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return A(i)},_a.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=ra(n.call(e,e.__data__,a,u))),t.parentNode=e);return A(r)};var wa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ta.ns={prefix:wa,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.slice(0,t),n=n.slice(t+1)),wa.hasOwnProperty(e)?{space:wa[e],local:n}:n}},_a.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ta.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},_a.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!L(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},_a.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},_a.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},_a.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},_a.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},_a.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},_a.insert=function(n,t){return n=j(n),t=N(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},_a.remove=function(){return this.each(F)},_a.data=function(n,t){function e(n,e){var r,u,i,o=n.length,f=e.length,h=Math.min(o,f),g=new Array(f),p=new Array(f),v=new Array(o);if(t){var d,m=new l,y=new Array(o);for(r=-1;++r<o;)m.has(d=t.call(u=n[r],u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d;for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;o>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,a.push(p),c.push(g),s.push(v)}var r,u,i=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++i<o;)(u=r[i])&&(n[i]=u.__data__);return n}var a=Z([]),c=A([]),s=A([]);if("function"==typeof n)for(;++i<o;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<o;)e(r=this[i],n);return c.enter=function(){return a},c.exit=function(){return s},c},_a.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},_a.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return A(u)},_a.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},_a.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},_a.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},_a.call=function(n){var t=ra(arguments);return n.apply(t[0]=this,t),this},_a.empty=function(){return!this.node()},_a.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},_a.size=function(){var n=0;return Y(this,function(){++n}),n};var Sa=[];ta.selection.enter=Z,ta.selection.enter.prototype=Sa,Sa.append=_a.append,Sa.empty=_a.empty,Sa.node=_a.node,Sa.call=_a.call,Sa.size=_a.size,Sa.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var l=-1,s=u.length;++l<s;)(i=u[l])?(t.push(r[l]=e=n.call(u.parentNode,i.__data__,l,a)),e.__data__=i.__data__):t.push(null)}return A(o)},Sa.insert=function(n,t){return arguments.length<2&&(t=V(this)),_a.insert.call(this,n,t)},ta.select=function(t){var e;return"string"==typeof t?(e=[Ma(t,ua)],e.parentNode=ua.documentElement):(e=[t],e.parentNode=n(t)),A([e])},ta.selectAll=function(n){var t;return"string"==typeof n?(t=ra(xa(n,ua)),t.parentNode=ua.documentElement):(t=n,t.parentNode=null),A([t])},_a.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var ka=ta.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&ka.forEach(function(n){"on"+n in ua&&ka.remove(n)});var Ea,Aa=0;ta.mouse=function(n){return J(n,k())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ta.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},ta.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(n,t,e,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&ta.event.target===f),g({type:"dragend"}))}var l,s=this,f=ta.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=ta.select(e(f)).on(i+d,a).on(o+d,c),y=W(f),M=t(h,v);u?(l=u.apply(s,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],g({type:"dragstart"})}}var r=E(n,"drag","dragstart","dragend"),u=null,i=e(b,ta.mouse,t,"mousemove","mouseup"),o=e(G,ta.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},ta.rebind(n,r,"on")},ta.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ra(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ca=1e-6,za=Ca*Ca,qa=Math.PI,La=2*qa,Ta=La-Ca,Ra=qa/2,Da=qa/180,Pa=180/qa,Ua=Math.SQRT2,ja=2,Fa=4;ta.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=rt(v),o=i/(ja*h)*(e*ut(Ua*t+v)-et(v));return[r+o*l,u+o*s,i*e/rt(Ua*t+v)]}return[r+n*l,u+n*s,i*Math.exp(Ua*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],l=o-r,s=a-u,f=l*l+s*s,h=Math.sqrt(f),g=(c*c-i*i+Fa*f)/(2*i*ja*h),p=(c*c-i*i-Fa*f)/(2*c*ja*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Ua;return e.duration=1e3*y,e},ta.behavior.zoom=function(){function n(n){n.on(q,f).on(Oa+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(N[0],Math.min(N[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,o)),i(d=e,r),t=ta.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function c(n){z++||n({type:"zoomstart"})}function l(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||(n({type:"zoomend"}),d=null)}function f(){function n(){f=1,i(ta.mouse(u),g),l(a)}function r(){h.on(L,null).on(T,null),p(f&&ta.event.target===o),s(a)}var u=this,o=ta.event.target,a=D.of(u,arguments),f=0,h=ta.select(t(u)).on(L,n).on(T,r),g=e(ta.mouse(u)),p=W(u);Dl.call(u),c(a)}function h(){function n(){var n=ta.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ta.event.target;ta.select(t).on(x,r).on(b,a),_.push(t);for(var e=ta.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var c=n(),l=Date.now();if(1===c.length){if(500>l-M){var s=c[0];o(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=l}else if(c.length>1){var s=c[0],f=c[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,o=ta.touches(p);Dl.call(p);for(var a=0,c=o.length;c>a;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),l(v)}function a(){if(ta.event.touches.length){for(var t=ta.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}ta.selectAll(_).on(y,null),w.on(q,f).on(R,h),E(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+ta.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=ta.select(p),E=W(p);t(),c(v),w.on(q,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(Dl.call(this),v=e(d=m||ta.mouse(this)),c(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*Ha())*k.k),i(d,v),l(n)}function p(){var n=ta.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ta.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},A=[960,500],N=Ia,C=250,z=0,q="mousedown.zoom",L="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=E(n,"zoomstart","zoom","zoomend");return Oa||(Oa="onwheel"in ua?(Ha=function(){return-ta.event.deltaY*(ta.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ha=function(){return ta.event.wheelDelta},"mousewheel"):(Ha=function(){return-ta.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Tl?ta.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},c(n)}).tween("zoom:zoom",function(){var e=A[0],r=A[1],u=d?d[0]:e/2,i=d?d[1]:r/2,o=ta.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:u-r[0]*a,y:i-r[1]*a,k:a},l(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,c(n),l(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:+t},a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(N=null==t?Ia:[+t[0],+t[1]],n):N},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],n):A},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ta.rebind(n,D,"on")};var Ha,Oa,Ia=[0,1/0];ta.color=ot,ot.prototype.toString=function(){return this.rgb()+""},ta.hsl=at;var Ya=at.prototype=new ot;Ya.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,this.l/n)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new at(this.h,this.s,n*this.l)},Ya.rgb=function(){return ct(this.h,this.s,this.l)},ta.hcl=lt;var Za=lt.prototype=new ot;Za.brighter=function(n){return new lt(this.h,this.c,Math.min(100,this.l+Va*(arguments.length?n:1)))},Za.darker=function(n){return new lt(this.h,this.c,Math.max(0,this.l-Va*(arguments.length?n:1)))},Za.rgb=function(){return st(this.h,this.c,this.l).rgb()},ta.lab=ft;var Va=18,Xa=.95047,$a=1,Ba=1.08883,Wa=ft.prototype=new ot;Wa.brighter=function(n){return new ft(Math.min(100,this.l+Va*(arguments.length?n:1)),this.a,this.b)},Wa.darker=function(n){return new ft(Math.max(0,this.l-Va*(arguments.length?n:1)),this.a,this.b)},Wa.rgb=function(){return ht(this.l,this.a,this.b)},ta.rgb=mt;var Ja=mt.prototype=new ot;Ja.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new mt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mt(u,u,u)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mt(n*this.r,n*this.g,n*this.b)},Ja.hsl=function(){return _t(this.r,this.g,this.b)},Ja.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Ga=ta.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(n,t){Ga.set(n,yt(t))}),ta.functor=Et,ta.xhr=At(y),ta.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Nt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=l)return o;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;l>s;){var r=n.charCodeAt(s++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++a);else if(r!==c)continue;return n.slice(t,s-a)}return n.slice(t)}for(var r,u,i={},o={},a=[],l=n.length,s=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,f++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},ta.csv=ta.dsv(",","text/csv"),ta.tsv=ta.dsv("	","text/tab-separated-values");var Ka,Qa,nc,tc,ec,rc=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ta.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Qa?Qa.n=i:Ka=i,Qa=i,nc||(tc=clearTimeout(tc),nc=1,rc(qt))},ta.timer.flush=function(){Lt(),Tt()},ta.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var uc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Dt);ta.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=ta.round(n,Rt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),uc[8+e/3]};var ic=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,oc=ta.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ta.round(n,Rt(n,t))).toFixed(Math.max(0,Math.min(20,Rt(n*(1+1e-15),t))))}}),ac=ta.time={},cc=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lc.setUTCDate.apply(this._,arguments)},setDay:function(){lc.setUTCDay.apply(this._,arguments)},setFullYear:function(){lc.setUTCFullYear.apply(this._,arguments)},setHours:function(){lc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){lc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lc.setUTCSeconds.apply(this._,arguments)},setTime:function(){lc.setTime.apply(this._,arguments)}};var lc=Date.prototype;ac.year=Ft(function(n){return n=ac.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ac.years=ac.year.range,ac.years.utc=ac.year.utc.range,ac.day=Ft(function(n){var t=new cc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ac.days=ac.day.range,ac.days.utc=ac.day.utc.range,ac.dayOfYear=function(n){var t=ac.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ac[n]=Ft(function(n){return(n=ac.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ac[n+"s"]=e.range,ac[n+"s"].utc=e.utc.range,ac[n+"OfYear"]=function(n){var e=ac.year(n).getDay();return Math.floor((ac.dayOfYear(n)+(e+t)%7)/7)}}),ac.week=ac.sunday,ac.weeks=ac.sunday.range,ac.weeks.utc=ac.sunday.utc.range,ac.weekOfYear=ac.sundayOfYear;var sc={"-":"",_:" ",0:"0"},fc=/^\s*\d+/,hc=/^%/;ta.locale=function(n){return{numberFormat:Pt(n),timeFormat:Ot(n)}};var gc=ta.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ta.format=gc.numberFormat,ta.geo={},ce.prototype={s:0,t:0,add:function(n){le(n,this.t,pc),le(pc.s,this.s,this),this.s?this.t+=pc.t:this.s=pc.t
},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pc=new ce;ta.geo.stream=function(n,t){n&&vc.hasOwnProperty(n.type)?vc[n.type](n,t):se(n,t)};var vc={Feature:function(n,t){se(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)se(e[r].geometry,t)}},dc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){fe(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)fe(e[r],t,0)},Polygon:function(n,t){he(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)he(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)se(e[r],t)}};ta.geo.area=function(n){return mc=0,ta.geo.stream(n,Mc),mc};var mc,yc=new ce,Mc={sphere:function(){mc+=4*qa},point:b,lineStart:b,lineEnd:b,polygonStart:function(){yc.reset(),Mc.lineStart=ge},polygonEnd:function(){var n=2*yc;mc+=0>n?4*qa+n:n,Mc.lineStart=Mc.lineEnd=Mc.point=b}};ta.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=pe([t*Da,e*Da]);if(m){var u=de(m,r),i=[u[1],-u[0],0],o=de(i,u);Me(o),o=xe(o);var c=t-p,l=c>0?1:-1,v=o[0]*Pa*l,d=ga(c)>180;if(d^(v>l*p&&l*t>v)){var y=o[1]*Pa;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>l*p&&l*t>v)){var y=-o[1]*Pa;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?a(s,t)>a(s,h)&&(h=t):a(t,h)>a(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ga(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Mc.point(n,e),t(n,e)}function i(){Mc.lineStart()}function o(){u(v,d),Mc.lineEnd(),ga(y)>Ca&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function l(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=o,y=0,Mc.polygonStart()},polygonEnd:function(){Mc.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>yc?(s=-(h=180),f=-(g=90)):y>Ca?g=90:-Ca>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],ta.geo.stream(n,b);var t=M.length;if(t){M.sort(c);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],l(e[0],u)||l(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,s=e[0],h=u[1])}return M=x=null,1/0===s||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[s,f],[h,g]]}}(),ta.geo.centroid=function(n){xc=bc=_c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,qc);var t=Nc,e=Cc,r=zc,u=t*t+e*e+r*r;return za>u&&(t=kc,e=Ec,r=Ac,Ca>bc&&(t=_c,e=wc,r=Sc),u=t*t+e*e+r*r,za>u)?[0/0,0/0]:[Math.atan2(e,t)*Pa,tt(r/Math.sqrt(u))*Pa]};var xc,bc,_c,wc,Sc,kc,Ec,Ac,Nc,Cc,zc,qc={sphere:b,point:_e,lineStart:Se,lineEnd:ke,polygonStart:function(){qc.lineStart=Ee},polygonEnd:function(){qc.lineStart=Se}},Lc=Le(Ne,Pe,je,[-qa,-qa/2]),Tc=1e9;ta.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ie(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ta.geo.conicEqualArea=function(){return Ye(Ze)}).raw=Ze,ta.geo.albers=function(){return ta.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ta.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=ta.geo.albers(),o=ta.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ta.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var l=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*l,f-.238*l],[s+.455*l,f+.238*l]]).stream(c).point,r=o.translate([s-.307*l,f+.201*l]).clipExtent([[s-.425*l+Ca,f+.12*l+Ca],[s-.214*l-Ca,f+.234*l-Ca]]).stream(c).point,u=a.translate([s-.205*l,f+.212*l]).clipExtent([[s-.214*l+Ca,f+.166*l+Ca],[s-.115*l-Ca,f+.234*l-Ca]]).stream(c).point,n},n.scale(1070)};var Rc,Dc,Pc,Uc,jc,Fc,Hc={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Dc=0,Hc.lineStart=Ve},polygonEnd:function(){Hc.lineStart=Hc.lineEnd=Hc.point=b,Rc+=ga(Dc/2)}},Oc={point:Xe,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ic={point:We,lineStart:Je,lineEnd:Ge,polygonStart:function(){Ic.lineStart=Ke},polygonEnd:function(){Ic.point=We,Ic.lineStart=Je,Ic.lineEnd=Ge}};ta.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),ta.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Rc=0,ta.geo.stream(n,u(Hc)),Rc},n.centroid=function(n){return _c=wc=Sc=kc=Ec=Ac=Nc=Cc=zc=0,ta.geo.stream(n,u(Ic)),zc?[Nc/zc,Cc/zc]:Ac?[kc/Ac,Ec/Ac]:Sc?[_c/Sc,wc/Sc]:[0/0,0/0]},n.bounds=function(n){return jc=Fc=-(Pc=Uc=1/0),ta.geo.stream(n,u(Oc)),[[Pc,Uc],[jc,Fc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||tr(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new $e:new Qe(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(ta.geo.albersUsa()).context(null)},ta.geo.transform=function(n){return{stream:function(t){var e=new er(t);for(var r in n)e[r]=n[r];return e}}},er.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ta.geo.projection=ur,ta.geo.projectionMutator=ir,(ta.geo.equirectangular=function(){return ur(ar)}).raw=ar.invert=ar,ta.geo.rotation=function(n){function t(t){return t=n(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t}return n=lr(n[0]%360*Da,n[1]*Da,n.length>2?n[2]*Da:0),t.invert=function(t){return t=n.invert(t[0]*Da,t[1]*Da),t[0]*=Pa,t[1]*=Pa,t},t},cr.invert=ar,ta.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=lr(-n[0]*Da,-n[1]*Da,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Pa,n[1]*=Pa}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=gr((t=+r)*Da,u*Da),n):t},n.precision=function(r){return arguments.length?(e=gr(t*Da,(u=+r)*Da),n):u},n.angle(90)},ta.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Da,u=n[1]*Da,i=t[1]*Da,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),l=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=l*s-c*f*a)*e),c*s+l*f*a)},ta.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ta.range(Math.ceil(i/d)*d,u,d).map(h).concat(ta.range(Math.ceil(l/m)*m,c,m).map(g)).concat(ta.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ga(n%d)>Ca}).map(s)).concat(ta.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ga(n%m)>Ca}).map(f))}var e,r,u,i,o,a,c,l,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(l).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],l=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),l>c&&(t=l,l=c,c=t),n.precision(y)):[[i,l],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=vr(a,o,90),f=dr(r,e,y),h=vr(l,c,90),g=dr(i,u,y),n):y},n.majorExtent([[-180,-90+Ca],[180,90-Ca]]).minorExtent([[-180,-80-Ca],[180,80+Ca]])},ta.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=mr,u=yr;return n.distance=function(){return ta.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},ta.geo.interpolate=function(n,t){return Mr(n[0]*Da,n[1]*Da,t[0]*Da,t[1]*Da)},ta.geo.length=function(n){return Yc=0,ta.geo.stream(n,Zc),Yc};var Yc,Zc={sphere:b,point:b,lineStart:xr,lineEnd:b,polygonStart:b,polygonEnd:b},Vc=br(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ta.geo.azimuthalEqualArea=function(){return ur(Vc)}).raw=Vc;var Xc=br(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(ta.geo.azimuthalEquidistant=function(){return ur(Xc)}).raw=Xc,(ta.geo.conicConformal=function(){return Ye(_r)}).raw=_r,(ta.geo.conicEquidistant=function(){return Ye(wr)}).raw=wr;var $c=br(function(n){return 1/n},Math.atan);(ta.geo.gnomonic=function(){return ur($c)}).raw=$c,Sr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ra]},(ta.geo.mercator=function(){return kr(Sr)}).raw=Sr;var Bc=br(function(){return 1},Math.asin);(ta.geo.orthographic=function(){return ur(Bc)}).raw=Bc;var Wc=br(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ta.geo.stereographic=function(){return ur(Wc)}).raw=Wc,Er.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ra]},(ta.geo.transverseMercator=function(){var n=kr(Er),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Er,ta.geom={},ta.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=Et(e),i=Et(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(zr),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var l=Cr(a),s=Cr(c),f=s[0]===l[0],h=s[s.length-1]===l[l.length-1],g=[];for(t=l.length-1;t>=0;--t)g.push(n[a[l[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[a[s[t]][2]]);return g}var e=Ar,r=Nr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ta.geom.polygon=function(n){return ya(n,Jc),n};var Jc=ta.geom.polygon.prototype=[];Jc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Jc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Jc.clip=function(n){for(var t,e,r,u,i,o,a=Tr(n),c=-1,l=this.length-Tr(this),s=this[l-1];++c<l;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],qr(o,s,u)?(qr(i,s,u)||n.push(Lr(i,o,s,u)),n.push(o)):qr(i,s,u)&&n.push(Lr(i,o,s,u)),i=o;a&&n.push(n[0]),s=u}return n};var Gc,Kc,Qc,nl,tl,el=[],rl=[];Or.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Yr),t.length},Qr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nu.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=uu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(eu(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ru(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ru(this,e),n=e,e=n.U),e.C=!1,r.C=!0,eu(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?uu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,eu(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ru(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,eu(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ru(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,eu(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ru(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},ta.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return iu(e(n),a).cells.forEach(function(e,a){var c=e.edges,l=e.site,s=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=r&&l.x<=i&&l.y>=u&&l.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];s.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Ca)*Ca,y:Math.round(o(n,t)/Ca)*Ca,i:t}})}var r=Ar,u=Nr,i=r,o=u,a=ul;return n?t(n):(t.links=function(n){return iu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return iu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Yr),c=-1,l=a.length,s=a[l-1].edge,f=s.l===o?s.r:s.l;++c<l;)u=s,i=f,s=a[c].edge,f=s.l===o?s.r:s.l,r<i.i&&r<f.i&&au(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=Et(r=n),t):r},t.y=function(n){return arguments.length?(o=Et(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?ul:n,t):a===ul?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ul?null:a&&a[1]},t)};var ul=[[-1e6,-1e6],[1e6,1e6]];ta.geom.delaunay=function(n){return ta.geom.voronoi().triangles(n)},ta.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(ga(c-e)+ga(s-r)<.01)l(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,l(n,f,c,s,u,i,o,a),l(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else l(n,t,e,r,u,i,o,a)}function l(n,t,e,r,u,o,a,c){var l=.5*(u+a),s=.5*(o+c),f=e>=l,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=su()),f?u=l:a=l,h?o=s:c=s,i(n,t,e,r,u,o,a,c)}var s,f,h,g,p,v,d,m,y,M=Et(a),x=Et(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=su();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){fu(n,k,v,d,m,y)},k.find=function(n){return hu(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var o,a=Ar,c=Nr;return(o=arguments.length)?(a=cu,c=lu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},ta.interpolateRgb=gu,ta.interpolateObject=pu,ta.interpolateNumber=vu,ta.interpolateString=du;var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ol=new RegExp(il.source,"g");ta.interpolate=mu,ta.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ga.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?gu:du:t instanceof ot?gu:Array.isArray(t)?yu:"object"===e&&isNaN(t)?pu:vu)(n,t)}],ta.interpolateArray=yu;var al=function(){return y},cl=ta.map({linear:al,poly:ku,quad:function(){return _u},cubic:function(){return wu},sin:function(){return Eu},exp:function(){return Au},circle:function(){return Nu},elastic:Cu,back:zu,bounce:function(){return qu}}),ll=ta.map({"in":y,out:xu,"in-out":bu,"out-in":function(n){return bu(xu(n))}});ta.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=cl.get(e)||al,r=ll.get(r)||y,Mu(r(e.apply(null,ea.call(arguments,1))))},ta.interpolateHcl=Lu,ta.interpolateHsl=Tu,ta.interpolateLab=Ru,ta.interpolateRound=Du,ta.transform=function(n){var t=ua.createElementNS(ta.ns.prefix.svg,"g");return(ta.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Pu(e?e.matrix:sl)})(n)},Pu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var sl={a:1,b:0,c:0,d:1,e:0,f:0};ta.interpolateTransform=Hu,ta.layout={},ta.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Yu(n[e]));return t}},ta.layout.chord=function(){function n(){var n,l,f,h,g,p={},v=[],d=ta.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(l=0,g=-1;++g<i;)l+=u[h][g];v.push(l),m.push(ta.range(i)),n+=l}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(La-s*i)/n,l=0,h=-1;++h<i;){for(f=l,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=l,_=l+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/n},l+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,l={},s=0;return l.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,l):u},l.padding=function(n){return arguments.length?(s=n,e=r=null,l):s},l.sortGroups=function(n){return arguments.length?(o=n,e=r=null,l):o},l.sortSubgroups=function(n){return arguments.length?(a=n,e=null,l):a},l.sortChords=function(n){return arguments.length?(c=n,e&&t(),l):c},l.chords=function(){return e||n(),e},l.groups=function(){return r||n(),r},l},ta.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var l=t.charge/c;n.px-=i*l,n.py-=o*l}return!0}if(t.point&&c&&p>c){var l=t.pointCharge/c;n.px-=i*l,n.py-=o*l}}return!t.charge}}function t(n){n.px=ta.event.x,n.py=ta.event.y,a.resume()}var e,r,u,i,o,a={},c=ta.dispatch("start","tick","end"),l=[1,1],s=.9,f=fl,h=hl,g=-30,p=gl,v=.1,d=.64,m=[],M=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,y,x,b=m.length,_=M.length;for(e=0;_>e;++e)a=M[e],f=a.source,h=a.target,y=h.x-f.x,x=h.y-f.y,(p=y*y+x*x)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,y*=p,x*=p,h.x-=y*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=y*(d=1-d),f.y+=x*d);if((d=r*v)&&(y=l[0]/2,x=l[1]/2,e=-1,d))for(;++e<b;)a=m[e],a.x+=(y-a.x)*d,a.y+=(x-a.y)*d;if(g)for(Ju(t=ta.geom.quadtree(m),r,o),e=-1;++e<b;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<b;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*s,a.y-=(a.py-(a.py=a.y))*s);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(M=n,a):M},a.size=function(n){return arguments.length?(l=n,a):l},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(s=+n,a):s},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),ta.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){var u=M[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,l=o.length;++a<l;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,s=M.length,p=l[0],v=l[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;s>t;++t)r=M[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;s>t;++t)u[t]=+f.call(this,M[t],t);else for(t=0;s>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;s>t;++t)i[t]=+h.call(this,M[t],t);else for(t=0;s>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=ta.behavior.drag().origin(y).on("dragstart.force",Xu).on("drag.force",t).on("dragend.force",$u)),arguments.length?void this.on("mouseover.force",Bu).on("mouseout.force",Wu).call(e):e},ta.rebind(a,c,"on")};var fl=20,hl=1,gl=1/0;ta.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(l=e.call(n,i,i.depth))&&(c=l.length)){for(var c,l,s;--c>=0;)o.push(s=l[c]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=l}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Qu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=ei,e=ni,r=ti;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(Ku(t,function(n){n.children&&(n.value=0)}),Qu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ta.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(a=i[l],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=ta.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Gu(e,r)},ta.layout.pie=function(){function n(o){var a,c=o.length,l=o.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=(f-c*g)/ta.sum(l),v=ta.range(c),d=[];return null!=e&&v.sort(e===pl?function(n,t){return l[t]-l[n]}:function(n,t){return e(o[n],o[t])}),v.forEach(function(n){d[n]={data:o[n],value:a=l[n],startAngle:s,endAngle:s+=a*p+g,padAngle:h}}),d}var t=Number,e=pl,r=0,u=La,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var pl={};ta.layout.stack=function(){function n(a,c){if(!(h=a.length))return a;var l=a.map(function(e,r){return t.call(n,e,r)}),s=l.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,s,c);l=ta.permute(l,f),s=ta.permute(s,f);var h,g,p,v,d=r.call(n,s,c),m=l[0].length;for(p=0;m>p;++p)for(u.call(n,l[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,l[g][p],v+=s[g-1][p][1],s[g][p][1]);return a}var t=y,e=ai,r=ci,u=oi,i=ui,o=ii;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:vl.get(t)||ai,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:dl.get(t)||ci,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var vl=ta.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(li),i=n.map(si),o=ta.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,l=[],s=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],l.push(e)):(c+=i[e],s.push(e));return s.reverse().concat(l)},reverse:function(n){return ta.range(n.length).reverse()},"default":ai}),dl=ta.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,l,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=l=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];s>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,l>c&&(l=c)}for(e=0;h>e;++e)g[e]-=l;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ci});ta.layout.histogram=function(){function n(n,i){for(var o,a,c=[],l=n.map(e,this),s=r.call(this,l,i),f=u.call(this,s,l,i),i=-1,h=l.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=l[i],a>=s[0]&&a<=s[1]&&(o=c[ta.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=pi,u=hi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=Et(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return gi(n,t)}:Et(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ta.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],l=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Qu(a,function(n){n.r=+s(n.value)}),Qu(a,Mi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/l))/2;Qu(a,function(n){n.r+=f}),Qu(a,Mi),Qu(a,function(n){n.r-=f})}return _i(a,c/2,l/2,t?1:1/Math.max(2*a.r/c,2*a.r/l)),o}var t,e=ta.layout.hierarchy().sort(vi),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Gu(n,e)},ta.layout.tree=function(){function n(n,u){var s=o.call(this,n,u),f=s[0],h=t(f);if(Qu(h,e),h.parent.m=-h.z,Ku(h,r),l)Ku(f,i);else{var g=f,p=f,v=f;Ku(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);Ku(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Ni(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],l=u.m,s=i.m,f=o.m,h=c.m;o=Ei(o),u=ki(u),o&&u;)c=ki(c),i=Ei(i),i.a=n,r=o.z+f-u.z-l+a(o._,u._),r>0&&(Ai(Ci(o,n,e),n,r),l+=r,s+=r),f+=o.m,l+=u.m,h+=c.m,s+=i.m;o&&!Ei(i)&&(i.t=o,i.m+=f-s),u&&!ki(c)&&(c.t=u,c.m+=l-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=ta.layout.hierarchy().sort(null).value(null),a=Si,c=[1,1],l=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(l=null==(c=t)?i:null,n):l?null:c},n.nodeSize=function(t){return arguments.length?(l=null==(c=t)?null:i,n):l?c:null},Gu(n,o)},ta.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],l=0;Qu(c,function(n){var t=n.children;t&&t.length?(n.x=qi(t),n.y=zi(t)):(n.x=o?l+=e(n,o):0,n.y=0,o=n)});var s=Li(c),f=Ti(c),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return Qu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=ta.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Gu(n,t)},ta.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,l=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?l.dx:"dice"===g?l.dy:"slice-dice"===g?1&e.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(n(h,l.dx*l.dy/e.value),s.area=0;(c=h.length)>0;)s.push(o=h[c-1]),s.area+=o.area,"squarify"!==g||(a=r(s,v))<=p?(h.pop(),p=a):(s.area-=s.pop().area,u(s,v,l,!1),v=Math.min(l.dx,l.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,l,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,l=e.y,s=t?c(n.area/t):0;if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<o;)u=n[i],u.x=a,u.y=l,u.dy=s,a+=u.dx=Math.min(e.x+e.dx-a,s?c(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<o;)u=n[i],u.x=a,u.y=l,u.dx=s,l+=u.dy=Math.min(e.y+e.dy-l,s?c(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-l,e.x+=s,e.dx-=s}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=ta.layout.hierarchy(),c=Math.round,l=[1,1],s=null,f=Ri,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));
return i.size=function(n){return arguments.length?(l=n,i):l},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ri(t):Di(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Di(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ri:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Gu(i,a)},ta.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=ta.random.normal.apply(ta,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ta.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},ta.scale={};var ml={floor:y,ceil:y};ta.scale.linear=function(){return Ii([0,1],[0,1],mu,!1)};var yl={s:1,g:1,p:1,r:1,e:1};ta.scale.log=function(){return Ji(ta.scale.linear().domain([0,1]),10,!0,[1,10])};var Ml=ta.format(".0e"),xl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ta.scale.pow=function(){return Gi(ta.scale.linear(),1,[0,1])},ta.scale.sqrt=function(){return ta.scale.pow().exponent(.5)},ta.scale.ordinal=function(){return Qi([],{t:"range",a:[[]]})},ta.scale.category10=function(){return ta.scale.ordinal().range(bl)},ta.scale.category20=function(){return ta.scale.ordinal().range(_l)},ta.scale.category20b=function(){return ta.scale.ordinal().range(wl)},ta.scale.category20c=function(){return ta.scale.ordinal().range(Sl)};var bl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Mt),_l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Mt),wl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Mt),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Mt);ta.scale.quantile=function(){return no([],[])},ta.scale.quantize=function(){return to(0,1,[0,1])},ta.scale.threshold=function(){return eo([.5],[0,1])},ta.scale.identity=function(){return ro([0,1])},ta.svg={},ta.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),s=o.apply(this,arguments)-Ra,f=a.apply(this,arguments)-Ra,h=Math.abs(f-s),g=s>f?0:1;if(n>l&&(p=l,l=n,n=p),h>=Ta)return t(l,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,E=0,A=0,N=[];if((m=(+c.apply(this,arguments)||0)/2)&&(d=i===kl?Math.sqrt(n*n+l*l):+i.apply(this,arguments),g||(A*=-1),l&&(A=tt(d/l*Math.sin(m))),n&&(E=tt(d/n*Math.sin(m)))),l){y=l*Math.cos(s+A),M=l*Math.sin(s+A),x=l*Math.cos(f-A),b=l*Math.sin(f-A);var C=Math.abs(f-s-2*A)<=qa?0:1;if(A&&so(y,M,x,b)===g^C){var z=(s+f)/2;y=l*Math.cos(z),M=l*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-E),w=n*Math.sin(f-E),S=n*Math.cos(s+E),k=n*Math.sin(s+E);var q=Math.abs(s-f+2*E)<=qa?0:1;if(E&&so(_,w,S,k)===1-g^q){var L=(s+f)/2;_=n*Math.cos(L),w=n*Math.sin(L),S=k=null}}else _=w=0;if((p=Math.min(Math.abs(l-n)/2,+u.apply(this,arguments)))>.001){v=l>n^g?0:1;var T=null==S?[_,w]:null==x?[y,M]:Lr([y,M],[S,k],[x,b],[_,w]),R=y-T[0],D=M-T[1],P=x-T[0],U=b-T[1],j=1/Math.sin(Math.acos((R*P+D*U)/(Math.sqrt(R*R+D*D)*Math.sqrt(P*P+U*U)))/2),F=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=x){var H=Math.min(p,(l-F)/(j+1)),O=fo(null==S?[_,w]:[S,k],[y,M],l,H,g),I=fo([x,b],[_,w],l,H,g);p===H?N.push("M",O[0],"A",H,",",H," 0 0,",v," ",O[1],"A",l,",",l," 0 ",1-g^so(O[1][0],O[1][1],I[1][0],I[1][1]),",",g," ",I[1],"A",H,",",H," 0 0,",v," ",I[0]):N.push("M",O[0],"A",H,",",H," 0 1,",v," ",I[0])}else N.push("M",y,",",M);if(null!=S){var Y=Math.min(p,(n-F)/(j-1)),Z=fo([y,M],[S,k],n,-Y,g),V=fo([_,w],null==x?[y,M]:[x,b],n,-Y,g);p===Y?N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^so(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",Y,",",Y," 0 0,",v," ",Z[0]):N.push("L",V[0],"A",Y,",",Y," 0 0,",v," ",Z[0])}else N.push("L",_,",",w)}else N.push("M",y,",",M),null!=x&&N.push("A",l,",",l," 0 ",C,",",g," ",x,",",b),N.push("L",_,",",w),null!=S&&N.push("A",n,",",n," 0 ",q,",",1-g," ",S,",",k);return N.push("Z"),N.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=io,r=oo,u=uo,i=kl,o=ao,a=co,c=lo;return n.innerRadius=function(t){return arguments.length?(e=Et(t),n):e},n.outerRadius=function(t){return arguments.length?(r=Et(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=Et(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==kl?kl:Et(t),n):i},n.startAngle=function(t){return arguments.length?(o=Et(t),n):o},n.endAngle=function(t){return arguments.length?(a=Et(t),n):a},n.padAngle=function(t){return arguments.length?(c=Et(t),n):c},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ra;return[Math.cos(t)*n,Math.sin(t)*n]},n};var kl="auto";ta.svg.line=function(){return ho(y)};var El=ta.map({linear:go,"linear-closed":po,step:vo,"step-before":mo,"step-after":yo,basis:So,"basis-open":ko,"basis-closed":Eo,bundle:Ao,cardinal:bo,"cardinal-open":Mo,"cardinal-closed":xo,monotone:To});El.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Al=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];ta.svg.line.radial=function(){var n=ho(Ro);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},mo.reverse=yo,yo.reverse=mo,ta.svg.area=function(){return Do(y)},ta.svg.area.radial=function(){var n=Do(Ro);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ta.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),l=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,l)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)-Ra,s=l.call(n,u,r)-Ra;return{r:i,a0:o,a1:s,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>qa)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=mr,o=yr,a=Po,c=ao,l=co;return n.radius=function(t){return arguments.length?(a=Et(t),n):a},n.source=function(t){return arguments.length?(i=Et(t),n):i},n.target=function(t){return arguments.length?(o=Et(t),n):o},n.startAngle=function(t){return arguments.length?(c=Et(t),n):c},n.endAngle=function(t){return arguments.length?(l=Et(t),n):l},n},ta.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=mr,e=yr,r=Uo;return n.source=function(e){return arguments.length?(t=Et(e),n):t},n.target=function(t){return arguments.length?(e=Et(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ta.svg.diagonal.radial=function(){var n=ta.svg.diagonal(),t=Uo,e=n.projection;return n.projection=function(n){return arguments.length?e(jo(t=n)):t},n},ta.svg.symbol=function(){function n(n,r){return(zl.get(t.call(this,n,r))||Oo)(e.call(this,n,r))}var t=Ho,e=Fo;return n.type=function(e){return arguments.length?(t=Et(e),n):t},n.size=function(t){return arguments.length?(e=Et(t),n):e},n};var zl=ta.map({circle:Oo,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ll)),e=t*Ll;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/ql),e=t*ql/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ta.svg.symbolTypes=zl.keys();var ql=Math.sqrt(3),Ll=Math.tan(30*Da);_a.transition=function(n){for(var t,e,r=Tl||++Ul,u=Xo(n),i=[],o=Rl||{time:Date.now(),ease:Su,delay:0,duration:250},a=-1,c=this.length;++a<c;){i.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(e=l[s])&&$o(e,s,u,r,o),t.push(e)}return Yo(i,u,r)},_a.interrupt=function(n){return this.each(null==n?Dl:Io(Xo(n)))};var Tl,Rl,Dl=Io(Xo()),Pl=[],Ul=0;Pl.call=_a.call,Pl.empty=_a.empty,Pl.node=_a.node,Pl.size=_a.size,ta.transition=function(n,t){return n&&n.transition?Tl?n.transition(t):n:ta.selection().transition(n)},ta.transition.prototype=Pl,Pl.select=function(n){var t,e,r,u=this.id,i=this.namespace,o=[];n=N(n);for(var a=-1,c=this.length;++a<c;){o.push(t=[]);for(var l=this[a],s=-1,f=l.length;++s<f;)(r=l[s])&&(e=n.call(r,r.__data__,s,a))?("__data__"in r&&(e.__data__=r.__data__),$o(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Yo(o,i,u)},Pl.selectAll=function(n){var t,e,r,u,i,o=this.id,a=this.namespace,c=[];n=C(n);for(var l=-1,s=this.length;++l<s;)for(var f=this[l],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[a][o],e=n.call(r,r.__data__,h,l),c.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&$o(u,p,a,o,i),t.push(u)}return Yo(c,a,o)},Pl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return Yo(u,this.namespace,this.id)},Pl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Pl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Hu:mu,a=ta.ns.qualify(n);return Zo(this,"attr."+n,t,a.local?i:u)},Pl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=ta.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Pl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=mu(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var o=arguments.length;if(3>o){if("string"!=typeof n){2>o&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Zo(this,"style."+n,e,i)},Pl.styleTween=function(n,e,r){function u(u,i){var o=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Pl.text=function(n){return Zo(this,"text",n,Vo)},Pl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Pl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ta.ease.apply(ta,arguments)),Y(this,function(r){r[e][t].ease=n}))},Pl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Pl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Pl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Rl,i=Tl;try{Tl=e,Y(this,function(t,u,i){Rl=t[r][e],n.call(t,t.__data__,u,i)})}finally{Rl=u,Tl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=ta.dispatch("start","end","interrupt"))).on(n,t)});return this},Pl.transition=function(){for(var n,t,e,r,u=this.id,i=++Ul,o=this.namespace,a=[],c=0,l=this.length;l>c;c++){a.push(n=[]);for(var t=this[c],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[o][u],$o(e,s,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Yo(a,o,i)},ta.svg.axis=function(){function n(n){n.each(function(){var n,l=ta.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):y:t,p=l.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ca),d=ta.transition(p.exit()).style("opacity",Ca).remove(),m=ta.transition(p.order()).style("opacity",1),M=Math.max(u,0)+o,x=Ui(f),b=l.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ta.transition(b));v.append("line"),v.append("text");var w,S,k,E,A=v.select("line"),N=m.select("line"),C=p.select("text").text(g),z=v.select("text"),q=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=Bo,w="x",k="y",S="x2",E="y2",C.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+L*i+"V0H"+x[1]+"V"+L*i)):(n=Wo,w="y",k="x",S="y2",E="x2",C.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),_.attr("d","M"+L*i+","+x[0]+"H0V"+x[1]+"H"+L*i)),A.attr(E,L*u),z.attr(k,L*M),N.attr(S,0).attr(E,L*u),q.attr(w,0).attr(k,L*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=ta.scale.linear(),r=jl,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Fl?t+"":jl,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var jl="bottom",Fl={top:1,right:1,bottom:1,left:1};ta.svg.brush=function(){function n(t){t.each(function(){var t=ta.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,y);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Hl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var c,f=ta.transition(t),h=ta.transition(o);l&&(c=Ui(l),h.attr("x",c[0]).attr("width",c[1]-c[0]),r(f)),s&&(c=Ui(s),h.attr("y",c[0]).attr("height",c[1]-c[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==ta.event.keyCode&&(C||(M=null,q[0]-=f[1],q[1]-=h[1],C=2),S())}function v(){32==ta.event.keyCode&&2==C&&(q[0]+=f[1],q[1]+=h[1],C=0,S())}function d(){var n=ta.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ta.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),q[0]=f[+(n[0]<M[0])],q[1]=h[+(n[1]<M[1])]):M=null),A&&m(n,l,0)&&(r(k),t=!0),N&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Ui(t),c=i[0],l=i[1],s=q[e],v=e?h:f,d=v[1]-v[0];return C&&(c-=s,l-=d+s),r=(e?p:g)?Math.max(c,Math.min(l,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(c,Math.min(l,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?a=null:o=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ta.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ta.select(ta.event.target),w=c.of(b,arguments),k=ta.select(b),E=_.datum(),A=!/^(n|s)$/.test(E)&&l,N=!/^(e|w)$/.test(E)&&s,C=_.classed("extent"),z=W(b),q=ta.mouse(b),L=ta.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(ta.event.changedTouches?L.on("touchmove.brush",d).on("touchend.brush",y):L.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)q[0]=f[0]-q[0],q[1]=h[0]-q[1];else if(E){var T=+/w$/.test(E),R=+/^n/.test(E);x=[f[1-T]-q[0],h[1-R]-q[1]],q[0]=f[T],q[1]=h[R]}else ta.event.altKey&&(M=q.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ta.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,c=E(n,"brushstart","brush","brushend"),l=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Ol[0];return n.event=function(n){n.each(function(){var n=c.of(this,arguments),t={x:f,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,Tl?ta.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=yu(f,t.x),r=yu(h,t.y);return o=a=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(l=t,v=Ol[!l<<1|!s],n):l},n.y=function(t){return arguments.length?(s=t,v=Ol[!l<<1|!s],n):s},n.clamp=function(t){return arguments.length?(l&&s?(g=!!t[0],p=!!t[1]):l?g=!!t:s&&(p=!!t),n):l&&s?[g,p]:l?g:s?p:null},n.extent=function(t){var e,r,u,i,c;return arguments.length?(l&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),o=[e,r],l.invert&&(e=l(e),r=l(r)),e>r&&(c=e,e=r,r=c),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],l&&(u=u[1],i=i[1]),a=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(c=u,u=i,i=c),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(l&&(o?(e=o[0],r=o[1]):(e=f[0],r=f[1],l.invert&&(e=l.invert(e),r=l.invert(r)),e>r&&(c=e,e=r,r=c))),s&&(a?(u=a[0],i=a[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(c=u,u=i,i=c))),l&&s?[[e,u],[r,i]]:l?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!l&&f[0]==f[1]||!!s&&h[0]==h[1]},ta.rebind(n,c,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ol=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Il=ac.format=gc.timeFormat,Yl=Il.utc,Zl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Il.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Zl,Jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Jo.toString=Zl.toString,ac.second=Ft(function(n){return new cc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ac.seconds=ac.second.range,ac.seconds.utc=ac.second.utc.range,ac.minute=Ft(function(n){return new cc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ac.minutes=ac.minute.range,ac.minutes.utc=ac.minute.utc.range,ac.hour=Ft(function(n){var t=n.getTimezoneOffset()/60;return new cc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ac.hours=ac.hour.range,ac.hours.utc=ac.hour.utc.range,ac.month=Ft(function(n){return n=ac.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ac.months=ac.month.range,ac.months.utc=ac.month.utc.range;var Vl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[ac.second,1],[ac.second,5],[ac.second,15],[ac.second,30],[ac.minute,1],[ac.minute,5],[ac.minute,15],[ac.minute,30],[ac.hour,1],[ac.hour,3],[ac.hour,6],[ac.hour,12],[ac.day,1],[ac.day,2],[ac.week,1],[ac.month,1],[ac.month,3],[ac.year,1]],$l=Il.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",Ne]]),Bl={range:function(n,t,e){return ta.range(Math.ceil(n/e)*e,+t,e).map(Ko)},floor:y,ceil:y};Xl.year=ac.year,ac.scale=function(){return Go(ta.scale.linear(),Xl,$l)};var Wl=Xl.map(function(n){return[n[0].utc,n[1]]}),Jl=Yl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",Ne]]);Wl.year=ac.year.utc,ac.scale.utc=function(){return Go(ta.scale.linear(),Wl,Jl)},ta.text=At(function(n){return n.responseText}),ta.json=function(n,t){return Nt(n,"application/json",Qo,t)},ta.html=function(n,t){return Nt(n,"text/html",na,t)},ta.xml=At(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(ta):"object"==typeof module&&module.exports&&(module.exports=ta),this.d3=ta}();

/* Vega 1.5 */

!function(t){if("function"==typeof define&&define.amd)define(["d3","topojson"],t);else{var e="undefined"==typeof topojson?null:topojson;vg=t(d3,e)}}(function(t,e){function n(t){return t.replace(P,"$1\\'")}function r(t,e,n,r){for(;r>n;){var i=n+r>>>1;z.cmp(t[i],e)<0?n=i+1:r=i}return n}function a(t,e,n){var r=0,i=t.split(T);return t=n?(i=i.reverse()).filter(function(t){return r+=t.length,e>=r}).reverse():i.filter(function(t){return r+=t.length,e>=r}),t.length?t.join("").trim():i[0].slice(0,e)}function s(t){z.config.isNode?process.stderr.write(t+"\n"):console.log(t)}function o(t){z.config.isNode?process.stderr.write(t+"\n"):console.error(t)}function u(t){return t.__vgtree__=!0,t.nodes=function(){return l(this,[])},t}function l(t,e){var n,r=t.values,i=r?r.length:0;for(e.push(t),n=0;i>n;++n)l(r[n],e);return e}function c(t){var e,n,r=t;if(z.isArray(t))for(r=[],e=0,n=t.length;n>e;++e)r.push(c(t[e]));else if(z.isObject(t)){r={};for(e in t)r[e]=c(t[e])}return r}function h(t,e,n){if(r=[],n&&e.length>1){for(var r,i,a,s=f(t.domain()),o=-1,u=e.length,l=(e[1]-e[0])/++n;++o<u;)for(i=n;--i>0;)(a=+e[o]-i*l)>=s[0]&&r.push(a);for(--o,i=0;++i<n&&(a=+e[o]+i*l)<s[1];)r.push(a)}return r}function f(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function d(t){return t.rangeExtent?t.rangeExtent():f(t.range())}function p(t,e,n,r,i,a){i=Math.max(i,0)+a,("left"===t||"top"===t)&&(i*=-1),"top"===t||"bottom"===t?(z.extend(e.properties.enter,{x:n,y:{value:i}}),z.extend(e.properties.update,{x:r,y:{value:i},align:{value:"center"},baseline:{value:J[t]}})):(z.extend(e.properties.enter,{x:{value:i},y:n}),z.extend(e.properties.update,{x:{value:i},y:r,align:{value:X[t]},baseline:{value:"middle"}}))}function g(t,e,n,r,i){var a="left"===t||"top"===t?-1:1;i=1/0===i?"top"===t||"bottom"===t?{group:"mark.group.height",mult:-a}:{group:"mark.group.width",mult:-a}:{value:a*i},"top"===t||"bottom"===t?(z.extend(e.properties.enter,{x:n,y:{value:0},y2:i}),z.extend(e.properties.update,{x:r,y:{value:0},y2:i}),z.extend(e.properties.exit,{x:r})):(z.extend(e.properties.enter,{x:{value:0},x2:i,y:n}),z.extend(e.properties.update,{x:{value:0},x2:i,y:r}),z.extend(e.properties.exit,{y:r}))}function m(t,e,n,r){var i=~~((n[0]+n[1])/2),a="top"===t||"left"===t?-1:1;"bottom"===t||"top"===t?z.extend(e.properties.update,{x:{value:i},y:{value:a*r},angle:{value:0}}):z.extend(e.properties.update,{x:{value:a*r},y:{value:i},angle:{value:-90}})}function v(t,e,n,r){var i;("top"===t||"left"===t)&&(r=-1*r),i="bottom"===t||"top"===t?"M"+n[0]+","+r+"V0H"+n[1]+"V"+r:"M"+r+","+n[0]+"H0V"+n[1]+"H"+r,e.properties.update.path={value:i}}function y(t,e,n){var r=n?{}:t,i=t.mark.def.offset,a=t.mark.def.orient,s=e.width,o=e.height;if(z.isArray(i)){var u=i[0],l=i[1];switch(a){case"left":r.x=-u,r.y=l;break;case"right":r.x=s+u,r.y=l;break;case"bottom":r.x=u,r.y=o+l;break;case"top":r.x=u,r.y=-l;break;default:r.x=u,r.y=l}}else switch(z.isObject(i)&&(i=-e.scales[i.scale](i.value)),a){case"left":r.x=-i,r.y=0;break;case"right":r.x=s+i,r.y=0;break;case"bottom":r.x=0,r.y=o+i;break;case"top":r.x=0,r.y=-i;break;default:r.x=0,r.y=0}n&&n.interpolate(t,r)}function x(){return{type:"rule",interactive:!1,key:"data",properties:{enter:{stroke:{value:z.config.axis.tickColor},strokeWidth:{value:z.config.axis.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function b(){return{type:"text",interactive:!0,key:"data",properties:{enter:{fill:{value:z.config.axis.tickLabelColor},font:{value:z.config.axis.tickLabelFont},fontSize:{value:z.config.axis.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function k(){return{type:"text",interactive:!0,properties:{enter:{font:{value:z.config.axis.titleFont},fontSize:{value:z.config.axis.titleFontSize},fontWeight:{value:z.config.axis.titleFontWeight},fill:{value:z.config.axis.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function _(){return{type:"path",interactive:!1,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:z.config.axis.axisColor},strokeWidth:{value:z.config.axis.axisWidth}},update:{}}}}function w(t,e,n){var r,i=n?{}:t,a=t.mark.def.offset,s=t.mark.def.orient,o=2*t.mark.def.padding,u=~~t.bounds.width()+(t.width?0:o),l=~~t.bounds.height()+(t.height?0:o);switch(i.x=.5,i.y=.5,i.width=u,i.height=l,!n&&e.bounds&&(e.bounds.delta=e.bounds.x2-e.width),s){case"left":r=e.bounds?e.bounds.x1:0,i.x+=r-a-u;break;case"right":r=e.width,e.bounds&&(r=n?e.width+e.bounds.delta:e.bounds.x2),i.x+=r+a}n&&n.interpolate(t,i),t.mark.def.properties.enter(t,e,n)}function S(t,e,n,r,i){var a=t.properties.enter,s=t.properties.update;e&&(a.size=s.size={scale:e.scaleName,field:"data"}),n&&(a.shape=s.shape={scale:n.scaleName,field:"data"}),r&&(a.fill=s.fill={scale:r.scaleName,field:"data"}),i&&(a.stroke=s.stroke={scale:i.scaleName,field:"data"})}function E(){var t=z.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:t.titleColor},font:{value:t.titleFont},fontSize:{value:t.titleFontSize},fontWeight:{value:t.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function A(){var t=z.config.legend;return{type:"symbol",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:t.symbolShape},size:{value:t.symbolSize},stroke:{value:t.symbolColor},strokeWidth:{value:t.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function M(){var t=z.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{value:t.labelAlign},baseline:{value:t.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function L(){var t=z.config.legend;return{type:"rect",interactive:!1,properties:{enter:{x:{value:0},y:{value:0},width:{value:t.gradientWidth},height:{value:t.gradientHeight},stroke:{value:t.gradientStrokeColor},strokeWidth:{value:t.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function C(){var t=z.config.legend;return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}var z={version:"1.5.4",d3:t,topojson:e},I=Object.prototype.toString;z.isObject=function(t){return t===Object(t)},z.isFunction=function(t){return"[object Function]"==I.call(t)},z.isString=function(t){return"[object String]"==I.call(t)},z.isArray=Array.isArray||function(t){return"[object Array]"==I.call(t)},z.isNumber=function(t){return"[object Number]"==I.call(t)},z.isBoolean=function(t){return"[object Boolean]"==I.call(t)},z.isTree=function(t){return t&&t.__vgtree__},z.tree=function(t,e){var n=[t];return n.__vgtree__=!0,n.children=e||"children",n},z.number=function(t){return null===t?null:+t},z["boolean"]=function(t){return null===t?null:!!t},z.date=function(t){return null===t?null:Date.parse(t)},z.startsWith=String.prototype.startsWith?function(t,e){return t.startsWith(e)}:function(t,e){return 0===t.lastIndexOf(e,0)},z.identity=function(t){return t},z["true"]=function(){return!0},z.extend=function(t){for(var e,n,r=1,i=arguments.length;i>r;++r){e=arguments[r];for(n in e)t[n]=e[n]}return t},z.duplicate=function(t){return JSON.parse(JSON.stringify(t))},z.field=function(t){return t.split("\\.").map(function(t){return t.split(".")}).reduce(function(t,e){return t.length&&(t[t.length-1]+="."+e.shift()),t.push.apply(t,e),t},[])},z.accessor=function(t){var e;return z.isFunction(t)||null==t?t:z.isString(t)&&(e=z.field(t)).length>1?function(t){return e.reduce(function(t,e){return t[e]},t)}:function(e){return e[t]}},z.mutator=function(t){var e;return z.isString(t)&&(e=z.field(t)).length>1?function(t,n){for(var r=0;r<e.length-1;++r)t=t[e[r]];t[e[r]]=n}:function(e,n){e[t]=n}},z.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=z.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),z.accessor(t)}),function(n,r){var i,a,s,o,u;for(i=0,a=t.length;a>i;++i){if(s=t[i],o=s(n),u=s(r),u>o)return-1*e[i];if(o>u)return e[i]}return 0}},z.cmp=function(t,e){return e>t?-1:t>e?1:t>=e?0:null===t&&null===e?0:null===t?-1:null===e?1:0/0},z.numcmp=function(t,e){return t-e},z.array=function(t){return null!=t?z.isArray(t)?t:[t]:[]},z.values=function(t){return z.isObject(t)&&!z.isArray(t)&&t.values?t.values:t},z.str=function(t){return z.isArray(t)?"["+t.map(z.str)+"]":z.isObject(t)?JSON.stringify(t):z.isString(t)?"'"+n(t)+"'":t};var P=/(^|[^\\])'/g;z.keystr=function(t){return t.join("|")},z.keys=function(t){var e=[];for(var n in t)e.push(n);return e},z.toMap=function(t){return t.reduce(function(t,e){return t[e]=1,t},{})},z.unique=function(t,e,n){if(!z.isArray(t)||0===t.length)return[];e=e||z.identity,n=n||[];for(var r,i={},a=0,s=t.length;s>a;++a)r=e(t[a]),r in i||(i[r]=!0,n.push(r));return n},z.minIndex=function(t,e){if(!z.isArray(t)||0==t.length)return-1;e=e||z.identity;for(var n=0,r=e(t[0]),i=r,a=1,s=t.length;s>a;++a)i=e(t[a]),r>i&&(r=i,n=a);return n},z.maxIndex=function(t,e){if(!z.isArray(t)||0==t.length)return-1;e=e||z.identity;for(var n=0,r=e(t[0]),i=r,a=1,s=t.length;s>a;++a)i=e(t[a]),i>r&&(r=i,n=a);return n},z.bins=function(t){t=t||{};var e,n,i,a,s=t.maxbins||1024,o=t.base||10,u=t.div||[5,2],l=t.minstep||0,c=Math.log(o),h=Math.ceil(Math.log(s)/c),f=t.min,d=t.max,p=d-f,g=Math.max(l,Math.pow(o,Math.round(Math.log(p)/c)-h)),m=Math.ceil(p/g);if(null!=t.step)g=t.step;else if(t.steps)g=t.steps[Math.min(t.steps.length-1,r(t.steps,p/s,0,t.steps.length))];else{do g*=o,m=Math.ceil(p/g);while(m>s);for(i=0;i<u.length;++i)n=g/u[i],n>=l&&s>=p/n&&(g=n,m=Math.ceil(p/g))}return n=Math.log(g),e=n>=0?0:~~(-n/c)+1,a=(0>f?-1:1)*Math.pow(o,-e-1),f=Math.min(f,Math.floor(f/g+a)*g),d=Math.ceil(d/g)*g,{start:f,stop:d,step:g,unit:e}},z.truncate=function(t,e,n,r,i){var s=t.length;if(e>=s)return t;i=i||"...";var o=Math.max(0,e-i.length);switch(n){case"left":return i+(r?a(t,o,1):t.slice(s-o));case"middle":case"center":var u=Math.ceil(o/2),l=Math.floor(o/2);return(r?a(t,u):t.slice(0,u))+i+(r?a(t,l,1):t.slice(s-l));default:return(r?a(t,o):t.slice(0,o))+i}};var T=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/;z.log=function(t){s("[Vega Log] "+t)},z.error=function(t){o("[Vega Err] "+t)},z.config={},z.config.isNode=!1,z.config.domainWhiteList=!1,z.config.dataHeaders=!1,z.config.safeMode=!1,z.config.baseURL="",z.config.defaultProtocol="http:",z.config.svgNamespace='version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"',z.config.autopadInset=5,z.config.scale={time:t.time.scale,utc:t.time.scale.utc},z.config.render={lineWidth:1,lineCap:"butt",font:"sans-serif",fontSize:11},z.config.axis={orient:"bottom",ticks:10,padding:3,axisColor:"#000",gridColor:"#d8d8d8",tickColor:"#000",tickLabelColor:"#000",axisWidth:1,tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:35},z.config.legend={orient:"right",offset:10,padding:3,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},z.config.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]},z.config.range={category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]},z.Bounds=function(){var t=function(t){this.clear(),t&&this.union(t)},e=t.prototype;return e.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},e.set=function(t,e,n,r){return this.x1=t,this.y1=e,this.x2=n,this.y2=r,this},e.add=function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},e.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},e.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},e.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},e.rotate=function(t,e,n){var r=Math.cos(t),i=Math.sin(t),a=e-e*r+n*i,s=n-e*i-n*r,o=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*o-i*l+a,i*o+r*l+s).add(r*o-i*c+a,i*o+r*c+s).add(r*u-i*l+a,i*u+r*l+s).add(r*u-i*c+a,i*u+r*c+s)},e.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},e.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},e.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},e.contains=function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},e.width=function(){return this.x2-this.x1},e.height=function(){return this.y2-this.y1},t}(),z.Gradient=function(){function t(t){this.id="grad_"+O++,this.type=t||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var e=t.prototype;return e.stop=function(t,e){return this.stops.push({offset:t,color:e}),this},t}();var O=0;z.canvas={},z.canvas.path=function(){function e(t){var e,n,r,i=[];t=t.slice().replace(f[0],"###$1").split(f[1]).slice(1);for(var a,s,o=0,u=t.length;u>o;o++){e=t[o],n=e.slice(1).trim().replace(f[2],"$1###-").split(f[3]),s=[e.charAt(0)];for(var a=0,l=n.length;l>a;a++)r=parseFloat(n[a]),isNaN(r)||s.push(r);var c=s[0].toLowerCase(),d=h[c];if(s.length-1>d)for(var p=1,g=s.length;g>p;p+=d)i.push([s[0]].concat(s.slice(p,p+d)));else i.push(s)}return i}function n(t,e,n,r,s,o,u){for(var l=r[0],c=r[1],h=r[2],f=r[3],d=r[4],p=r[5],g=r[6],m=i(p,g,l,c,f,d,h,e,n),v=0;v<m.length;v++){var y=a.apply(null,m[v]);t.bezierCurveTo.apply(t,y),s.add(y[0]-o,y[1]-u),s.add(y[2]-o,y[3]-u),s.add(y[4]-o,y[5]-u)}}function r(t,e,n,r){for(var s=n[0],o=n[1],u=n[2],l=n[3],c=n[4],h=n[5],f=n[6],d=i(h,f,s,o,l,c,u,t,e),p=0;p<d.length;p++){var g=a.apply(null,d[p]);r.add(g[0],g[1]),r.add(g[2],g[3]),r.add(g[4],g[5])}}function i(t,e,n,r,i,a,s,o,u){if(c=g.call(arguments),d[c])return d[c];var l=s*(Math.PI/180),h=Math.sin(l),f=Math.cos(l);n=Math.abs(n),r=Math.abs(r);var p=f*(o-t)*.5+h*(u-e)*.5,m=f*(u-e)*.5-h*(o-t)*.5,v=p*p/(n*n)+m*m/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);var y=f/n,x=h/n,b=-h/r,k=f/r,_=y*o+x*u,w=b*o+k*u,S=y*t+x*e,E=b*t+k*e,A=(S-_)*(S-_)+(E-w)*(E-w),M=1/A-.25;0>M&&(M=0);var L=Math.sqrt(M);a==i&&(L=-L);var C=.5*(_+S)-L*(E-w),z=.5*(w+E)+L*(S-_),I=Math.atan2(w-z,_-C),P=Math.atan2(E-z,S-C),T=P-I;0>T&&1==a?T+=2*Math.PI:T>0&&0==a&&(T-=2*Math.PI);for(var O=Math.ceil(Math.abs(T/(.5*Math.PI+.001))),N=[],U=0;O>U;U++){var D=I+U*T/O,j=I+(U+1)*T/O;N[U]=[C,z,D,j,n,r,h,f]}return d[c]=N}function a(t,e,n,r,i,a,s,o){if(c=g.call(arguments),p[c])return p[c];var u=o*i,l=-s*a,h=s*i,f=o*a,d=Math.cos(n),m=Math.sin(n),v=Math.cos(r),y=Math.sin(r),x=.5*(r-n),b=Math.sin(.5*x),k=8/3*b*b/Math.sin(x),_=t+d-k*m,w=e+m+k*d,S=t+v,E=e+y,A=S+k*y,M=E-k*v;return p[c]=[u*_+l*w,h*_+f*w,u*A+l*M,h*A+f*M,u*S+l*E,h*S+f*E]}function s(t,e,r,i){var a,s,o,u,l,c=null,h=0,f=0,d=0,p=0,g=new z.Bounds;void 0==r&&(r=0),void 0==i&&(i=0),t.beginPath();for(var m=0,v=e.length;v>m;++m){switch(a=e[m],a[0]){case"l":h+=a[1],f+=a[2],t.lineTo(h+r,f+i),g.add(h,f);break;case"L":h=a[1],f=a[2],t.lineTo(h+r,f+i),g.add(h,f);break;case"h":h+=a[1],t.lineTo(h+r,f+i),g.add(h,f);break;case"H":h=a[1],t.lineTo(h+r,f+i),g.add(h,f);break;case"v":f+=a[1],t.lineTo(h+r,f+i),g.add(h,f);break;case"V":f=a[1],t.lineTo(h+r,f+i),g.add(h,f);break;case"m":h+=a[1],f+=a[2],t.moveTo(h+r,f+i),g.add(h,f);break;case"M":h=a[1],f=a[2],t.moveTo(h+r,f+i),g.add(h,f);break;case"c":s=h+a[5],o=f+a[6],d=h+a[3],p=f+a[4],t.bezierCurveTo(h+a[1]+r,f+a[2]+i,d+r,p+i,s+r,o+i),g.add(h+a[1],f+a[2]),g.add(d,p),g.add(s,o),h=s,f=o;break;case"C":h=a[5],f=a[6],d=a[3],p=a[4],t.bezierCurveTo(a[1]+r,a[2]+i,d+r,p+i,h+r,f+i),g.add(a[1],a[2]),g.add(d,p),g.add(h,f);break;case"s":s=h+a[3],o=f+a[4],d=2*h-d,p=2*f-p,t.bezierCurveTo(d+r,p+i,h+a[1]+r,f+a[2]+i,s+r,o+i),g.add(d,p),g.add(h+a[1],f+a[2]),g.add(s,o),d=h+a[1],p=f+a[2],h=s,f=o;break;case"S":s=a[3],o=a[4],d=2*h-d,p=2*f-p,t.bezierCurveTo(d+r,p+i,a[1]+r,a[2]+i,s+r,o+i),h=s,f=o,g.add(a[1],a[2]),g.add(d,p),g.add(s,o),d=a[1],p=a[2];break;case"q":s=h+a[3],o=f+a[4],d=h+a[1],p=f+a[2],t.quadraticCurveTo(d+r,p+i,s+r,o+i),h=s,f=o,g.add(d,p),g.add(s,o);break;case"Q":s=a[3],o=a[4],t.quadraticCurveTo(a[1]+r,a[2]+i,s+r,o+i),h=s,f=o,d=a[1],p=a[2],g.add(d,p),g.add(s,o);break;case"t":s=h+a[1],o=f+a[2],null===c[0].match(/[QqTt]/)?(d=h,p=f):"t"===c[0]?(d=2*h-u,p=2*f-l):"q"===c[0]&&(d=2*h-d,p=2*f-p),u=d,l=p,t.quadraticCurveTo(d+r,p+i,s+r,o+i),h=s,f=o,d=h+a[1],p=f+a[2],g.add(d,p),g.add(s,o);break;case"T":s=a[1],o=a[2],d=2*h-d,p=2*f-p,t.quadraticCurveTo(d+r,p+i,s+r,o+i),h=s,f=o,g.add(d,p),g.add(s,o);break;case"a":n(t,h+r,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+h+r,a[7]+f+i],g,r,i),h+=a[6],f+=a[7];break;case"A":n(t,h+r,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+r,a[7]+i],g,r,i),h=a[6],f=a[7];break;case"z":case"Z":t.closePath()}c=a}return g.translate(r,i)}function o(t,e){for(var n,i,a,s,o,u=null,l=0,c=0,h=0,f=0,d=0,p=t.length;p>d;++d){switch(n=t[d],n[0]){case"l":l+=n[1],c+=n[2],e.add(l,c);break;case"L":l=n[1],c=n[2],e.add(l,c);break;case"h":l+=n[1],e.add(l,c);break;case"H":l=n[1],e.add(l,c);break;case"v":c+=n[1],e.add(l,c);break;case"V":c=n[1],e.add(l,c);break;case"m":l+=n[1],c+=n[2],e.add(l,c);break;case"M":l=n[1],c=n[2],e.add(l,c);break;case"c":i=l+n[5],a=c+n[6],h=l+n[3],f=c+n[4],e.add(l+n[1],c+n[2]),e.add(h,f),e.add(i,a),l=i,c=a;break;case"C":l=n[5],c=n[6],h=n[3],f=n[4],e.add(n[1],n[2]),e.add(h,f),e.add(l,c);break;case"s":i=l+n[3],a=c+n[4],h=2*l-h,f=2*c-f,e.add(h,f),e.add(l+n[1],c+n[2]),e.add(i,a),h=l+n[1],f=c+n[2],l=i,c=a;break;case"S":i=n[3],a=n[4],h=2*l-h,f=2*c-f,l=i,c=a,e.add(n[1],n[2]),e.add(h,f),e.add(i,a),h=n[1],f=n[2];break;case"q":i=l+n[3],a=c+n[4],h=l+n[1],f=c+n[2],l=i,c=a,e.add(h,f),e.add(i,a);break;case"Q":i=n[3],a=n[4],l=i,c=a,h=n[1],f=n[2],e.add(h,f),e.add(i,a);break;case"t":i=l+n[1],a=c+n[2],null===u[0].match(/[QqTt]/)?(h=l,f=c):"t"===u[0]?(h=2*l-s,f=2*c-o):"q"===u[0]&&(h=2*l-h,f=2*c-f),s=h,o=f,l=i,c=a,h=l+n[1],f=c+n[2],e.add(h,f),e.add(i,a);break;case"T":i=n[1],a=n[2],h=2*l-h,f=2*c-f,l=i,c=a,e.add(h,f),e.add(i,a);break;case"a":r(l,c,[n[1],n[2],n[3],n[4],n[5],n[6]+l,n[7]+c],e),l+=n[6],c+=n[7];break;case"A":r(l,c,[n[1],n[2],n[3],n[4],n[5],n[6],n[7]],e),l=n[6],c=n[7];break;case"z":case"Z":}u=n}return e}function u(e){var n,r=e[0];return n="horizontal"===r.orient?t.svg.area().y(function(t){return t.y}).x0(function(t){return t.x}).x1(function(t){return t.x+t.width}):t.svg.area().x(function(t){return t.x}).y1(function(t){return t.y}).y0(function(t){return t.y+t.height}),r.interpolate&&n.interpolate(r.interpolate),null!=r.tension&&n.tension(r.tension),n(e)}function l(e){var n=e[0],r=t.svg.line().x(function(t){return t.x}).y(function(t){return t.y});return n.interpolate&&r.interpolate(n.interpolate),null!=n.tension&&r.tension(n.tension),r(e)}var c,h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)-/g,/\s|,|###/],d={},p={},g=Array.prototype.join;return{parse:e,render:s,bounds:o,area:u,line:l}}(),z.canvas.marks=function(){function t(t,e){var n=e.x||0,r=e.y||0,i=e.innerRadius||0,a=e.outerRadius||0,s=(e.startAngle||0)-Math.PI/2,o=(e.endAngle||0)-Math.PI/2;t.beginPath(),0===i?t.moveTo(n,r):t.arc(n,r,i,s,o,0),t.arc(n,r,a,o,s,1),t.closePath()}function e(t,e){var n=e[0],r=n.mark,i=r.pathCache||(r.pathCache=S(z.canvas.path.area(e)));E(t,i)}function n(t,e){var n=e[0],r=n.mark,i=r.pathCache||(r.pathCache=S(z.canvas.path.line(e)));E(t,i)}function r(t,e){if(null!=e.path){var n=e.pathCache||(e.pathCache=S(e.path));return E(t,n,e.x,e.y)}}function i(t,e){t.beginPath();var n,r,i,a,s=null!=e.size?e.size:100,o=e.x,u=e.y;if(null==e.shape||"circle"===e.shape)return n=Math.sqrt(s/Math.PI),t.arc(o,u,n,0,2*Math.PI,0),void t.closePath();switch(e.shape){case"cross":n=Math.sqrt(s/5)/2,r=3*n,t.moveTo(o-r,u-n),t.lineTo(o-n,u-n),t.lineTo(o-n,u-r),t.lineTo(o+n,u-r),t.lineTo(o+n,u-n),t.lineTo(o+r,u-n),t.lineTo(o+r,u+n),t.lineTo(o+n,u+n),t.lineTo(o+n,u+r),t.lineTo(o-n,u+r),t.lineTo(o-n,u+n),t.lineTo(o-r,u+n);break;case"diamond":a=Math.sqrt(s/(2*M)),i=a*M,t.moveTo(o,u-a),t.lineTo(o+i,u),t.lineTo(o,u+a),t.lineTo(o-i,u);break;case"square":r=Math.sqrt(s),n=r/2,t.rect(o-n,u-n,r,r);break;case"triangle-down":i=Math.sqrt(s/A),a=i*A/2,t.moveTo(o,u+a),t.lineTo(o+i,u-a),t.lineTo(o-i,u-a);break;case"triangle-up":i=Math.sqrt(s/A),a=i*A/2,t.moveTo(o,u-a),t.lineTo(o+i,u+a),t.lineTo(o-i,u+a)}t.closePath()}function a(t,e){var r=e[0],i=r.strokeWidth,a=r.strokeCap;t.lineWidth=null!=i?i:z.config.render.lineWidth,t.lineCap=null!=a?a:z.config.render.lineCap,n(t,e)}function s(t,e){var n=e.x||0,r=e.y||0,i=null!=e.x2?e.x2:n,a=null!=e.y2?e.y2:r,s=e.strokeWidth,o=e.strokeCap;t.lineWidth=null!=s?s:z.config.render.lineWidth,t.lineCap=null!=o?o:z.config.render.lineCap,t.beginPath(),t.moveTo(n,r),t.lineTo(i,a)}function o(t,e,n,r){var i,a,s,o=n.fill,u=n.stroke;t(e,r),i=null==n.opacity?1:n.opacity,0!=i&&(o||u)&&(o&&(e.globalAlpha=i*(null==n.fillOpacity?1:n.fillOpacity),e.fillStyle=m(e,n,o),e.fill()),u&&(s=null!=(s=n.strokeWidth)?s:z.config.render.lineWidth,s>0&&(e.globalAlpha=i*(null==n.strokeOpacity?1:n.strokeOpacity),e.strokeStyle=m(e,n,u),e.lineWidth=s,e.lineCap=null!=(a=n.strokeCap)?a:z.config.render.lineCap,e.vgLineDash(n.strokeDash||null),e.vgLineDashOffset(n.strokeDashOffset||0),e.stroke())))}function u(t,e,n,r){var i,a,s;for(i=0,a=n.items.length;a>i;++i)s=n.items[i],(!r||r.intersects(s.bounds))&&o(t,e,s,s)}function l(t,e,n){if(e.items.length)for(var r,i,a,s,o,u,l,c,h,f,d=e.items,p=0,g=d.length;g>p;++p)r=d[p],(!n||n.intersects(r.bounds))&&(l=r.x||0,c=r.y||0,h=r.width||0,f=r.height||0,s=null==r.opacity?1:r.opacity,0!=s&&((i=r.fill)&&(t.globalAlpha=s*(null==r.fillOpacity?1:r.fillOpacity),t.fillStyle=m(t,r,i),t.fillRect(l,c,h,f)),(a=r.stroke)&&(u=null!=(u=r.strokeWidth)?u:z.config.render.lineWidth,u>0&&(t.globalAlpha=s*(null==r.strokeOpacity?1:r.strokeOpacity),t.strokeStyle=m(t,r,a),t.lineWidth=u,t.lineCap=null!=(o=r.strokeCap)?o:z.config.render.lineCap,t.vgLineDash(r.strokeDash||null),t.vgLineDashOffset(r.strokeDashOffset||0),t.strokeRect(l,c,h,f)))))}function c(t,e,n){if(e.items.length)for(var r,i,a,s,o,u,l,c,h,f=e.items,d=0,p=f.length;p>d;++d)r=f[d],(!n||n.intersects(r.bounds))&&(u=r.x||0,l=r.y||0,c=null!=r.x2?r.x2:u,h=null!=r.y2?r.y2:l,a=null==r.opacity?1:r.opacity,0!=a&&(i=r.stroke)&&(o=null!=(o=r.strokeWidth)?o:z.config.render.lineWidth,o>0&&(t.globalAlpha=a*(null==r.strokeOpacity?1:r.strokeOpacity),t.strokeStyle=m(t,r,i),t.lineWidth=o,t.lineCap=null!=(s=r.strokeCap)?s:z.config.render.lineCap,t.vgLineDash(r.strokeDash||null),t.vgLineDashOffset(r.strokeDashOffset||0),t.beginPath(),t.moveTo(u,l),t.lineTo(c,h),t.stroke())))}function h(t,e,n){if(e.items.length)for(var r,i=this,a=e.items,s=0,o=a.length;o>s;++s)if(r=a[s],!n||n.intersects(r.bounds)){r.image&&r.image.url===r.url||(r.image=i.loadImage(r.url),r.image.url=r.url);var u,l,c,h,f;c=r.width||r.image&&r.image.width||0,h=r.height||r.image&&r.image.height||0,u=(r.x||0)-("center"===r.align?c/2:"right"===r.align?c:0),l=(r.y||0)-("middle"===r.baseline?h/2:"bottom"===r.baseline?h:0),r.image.loaded&&(t.globalAlpha=null!=(f=r.opacity)?f:1,t.drawImage(r.image,u,l,c,h))}}function f(t,e,n){if(e.items.length)for(var r,i,a,s,o,u,l,c,h,f=e.items,d=0,p=f.length;p>d;++d)r=f[d],(!n||n.intersects(r.bounds))&&(t.font=z.scene.fontString(r),t.textAlign=r.align||"left",t.textBaseline=r.baseline||"alphabetic",s=null==r.opacity?1:r.opacity,0!=s&&(u=r.x||0,l=r.y||0,(c=r.radius)&&(h=(r.theta||0)-Math.PI/2,u+=c*Math.cos(h),l+=c*Math.sin(h)),r.angle?(t.save(),t.translate(u,l),t.rotate(r.angle*Math.PI/180),u=r.dx||0,l=r.dy||0):(u+=r.dx||0,l+=r.dy||0),(i=r.fill)&&(t.globalAlpha=s*(null==r.fillOpacity?1:r.fillOpacity),t.fillStyle=m(t,r,i),t.fillText(r.text,u,l)),(a=r.stroke)&&(o=null!=(o=r.strokeWidth)?o:1,o>0&&(t.globalAlpha=s*(null==r.strokeOpacity?1:r.strokeOpacity),t.strokeStyle=m(r,a),t.lineWidth=o,t.strokeText(r.text,u,l))),r.angle&&t.restore()))}function d(t){return function(e,n,r){u(t,e,n,r)}}function p(t){return function(e,n,r){n.items.length&&(!r||r.intersects(n.items[0].bounds))&&o(t,e,n.items[0],n.items)}}function g(t,e,n){if(e.items.length){var r,i,a,s,o,u,c,h,f,d=e.items,p=this;for(l(t,e,n),u=0,c=d.length;c>u;++u){for(r=d[u],i=r.axisItems||[],a=r.legendItems||[],s=r.x||0,o=r.y||0,t.save(),t.translate(s,o),r.clip&&(t.beginPath(),t.rect(0,0,r.width||0,r.height||0),t.clip()),n&&n.translate(-s,-o),h=0,f=i.length;f>h;++h)"back"===i[h].def.layer&&p.draw(t,i[h],n);for(h=0,f=r.items.length;f>h;++h)p.draw(t,r.items[h],n);for(h=0,f=i.length;f>h;++h)"back"!==i[h].def.layer&&p.draw(t,i[h],n);for(h=0,f=a.length;f>h;++h)p.draw(t,a[h],n);n&&n.translate(s,o),t.restore()}}}function m(t,e,n){return n.id?v(t,n,e.bounds):n}function v(t,e,n){var r,i,a=n.width(),s=n.height(),o=n.x1+e.x1*a,u=n.y1+e.y1*s,l=n.x1+e.x2*a,c=n.y1+e.y2*s,h=t.createLinearGradient(o,u,l,c),f=e.stops;for(r=0,i=f.length;i>r;++r)h.addColorStop(f[r].offset,f[r].color);return h}function y(t,e,n,r,i,a){if(0===e.items.length||e.bounds&&!e.bounds.contains(i,a))return!1;var s,o,u,l,c,h,f,d=e.items,p=this;for(h=d.length;--h>=0;){for(o=d[h],l=o.x||0,c=o.y||0,t.save(),t.translate(l,c),f=o.items.length;--f>=0;)if(s=o.items[f],s.interactive!==!1&&(u=p.pick(s,n,r,i-l,a-c)))return t.restore(),u;t.restore()}return e.interactive?x(C.group,t,e,n,r,i,a):!1}function x(t,e,n,r,i,a,s){if(!n.items.length)return!1;var o,u,l;for(1!==e._ratio&&(r*=e._ratio,i*=e._ratio),l=n.items.length;--l>=0;)if(o=n.items[l],u=o.bounds,(!u||u.contains(a,s))&&u&&t(e,o,r,i,a,s))return o;return!1}function b(t,e,n,r,i,a){if(!e.items.length)return!1;var s,o=e.items;return s=o[0].bounds,s&&!s.contains(i,a)?!1:(1!==t._ratio&&(n*=t._ratio,r*=t._ratio),C.area(t,o,n,r)?o[0]:!1)}function k(t,e,n,r,i,a){if(!e.items.length)return!1;var s,o=e.items;return s=o[0].bounds,s&&!s.contains(i,a)?!1:(1!==t._ratio&&(n*=t._ratio,r*=t._ratio),C.line(t,o,n,r)?o[0]:!1)}function _(t){return function(e,n,r,i,a,s){return x(t,e,n,r,i,a,s)}}function w(t,e,n,r,i,a){if(!e.fontSize)return!1;if(!e.angle)return!0;var s=z.scene.bounds.text(e,L,!0),o=-e.angle*Math.PI/180,u=Math.cos(o),l=Math.sin(o),n=e.x,r=e.y,c=u*i-l*a+(n-n*u+r*l),h=l*i+u*a+(r-n*l-r*u);return s.contains(c,h)}var S=z.canvas.path.parse,E=z.canvas.path.render,A=(Math.PI/2,Math.sqrt(3)),M=Math.tan(30*Math.PI/180),L=new z.Bounds,C={text:w,rect:function(){return!0},image:function(){return!0},group:function(t,e){return e.fill||e.stroke},rule:function(t,e,n,r){return t.isPointInStroke?(s(t,e),t.isPointInStroke(n,r)):!1},line:function(t,e,n,r){return t.isPointInStroke?(a(t,e),t.isPointInStroke(n,r)):!1},arc:function(e,n,r,i){return t(e,n),e.isPointInPath(r,i)},area:function(t,n,r,i){return e(t,n),t.isPointInPath(r,i)},path:function(t,e,n,i){return r(t,e),t.isPointInPath(n,i)},symbol:function(t,e,n,r){return i(t,e),t.isPointInPath(n,r)}};return{draw:{group:g,area:p(e),line:p(n),arc:d(t),path:d(r),symbol:d(i),rect:l,rule:c,text:f,image:h,drawOne:p,drawAll:d},pick:{group:y,area:b,line:k,arc:_(C.arc),path:_(C.path),symbol:_(C.symbol),rect:_(C.rect),rule:_(C.rule),text:_(C.text),image:_(C.image),pickAll:x}}}(),z.canvas.Renderer=function(){function e(t,e){var n=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=n/r;if(n!==r){var a=t.width,s=t.height;t.setAttribute("width",a*i),t.setAttribute("height",s*i),t.style.width=a+"px",t.style.height=s+"px"}return i}function n(t){if(!t.vgLineDash){var e=[];t.setLineDash?(t.vgLineDash=function(t){this.setLineDash(t||e)},t.vgLineDashOffset=function(t){this.lineDashOffset=t}):void 0!==t.webkitLineDash?(t.vgLineDash=function(t){this.webkitLineDash=t||e},t.vgLineDashOffset=function(t){this.webkitLineDashOffset=t}):void 0!==t.mozDash?(t.vgLineDash=function(t){this.mozDash=t},t.vgLineDashOffset=function(){}):(t.vgLineDash=function(){},t.vgLineDashOffset=function(){})}}function r(t,e){for(var n=new z.Bounds(e);null!=(t=t.mark.group);)n.translate(t.x||0,t.y||0);return n}function i(t){return t?z.array(t).reduce(function(t,e){return t.union(r(e,e.bounds)).union(r(e,e["bounds:prev"]))},new z.Bounds):null}function a(t,e){var n=null;return e&&(n=new z.Bounds(e).round(),t.beginPath(),t.rect(n.x1,n.y1,n.width(),n.height()),t.clip()),n}var s=function(){this._ctx=null,this._el=null,this._bgcolor=null,this._imgload=0},o=s.prototype;return o.initialize=function(e,n,r,i,a){if(this._el=e,this.background(a),!e)return this;var s=t.select(e).selectAll("canvas.marks").data([1]);return s.enter().append("canvas").attr("class","marks"),s.exit().remove(),this.resize(n,r,i)},o.background=function(t){return this._bgcolor=t,this},o.resize=function(r,i,a){if(this._width=r,this._height=i,this._padding=a,this._el){var s=t.select(this._el).select("canvas.marks");s.attr("width",r+a.left+a.right).attr("height",i+a.top+a.bottom);var o;this._ctx=s.node().getContext("2d"),this._ctx._ratio=o=e(s.node(),this._ctx)||1,this._ctx.setTransform(o,0,0,o,o*a.left,o*a.top)}return n(this._ctx),this},o.context=function(t){return t?(this._ctx=t,this):this._ctx},o.element=function(){return this._el},o.pendingImages=function(){return this._imgload},o.render=function(t,e){var n,r=this._ctx,s=this._padding,o=this._width+s.left+s.right,u=this._height+s.top+s.bottom,l=null;this._scene=t,r.save(),l=a(r,i(e)),this.clear(-s.left,-s.top,o,u),this.draw(r,t,l),e&&(r.restore(),r.save(),n=a(r,i(e)),l.encloses(n)||(this.clear(-s.left,-s.top,o,u),this.draw(r,t,n))),r.restore(),this._scene=null},o.draw=function(t,e,n){var r=e.marktype,i=z.canvas.marks.draw[r];i.call(this,t,e,n)},o.clear=function(t,e,n,r){var i=this._ctx;i.clearRect(t,e,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,e,n,r))},o.renderAsync=function(t){var e=this;e._async_id&&clearTimeout(e._async_id),e._async_id=setTimeout(function(){e.render(t),delete e._async_id},50)},o.loadImage=function(t){var e,n=this,r=n._scene,i=null;if(z.config.isNode)n._imgload+=1,i=new(require("canvas").Image),z.data.load(t,function(e,r){return n._imgload-=1,e?void z.error(e):(z.log("LOAD IMAGE: "+t),i.src=r,void(i.loaded=!0))});else{if(i=new Image,e=z.data.load.sanitizeUrl(t),!e)return;n._imgload+=1,i.onload=function(){z.log("LOAD IMAGE: "+e),i.loaded=!0,n._imgload-=1,n.renderAsync(r)},i.src=e}return i},s}(),z.canvas.Handler=function(){function e(t){var e=t.indexOf(".");return 0>e?t:t.slice(0,e)}var n=function(t,e){this._active=null,this._down=null,this._handlers={},t&&this.initialize(t),e&&this.model(e)},r=n.prototype;r.initialize=function(e,n,a){this._el=t.select(e).node(),this._canvas=t.select(e).select("canvas.marks").node(),this._padding=n,this._obj=a||null;
var s=this._canvas,o=this;return i.forEach(function(t){s.addEventListener(t,function(e){r[t].call(o,e)})}),this},r.padding=function(t){return this._padding=t,this},r.model=function(t){return arguments.length?(this._model=t,this):this._model},r.handlers=function(){var t=this._handlers;return z.keys(t).reduce(function(e,n){return t[n].reduce(function(t,e){return t.push(e),t},e)},[])};var i=["mouseup","dblclick","wheel","keydown","keypress","keyup","mousewheel"];return i.forEach(function(t){r[t]=function(e){this.fire(t,e)}}),i.push("mousedown"),i.push("mousemove"),i.push("mouseout"),i.push("click"),r.mousemove=function(t){var e=this._padding,n=t.target.getBoundingClientRect(),r=t.clientX-n.left,i=t.clientY-n.top,a=this._active,s=this.pick(this._model.scene(),r,i,r-e.left,i-e.top);return s===a?void this.fire("mousemove",t):(a&&this.fire("mouseout",t),this._active=s,void(s&&this.fire("mouseover",t)))},r.mouseout=function(t){this._active&&this.fire("mouseout",t),this._active=null},r.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},r.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},r.DOMMouseScroll=function(t){this.fire("mousewheel",t)},r.fire=function(t,e){var n=this._active,r=this._handlers[t];if(n&&r)for(var i=0,a=r.length;a>i;++i)r[i].handler.call(this._obj,e,n)},r.on=function(t,n){var r=e(t),i=this._handlers;return i=i[r]||(i[r]=[]),i.push({type:t,handler:n}),this},r.off=function(t,n){var r=e(t),i=this._handlers[r];if(i){for(var a=i.length;--a>=0;)i[a].type===t&&(n&&i[a].handler!==n||i.splice(a,1));return this}},r.context=function(){return this._canvas.getContext("2d")},r.pick=function(t,e,n,r,i){var a=this.context(),s=t.marktype,o=z.canvas.marks.pick[s];return o.call(this,a,t,e,n,r,i)},n}(),z.svg={},z.svg.marks=function(){function e(t){return t.x||0}function n(t){return t.y||0}function r(t){return t.x+t.width||0}function i(t){return t.y+t.height||0}function a(t){return null==t.size?100:t.size}function s(t){return t.shape||"circle"}function o(t){var e,n,r,i,a,s=t.mark?t:t.length?t[0]:null;if(null!==s)for(e=0,n=O.length;n>e;++e)r=O[e],i=T[r],a=s[r],null==a?"fill"===i?this.style.setProperty(i,"none",null):this.style.removeProperty(i):(a.id&&(z.svg._cur._defs.gradient[a.id]=a,a="url("+window.location.href+"#"+a.id+")"),this.style.setProperty(i,a+"",null))}function u(t){var e=t.x||0,n=t.y||0;this.setAttribute("transform","translate("+e+","+n+")"),this.setAttribute("d",S(t))}function l(t){if(t.length){var e=t[0],n="horizontal"===e.orient?A:E;n.interpolate(e.interpolate||"linear").tension(null==e.tension?.7:e.tension),this.setAttribute("d",n(t))}}function c(t){if(t.length){var e=t[0];M.interpolate(e.interpolate||"linear").tension(null==e.tension?.7:e.tension),this.setAttribute("d",M(t))}}function h(t){var e=t.x||0,n=t.y||0;this.setAttribute("transform","translate("+e+","+n+")"),null!=t.path&&this.setAttribute("d",t.path)}function f(t){this.setAttribute("x",t.x||0),this.setAttribute("y",t.y||0),this.setAttribute("width",t.width||0),this.setAttribute("height",t.height||0)}function d(t){var e=t.x||0,n=t.y||0;this.setAttribute("x1",e),this.setAttribute("y1",n),this.setAttribute("x2",null!=t.x2?t.x2:e),this.setAttribute("y2",null!=t.y2?t.y2:n)}function p(t){var e=t.x||0,n=t.y||0;this.setAttribute("transform","translate("+e+","+n+")"),this.setAttribute("d",L(t))}function g(t){var e=t.width||t.image&&t.image.width||0,n=t.height||t.image&&t.image.height||0,r=t.x-("center"===t.align?e/2:"right"===t.align?e:0),i=t.y-("middle"===t.baseline?n/2:"bottom"===t.baseline?n:0),a=z.data.load.sanitizeUrl(t.url);a&&this.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.setAttribute("x",r),this.setAttribute("y",i),this.setAttribute("width",e),this.setAttribute("height",n)}function m(t){var e=(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+(null!=t.fontSize?t.fontSize:z.config.render.fontSize)+"px "+(t.font||z.config.render.font);return e}function v(t){var e=t.x||0,n=t.y||0,r=t.dx||0,i=t.dy||0,a=t.angle||0,s=t.radius||0,o=P[t.align||"left"],u="top"===t.baseline?".9em":"middle"===t.baseline?".35em":0;if(s){var l=(t.theta||0)-Math.PI/2;e+=s*Math.cos(l),n+=s*Math.sin(l)}this.setAttribute("x",e+r),this.setAttribute("y",n+i),this.setAttribute("text-anchor",o),a?this.setAttribute("transform","rotate("+a+" "+e+","+n+")"):this.removeAttribute("transform"),u?this.setAttribute("dy",u):this.removeAttribute("dy"),this.textContent=t.text,this.style.setProperty("font",m(t),null)}function y(t){var e=t.x||0,n=t.y||0;if(this.setAttribute("transform","translate("+e+","+n+")"),t.clip){var r={width:t.width||0,height:t.height||0},i=t.clip_id||(t.clip_id="clip"+I++);z.svg._cur._defs.clipping[i]=r,this.setAttribute("clip-path","url(#"+i+")")}}function x(t){var e=t.width||0,n=t.height||0;this.setAttribute("width",e),this.setAttribute("height",n)}function b(t){var e="type-"+t.type;return t.name&&(e+=" "+t.name),e}function k(t,e,n){return function(r,i,a){_(r,i,a,t,e,n)}}function _(e,n,r,i,a,s){var u=s?[n.items]:n.items,l=n.interactive===!1?"none":null,c=e.node().childNodes,h="g"!==i,f=(f=c[r+1])?t.select(f):e.append("g").attr("id","g"+ ++C).attr("class",b(n.def)),d=f.attr("id"),p="#"+d+" > "+i,g=f.selectAll(p).data(u),m=g.enter().append(i);return h?(f.style("pointer-events",l),m.each(function(t){t.mark?t._svg=this:t.length&&(t[0]._svg=this)})):m.append("rect").attr("class","background").style("pointer-events",l),g.exit().remove(),g.each(a),h?g.each(o):f.selectAll(p+" > rect.background").each(x).each(o),f}function w(e,n,r){var i,a,s,o=_(e,n,r,"g",y),u=o.node().childNodes,l=u.length;for(i=0;l>i;++i){var c=u[i].__data__.items,h=u[i].__data__.legendItems||[],f=u[i].__data__.axisItems||[],d=t.select(u[i]),p=0;for(a=0,s=f.length;s>a;++a)"back"===f[a].def.layer&&w.call(this,d,f[a],p++);for(a=0,s=c.length;s>a;++a)this.draw(d,c[a],p++);for(a=0,s=f.length;s>a;++a)"back"!==f[a].def.layer&&w.call(this,d,f[a],p++);for(a=0,s=h.length;s>a;++a)w.call(this,d,h[a],p++)}}var S=t.svg.arc(),E=t.svg.area().x(e).y1(n).y0(i),A=t.svg.area().y(n).x0(r).x1(e),M=t.svg.line().x(e).y(n),L=t.svg.symbol().type(s).size(a),C=0,I=0,P={left:"start",center:"middle",right:"end"},T={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},O=z.keys(T);return{update:{group:f,area:l,line:c,arc:u,path:h,symbol:p,rect:f,rule:d,text:v,image:g},nested:{area:!0,line:!0},style:o,draw:{group:w,area:k("path",l,!0),line:k("path",c,!0),arc:k("path",u),path:k("path",h),symbol:k("path",p),rect:k("rect",f),rule:k("line",d),text:k("text",v),image:k("image",g),draw:k}}}(),z.svg.Renderer=function(){var e=function(){this._svg=null,this._ctx=null,this._el=null,this._defs={gradient:{},clipping:{}}},n=e.prototype;return n.initialize=function(e,n,r,i,a){return this._el=e,t.select(e).select("svg.marks").remove(),this._svg=t.select(e).append("svg").attr("class","marks"),null!=a&&this._svg.style("background-color",a),this._ctx=this._svg.append("g"),this.resize(n,r,i)},n.resize=function(t,e,n){return this._width=t,this._height=e,this._padding=n,this._svg.attr("width",t+n.left+n.right).attr("height",e+n.top+n.bottom),this._ctx.attr("transform","translate("+n.left+","+n.top+")"),this},n.context=function(){return this._ctx},n.element=function(){return this._el},n.updateDefs=function(){var e,n,r=this._svg,i=this._defs,a=z.keys(i.gradient),s=z.keys(i.clipping),o=r.select("defs");return 0===a.length&&0==s.length?void o.remove():(o.empty()&&(o=r.insert("defs",":first-child")),e=o.selectAll("linearGradient").data(a,z.identity),e.enter().append("linearGradient").attr("id",z.identity),e.exit().remove(),e.each(function(e){var n=i.gradient[e],r=t.select(this);r.attr({x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),stop=r.selectAll("stop").data(n.stops),stop.enter().append("stop"),stop.exit().remove(),stop.attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})}),n=o.selectAll("clipPath").data(s,z.identity),n.enter().append("clipPath").attr("id",z.identity),n.exit().remove(),void n.each(function(e){var n=i.clipping[e],r=t.select(this).selectAll("rect").data([1]);r.enter().append("rect"),r.attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height)}))},n.render=function(t,e){z.svg._cur=this,e?this.renderItems(z.array(e)):this.draw(this._ctx,t,-1),this.updateDefs(),delete z.svg._cur},n.renderItems=function(t){var e,n,r,i,a,s=z.svg.marks;for(i=0,a=t.length;a>i;++i)e=t[i],n=e._svg,r=e.mark.marktype,e=s.nested[r]?e.mark.items:e,s.update[r].call(n,e),s.style.call(n,e)},n.draw=function(t,e,n){var r=e.marktype,i=z.svg.marks.draw[r];i.call(this,t,e,n)},e}(),z.svg.Handler=function(){function e(t){var e=this;return function(n){var r=n.target,i=r.__data__;i&&(i=i.mark?i:i[0],t.call(e._obj,n,i))}}function n(t){var e=t.indexOf(".");return 0>e?t:t.slice(0,e)}var r=function(t,e){this._active=null,this._handlers={},t&&this.initialize(t),e&&this.model(e)},i=r.prototype;return i.initialize=function(e,n,r){return this._el=t.select(e).node(),this._svg=t.select(e).select("svg.marks").node(),this._padding=n,this._obj=r||null,this},i.padding=function(t){return this._padding=t,this},i.model=function(t){return arguments.length?(this._model=t,this):this._model},i.handlers=function(){var t=this._handlers;return z.keys(t).reduce(function(e,n){return t[n].reduce(function(t,e){return t.push(e),t},e)},[])},i.on=function(r,i){var a=n(r),s=this._handlers,o=t.select(this._svg).node(),u={type:r,handler:i,svg:e.call(this,i)};return s=s[a]||(s[a]=[]),s.push(u),o.addEventListener(a,u.svg),this},i.off=function(e,r){var i=n(e),a=this._handlers[i],s=t.select(this._svg).node();if(a){for(var o=a.length;--o>=0;)a[o].type===e&&(r&&a[o].handler!==r||(s.removeEventListener(i,a[o].svg),a.splice(o,1)));return this}},r}(),z.data={},z.data.ingestAll=function(t){return z.isTree(t)?u(z.data.ingestTree(t[0],t.children)):t.map(z.data.ingest)},z.data.ingest=function(t,e){return{data:t,index:e}},z.data.ingestTree=function(t,e,n){var r,i,a=z.data.ingest(t,n||0),s=t[e];if(s&&(r=s.length))for(a.values=Array(r),i=0;r>i;++i)a.values[i]=z.data.ingestTree(s[i],e,i);return a},z.data.mapper=function(t){return function(e){return e.forEach(t),e}},z.data.size=function(t,e){return t=z.isArray(t)?t:[0,t],t=t.map(function(t){return"string"==typeof t?e[t]:t})},z.data.load=function(){function e(t){if(z.config.baseURL&&!s.test(t)&&(z.startsWith(t,"/")||"/"===z.config.baseURL[z.config.baseURL.length-1]||(t="/"+t),t=z.config.baseURL+t),z.config.isNode&&z.startsWith(t,"//")&&(t=z.config.defaultProtocol+t),z.config.domainWhiteList){var e,n;if(z.config.isNode){var r=require("url").parse(t);if(z.config.safeMode&&"http:"!==r.protocol&&"https:"!==r.protocol)return!1;e=r.hostname,n=null}else{var i=document.createElement("a");i.href=t,""==i.host&&(i.href=i.href),e=i.hostname.toLowerCase(),n=window.location.hostname}if(n!==e){var a=z.config.domainWhiteList.some(function(t){var n=e.length-t.length;return t===e||n>1&&"."===e[n-1]&&e.lastIndexOf(t)===n});a||(z.error("URL is not whitelisted: "+t),t=!1)}}return t}function n(t,e){var n=z.data.load.sanitizeUrl(t);n?z.config.isNode?z.startsWith(n,o)?i(n.slice(o.length),e):a(n,e):r(n,e):e("Bad URL",null)}function r(e,n){z.log("LOAD XHR: "+e);var r=t.xhr(e);z.config.dataHeaders&&z.keys(z.config.dataHeaders).forEach(function(t){r.header(t,z.config.dataHeaders[t])}),r.get(function(t,e){e&&(e=e.responseText),n(t,e)})}function i(t,e){z.log("LOAD FILE: "+t),require("fs").readFile(t,e)}function a(t,e){z.log("LOAD HTTP: "+t);var n={url:t,encoding:null,gzip:!0};z.config.dataHeaders&&(n.headers=z.config.dataHeaders),require("request").get(n,function(t,n,r){t||200!==n.statusCode?e(t,null):e(null,r)})}var s=/^([A-Za-z]+:)?\/\//,o="file://";return n.sanitizeUrl=e,n}(),z.data.read=function(){function n(t,e){var n=e&&e.type||"json";return t=a[n](t,e),e&&e.parse&&r(t,e.parse),t}function r(t,e){var n=z.keys(e),r=n.map(function(t){return s[e[t]]}),a=z.isTree(t);i(a?[t]:t,n,r,a)}function i(t,e,n,i){var a,s,o,u,l;for(s=0,u=t.length;u>s;++s){for(a=t[s],o=0,l=e.length;l>o;++o)a[e[o]]=n[o](a[e[o]]);i&&a.values&&r(a,e,n,!0)}}var a={},s={number:z.number,"boolean":z["boolean"],date:z.date};return a.json=function(t,e){var n=z.isObject(t)?t:JSON.parse(t);return e&&e.property&&(n=z.accessor(e.property)(n)),n},a.csv=function(e){var n=t.csv.parse(e);return n},a.tsv=function(e){var n=t.tsv.parse(e);return n},a.topojson=function(t,n){if(null==e)return z.error("TopoJSON library not loaded."),[];var r=z.isObject(t)?t:JSON.parse(t),i=[];return n&&n.feature?i=(i=r.objects[n.feature])?e.feature(r,i).features:(z.error("Invalid TopoJSON object: "+n.feature),[]):n&&n.mesh?i=(i=r.objects[n.mesh])?[e.mesh(r,r.objects[n.mesh])]:(z.error("Invalid TopoJSON object: "+n.mesh),[]):z.error("Missing TopoJSON feature or mesh parameter."),i},a.treejson=function(t,e){return t=z.isObject(t)?t:JSON.parse(t),z.tree(t,e.children)},n.formats=a,n.parse=r,n}(),z.data.aggregate=function(){function t(t){this.field=t,this.ops=[],this.flags=0,this.count=0}var e=1,n=2,r=4,a=8,s=16,o=32;return t.prototype.clone=function(){var e,n,r=new t(this.field);for(e in this)n=this[e],r[e]=z.isArray(n)?n.slice():n;return r},t.prototype.init=function(t){"sum"===t?(this.flags|=e,this.sum=0):"avg"===t?(this.flags|=n,this.avg=0):"var"===t||"std"===t?(this.flags|=r|n,this.avg=0,this.dev=0):"min"===t?(this.flags|=a,this.min=+1/0):"max"===t?(this.flags|=s,this.max=-1/0):"median"===t&&(this.flags|=o,this.vals=[]),this.ops.push(t)},t.prototype.update=function(t){var i,u=this,l=u.flags;u.count+=1,l&e&&(u.sum+=t),l&n&&(i=t-u.avg,u.avg+=i/u.count),l&r&&(u.dev+=i*(t-u.avg)),l&a&&(u.min=t<u.min?t:u.min),l&s&&(u.max=t>u.max?t:u.max),l&o&&u.vals.push(t)},t.prototype.value=function(t){switch(t){case"sum":return this.sum;case"avg":return this.avg;case"var":return this.dev/(this.count-1);case"std":return Math.sqrt(this.dev/(this.count-1));case"min":return this.min;case"max":return this.max;case"median":var e=this.vals,n=e.length,r=~~(n/2);return n?n%2?e[r]:.5*(e[r-1]+e[r]):0}},t.prototype.done=function(t){this.vals&&this.vals.sort(z.numcmp);for(var e=this.ops,n=0;n<e.length;++n)"count"===e[n]?t.count=this.count:t[e[n]+"_"+this.field]=this.value(e[n]);return t},function(){function e(t){var e=z.keystr(s.map(function(e){return e(t)}));return l[e]||(l[e]=n(t))}function n(t){var e=a.map(function(t){return t.clone()});for(e.data={},i=0;i<u.length;++i)e.data[u[i]]=s[i](t);return e}function r(t){var n,r,i,a,s;for(r=0;r<t.length;++r)for(a=t[r],s=e(a),i=0;i<s.length;++i)s[i].update(o[i](a));var u=[],c=0;for(n in l){for(s=l[n],r=0;r<s.length;++r)s[r].done(s.data);u.push({index:c++,data:s.data})}return l={},u}var a,s,o,u=[],l={};return r.fields=function(e){var n={};return o=[],a=z.array(e).reduce(function(e,r){var i,a=r.field;return n[a]||(o.push(z.accessor(a)),i=0===a.indexOf("data.")?a.slice(5):a,e.push(n[a]=new t(i))),n[a].init(r.op),e},[]),r},r.groupby=function(t){return u=z.array(t),s=u.map(function(t,e){return 0===t.indexOf("data.")&&(u[e]=t.slice(5)),z.accessor(t)}),r},r}}(),z.data.array=function(){function t(t){return t.map(function(t){for(var n=[],r=0,i=e.length;i>r;++r)n.push(e[r](t));return n})}var e=[];return t.fields=function(n){return e=z.array(n).map(z.accessor),t},t},z.data.bin=function(){function t(t){var e={min:null!=i?i:+1/0,max:null!=a?a:-1/0,step:null!=s?s:null,maxbins:o};(null==i||null==a)&&t.forEach(function(t){var r=n(t);null==i&&r>e.max&&(e.max=r),null==a&&r<e.min&&(e.min=r)});var u=z.bins(e);return t.forEach(function(t){var e=n(t);r(t,u.start+u.step*~~((e-u.start)/u.step))}),t}var e,n,r,i,a,s,o=20,u="bin";return t.min=function(e){return i=e,t},t.max=function(e){return a=e,t},t.step=function(e){return s=e,t},t.maxbins=function(e){return o=e,t},t.field=function(r){return e=r,n=z.accessor(r),t},t.output=function(e){return u=e,r=z.mutator(e),t},t},z.data.copy=function(){var t=z.accessor("data"),e=[],n=null,r=z.data.mapper(function(r){var i,a,s=t(r),o=n||e;for(i=0,a=e.length;a>i;++i)r[o[i]]=s[e[i]];return r});return r.from=function(e){return t=z.accessor(e),r},r.fields=function(t){return e=z.array(t),r},r.as=function(t){return n=z.array(t),r},r},z.data.cross=function(){function t(t){var i,a,s,o=[],u=e||t,l=t.length;for(a=0;l>a;++a)for(s=0;l>s;++s)n&&a===s||(i={},i[r.left]=t[a],i[r.right]=u[s],o.push(i));return o}var e=null,n=!1,r={left:"a",right:"b"};return t["with"]=function(n){return e=n,t},t.diagonal=function(e){return n=!e,t},t.output=function(e){return z.keys(r).forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),t},t},z.data.facet=function(){function t(t){var r,i,a,s,o,u={key:"",keys:[],values:[]},l={},c=u.values;if(0===e.length)return c.push(r={key:"",keys:[],index:0,values:n?t.slice():t}),n&&n(r.values),u;for(o=0,s=t.length;s>o;++o)i=e.map(function(e){return e(t[o])}),a=z.keystr(i),r=l[a],void 0===r&&c.push(r=l[a]={key:a,keys:i,index:c.length,values:[]}),r.values.push(t[o]);if(n)for(o=0,s=c.length;s>o;++o)n(c[o].values);return u}var e=[],n=null;return t.keys=function(n){return e=z.array(n).map(z.accessor),t},t.sort=function(e){return n=z.data.sort().by(e),t},t},z.data.filter=function(){function t(t){return e?t.filter(e):t}var e=null;return t.test=function(n){return e=z.isFunction(n)?n:z.parse.expr(n),t},t},z.data.flatten=function(){function t(t){return e(t,[])}function e(t,n){if(z.isArray(t.values))for(var r=0,i=t.values.length;i>r;++r)e(t.values[r],n);else n.push(t);return n}return t},z.data.fold=function(){function t(t){var i,a,s,o,u=[],l=e.length;for(a=0,o=t.length;o>a;++a)for(i=t[a],s=0;l>s;++s){var c={index:u.length,data:i.data};c[r.key]=e[s],c[r.value]=n[s](i),u.push(c)}return u}var e=[],n=[],r={key:"key",value:"value"};return t.fields=function(r){return e=z.array(r),n=e.map(z.accessor),t},t.output=function(e){return z.keys(r).forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),t},t},z.data.force=function(){function e(t,e,i){n.size(z.data.size(u,i)).nodes(t),r&&e[r]&&n.links(e[r]),n.start();for(var a=0;o>a;++a)n.tick();return n.stop(),t}var n=t.layout.force(),r=null,i=20,a=1,s=-30,o=500,u=["width","height"],l=["friction","theta","gravity","alpha"];return e.links=function(t){return r=t,e},e.size=function(t){return u=t,e},e.linkDistance=function(t){return i="number"==typeof t?t:z.accessor(t),n.linkDistance(i),e},e.linkStrength=function(t){return a="number"==typeof t?t:z.accessor(t),n.linkStrength(a),e},e.charge=function(t){return s="number"==typeof t?t:z.accessor(t),n.charge(s),e},e.iterations=function(t){return o=t,e},l.forEach(function(t){e[t]=function(r){return n[t](r),e}}),e},z.data.force.dependencies=["links"],z.data.formula=function(){return function(){var t,e=null,n=z.identity,r=z.data.mapper(function(r,i,a){return e&&t(r,n.call(null,r,i,a)),r});return r.field=function(n){return e=n,t=z.mutator(e),r},r.expr=function(t){return n=z.isFunction(t)?t:z.parse.expr(t),r},r}}(),z.data.geo=function(){function e(){var e={},r="mercator",i=t.geo[r](),a=z.identity,s=z.identity,o={x:"x",y:"y"},u=z.data.mapper(function(t){var e=[s(t),a(t)],n=i(e);return t[o.x]=n[0],t[o.y]=n[1],t});return u.func=function(){return i},u.projection=function(n){if(r!==n){r=n,i=t.geo[r]();for(var a in e)i[a](e[a])}return u},n.forEach(function(t){u[t]=function(n){return e[t]=n,i[t](n),u}}),u.lon=function(t){return s=z.accessor(t),u},u.lat=function(t){return a=z.accessor(t),u},u.output=function(t){return z.keys(o).forEach(function(e){void 0!==t[e]&&(o[e]=t[e])}),t},u}var n=["center","scale","translate","rotate","precision","clipAngle"];return e.params=n,e}(),z.data.geopath=function(){var e=t.geo.path().projection(t.geo.mercator()),n="mercator",r=z.identity,i={},a={path:"path"},s=z.data.mapper(function(t){return t[a.path]=e(r(t)),t});return s.projection=function(r){if(n!==r){n=r;var a=t.geo[n]();for(var o in i)a[o](i[o]);e.projection(a)}return s},z.data.geo.params.forEach(function(t){s[t]=function(n){return i[t]=n,e.projection()[t](n),s}}),s.value=function(t){return r=z.accessor(t),s},s.output=function(t){return z.keys(a).forEach(function(e){void 0!==t[e]&&(a[e]=t[e])}),t},s},z.data.link=function(){function t(t){var e=s(t),n=o(t);return"M"+e.x+","+e.y+"L"+n.x+","+n.y}function e(t){var e=s(t),n=o(t),r=n.x-e.x,i=n.y-e.y,a=u*(r+i),l=u*(i-r);return"M"+e.x+","+e.y+"C"+(e.x+a)+","+(e.y+l)+" "+(n.x+l)+","+(n.y-a)+" "+n.x+","+n.y}function n(t){var e=s(t),n=o(t),r=(e.x+n.x)/2;return"M"+e.x+","+e.y+"C"+r+","+e.y+" "+r+","+n.y+" "+n.x+","+n.y}function r(t){var e=s(t),n=o(t),r=(e.y+n.y)/2;return"M"+e.x+","+e.y+"C"+e.x+","+r+" "+n.x+","+r+" "+n.x+","+n.y}function i(t){var e=c[a];return t.forEach(function(t){t[l.path]=e(t)}),t}var a="line",s=z.accessor("source"),o=z.accessor("target"),u=.2,l={path:"path"},c={line:t,curve:e,diagonal:n,diagonalX:n,diagonalY:r};return i.shape=function(t){return a=t,i},i.tension=function(t){return u=t,i},i.source=function(t){return s=z.accessor(t),i},i.target=function(t){return o=z.accessor(t),i},i.output=function(t){return z.keys(l).forEach(function(e){void 0!==t[e]&&(l[e]=t[e])}),i},i},z.data.pie=function(){function e(e){var n=e.map(function(t){return+r(t)}),u=i,l=(a-i)/t.sum(n),c=t.range(e.length);return s&&c.sort(function(t,e){return n[t]-n[e]}),c.forEach(function(t){var r;e[t].value=r=n[t],e[t][o.startAngle]=u,e[t][o.midAngle]=u+.5*r*l,e[t][o.endAngle]=u+=r*l}),e}var n=function(){return 1},r=n,i=0,a=2*Math.PI,s=!1,o={startAngle:"startAngle",endAngle:"endAngle",midAngle:"midAngle"};return e.sort=function(t){return s=t,e},e.value=function(t){return r=t?z.accessor(t):n,e},e.startAngle=function(t){return i=Math.PI*t/180,e},e.endAngle=function(t){return a=Math.PI*t/180,e},e.output=function(t){return z.keys(o).forEach(function(e){void 0!==t[e]&&(o[e]=t[e])}),e},e},z.data.slice=function(){function t(t){if(t=z.values(t),"min"===e)t=[t[z.minIndex(t,n)]];else if("max"===e)t=[t[z.maxIndex(t,n)]];else if("median"===e){var r=t.slice().sort(function(t,e){return t=n(t),e=n(e),e>t?-1:t>e?1:0});t=[t[~~(r.length/2)]]}else{var i=z.array(e);t=t.slice(i[0],i[1])}return t}var e=null,n=z.accessor("data");return t.by=function(n){return e=n,t},t.field=function(e){return n=z.accessor(e),t},t},z.data.sort=function(){function t(t){t=z.isArray(t)?t:t.values||[],t.sort(e);for(var n=0,r=t.length;r>n;++n)t[n].index=n;return t}var e=null;return t.by=function(n){return e=z.comparator(n),t},t},z.data.stack=function(){function e(t){var e=o.y0,i=o.y1,a=o.cy,s=n(t);return 0===s.length?t:(r.out(function(t,n,r){t.datum&&(t.datum[e]=n,t.datum[i]=r+n,t.datum[a]=n+r/2)})(s),t)}function n(t){var e,n,r,s,o,u,l,c,h=z.values(t),f=[],d=[];if(0===h.length)return d;for(n=0,r=h.length;r>n;++n){for(e=z.values(h[n]),s=0,o=e.length;o>s;++s)f.push({x:i(e[s]),y:a(e[s]),z:n,datum:e[s]});d.push([])}for(f.sort(function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.z<e.z?-1:t.z>e.z?1:0}),c=f[0].x,n=0,s=0,u=0,r=f.length;r>u;++u){if(l=f[u],l.x!==c){for(;n<d.length;)d[n++].push({x:s,y:0});c=l.x,n=0,s+=1}for(;l.z>n;)d[n++].push({x:s,y:0});l.x=s,d[n++].push(l)}for(;n<d.length;)d[n++].push({x:s,y:0});return d}var r=t.layout.stack(),i=z.accessor("index"),a=z.accessor("data"),s=["offset","order"],o={y0:"y2",y1:"y",cy:"cy"};return e.point=function(t){return i=z.accessor(t),e},e.height=function(t){return a=z.accessor(t),e},s.forEach(function(t){e[t]=function(n){return r[t](n),e}}),e.output=function(n){return t.keys(o).forEach(function(t){void 0!==n[t]&&(o[t]=n[t])}),e},e},z.data.stats=function(){function t(t){var e,s,o,u,l=+1/0,c=-1/0,h=0,f=0,d=0,p=(z.isArray(t)?t:t.values||[]).map(n);for(e=0,s=p.length;s>e;++e)o=p[e],l>o&&(l=o),o>c&&(c=o),h+=o,u=o-f,f+=u/(e+1),d+=u*(o-f);d/=s-1;var g=z.isArray(t)?{}:t;if(i&&(p.sort(z.numcmp),e=p.length>>1,g[a.median]=p.length%2?p[e]:(p[e-1]+p[e])/2),g[a.count]=s,g[a.min]=l,g[a.max]=c,g[a.sum]=h,g[a.mean]=f,g[a.variance]=d,g[a.stdev]=Math.sqrt(d),r){for(p=z.isArray(t)?t:t.values,o={},o[a.count]=s,o[a.min]=l,o[a.max]=c,o[a.sum]=h,o[a.mean]=f,o[a.variance]=d,o[a.stdev]=Math.sqrt(d),i&&(o[a.median]=g[a.median]),e=0,s=p.length;s>e;++e)p[e].stats=o;z.isArray(t)&&(g=p)}return g}function e(e){return z.isArray(e)?t(e):(e.values||[]).map(t)}var n=z.accessor("data"),r=!1,i=!1,a={count:"count",min:"min",max:"max",sum:"sum",mean:"mean",variance:"variance",stdev:"stdev",median:"median"};return e.median=function(t){return i=t||!1,e},e.value=function(t){return n=z.accessor(t),e},e.assign=function(t){return r=t,e},e.output=function(t){return z.keys(a).forEach(function(e){void 0!==t[e]&&(a[e]=t[e])}),e},e},z.data.treemap=function(){function e(t,e,a){t=n.size(z.data.size(i,a)).value(r).nodes(z.isTree(t)?t:{values:t});var o=z.keys(s),u=o.length;return t.forEach(function(t){for(var e,n,r=0;u>r;++r)e=o[r],e!==s[e]&&(n=t[e],delete t[e],t[s[e]]=n)}),t}var n=t.layout.treemap().children(function(t){return t.values}),r=z.accessor("data"),i=["width","height"],a=["round","sticky","ratio","padding"],s={x:"x",y:"y",dx:"width",dy:"height"};return e.size=function(t){return i=t,e},e.value=function(t){return r=z.accessor(t),e},a.forEach(function(t){e[t]=function(r){return n[t](r),e}}),e.output=function(t){return z.keys(s).forEach(function(e){void 0!==t[e]&&(s[e]=t[e])}),e},e},z.data.truncate=function(){var t,e=z.accessor("data"),n="truncate",r="right",i="...",a=!0,s=100,o=z.data.mapper(function(n){var o=z.truncate(e(n),s,r,a,i);return t(n,o),n});return o.value=function(t){return e=z.accessor(t),o},o.output=function(e){return n=e,t=z.mutator(e),o},o.limit=function(t){return s=+t,o},o.position=function(t){return r=t,o},o.ellipsis=function(t){return i=t+"",o},o.wordbreak=function(t){return a=!!t,o},o},z.data.unique=function(){function t(t){return z.unique(t,e).map(function(t){var e={};return e[n]=t,e})}var e=null,n="field";return t.field=function(n){return e=z.accessor(n),t},t.as=function(e){return n=e,t},t},z.data.window=function(){function t(t){t=z.isArray(t)?t:t.values||[];var r,i,a,s=[],o=t.length-e;for(r=0;o>=r;r+=n){for(i=0,a=[];e>i;++i)a.push(t[r+i]);s.push({key:r,values:a})}return{values:s}}var e=2,n=1;return t.size=function(n){return e=n,t},t.step=function(e){return n=e,t},t},z.data.wordcloud=function(){function e(t,e,o){function l(e){var r,i,s,o,l,c=n.size(),h=c[0]/2,f=c[1]/2,d=z.keys(u),p=d.length;for(t.sort(function(t,e){return a(e)-a(t)}),s=0,o=e.length;o>s;++s)for(i=t[s],l=0;p>l;++l)r=d[l],i[u[r]]=e[s][r],"x"===r&&(i[u.x]+=h),"y"===r&&(i[u.y]+=f)}return n.size(z.data.size(i,o)).text(r).fontSize(a).rotate(s).words(t).on("end",l).start(),t}var n=t.layout.cloud().size([900,500]),r=z.accessor("data"),i=["width","height"],a=function(){return 14},s=function(){return 0},o=["font","fontStyle","fontWeight","padding"],u={x:"x",y:"y",size:"fontSize",font:"font",rotate:"angle"};return e.text=function(t){return r=z.accessor(t),e},e.size=function(t){return i=t,e},e.fontSize=function(t){return a=z.accessor(t),e},e.rotate=function(t){var n;return z.isObject(t)&&!Array.isArray(t)?void 0!==t.random?(n=(n=t.random)?z.array(n):[0],s=function(){return n[~~(Math.random()*n.length-1e-5)]}):void 0!==t.alternate&&(n=(n=t.alternate)?z.array(n):[0],s=function(t,e){return n[e%n.length]}):s=z.accessor(field),e},o.forEach(function(t){e[t]=function(r){return n[t](r),e}}),e.output=function(t){return z.keys(u).forEach(function(e){void 0!==t[e]&&(u[e]=t[e])}),e},e},z.data.zip=function(){function t(t,s){var o,u,l,c,h,f=s[n],d=f.length;for(a&&(h={},f.forEach(function(t){h[a(t)]=t})),l=0,c=t.length;c>l;++l)u=t[l],u[r]=h?null!=(o=h[i(u)])?o:e:f[l%d];return t}var e,n=null,r="zip",i=z.accessor("data"),a=null;return t["with"]=function(e){return n=e,t},t["default"]=function(n){return e=n,t},t.as=function(e){return r=e,t},t.key=function(e){return i=z.accessor(e),t},t.withKey=function(e){return a=z.accessor(e),t},t},z.data.zip.dependencies=["with"],z.expression={},z.expression.parse=function(t,e){return j.parse("("+t+")",e)},z.expression.code=function(t){return D(t)};var N={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},U=function(t){function e(e,n,r,i){var a=t(n[0]);return r&&(a=r+"("+a+")",z.startsWith(r,"new ")&&(a="("+a+")")),a+"."+e+(0>i?"":0===i?"()":"("+n.slice(1).map(t).join(",")+")")}var n="new Date",r="String",i="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",now:"Date.now",datetime:"new Date",date:function(t){return e("getDate",t,n,0)},day:function(t){return e("getDay",t,n,0)},year:function(t){return e("getFullYear",t,n,0)},month:function(t){return e("getMonth",t,n,0)},hours:function(t){return e("getHours",t,n,0)},minutes:function(t){return e("getMinutes",t,n,0)},seconds:function(t){return e("getSeconds",t,n,0)},milliseconds:function(t){return e("getMilliseconds",t,n,0)},time:function(t){return e("getTime",t,n,0)},timezoneoffset:function(t){return e("getTimezoneOffset",t,n,0)},utcdate:function(t){return e("getUTCDate",t,n,0)},utcday:function(t){return e("getUTCDay",t,n,0)},utcyear:function(t){return e("getUTCFullYear",t,n,0)},utcmonth:function(t){return e("getUTCMonth",t,n,0)},utchours:function(t){return e("getUTCHours",t,n,0)},utcminutes:function(t){return e("getUTCMinutes",t,n,0)},utcseconds:function(t){return e("getUTCSeconds",t,n,0)},utcmilliseconds:function(t){return e("getUTCMilliseconds",t,n,0)},length:function(t){return e("length",t,null,-1)},indexof:function(t){return e("indexOf",t,null)},lastindexof:function(t){return e("lastIndexOf",t,null)},parseFloat:"parseFloat",parseInt:"parseInt",upper:function(t){return e("toUpperCase",t,r,0)},lower:function(t){return e("toLowerCase",t,r,0)},slice:function(t){return e("slice",t,r)},substring:function(t){return e("substring",t,r)},test:function(t){return e("test",t,i)},"if":function(e){if(e.length<3)throw new Error("Missing arguments to if function.");if(e.length>3)throw new Error("Too many arguments to if function.");var n=e.map(t);return n[0]+"?"+n[1]+":"+n[2]}}},D=function(t){function e(t){if(t instanceof String)return t;var e=o[t.type];if(null==e)throw new Error("Unsupported type: "+t.type);return e(t)}t=t||{};var n=t.constants||N,r=(t.functions||U)(e),i=t.idWhiteList?z.toMap(t.idWhiteList):null,a=t.idBlackList?z.toMap(t.idBlackList):null,s=0,o={Literal:function(t){return t.raw},Identifier:function(t){var e=t.name;if(s>0)return e;if(n.hasOwnProperty(e))return n[e];if(i){if(i.hasOwnProperty(e))return e;throw new Error("Illegal identifier: "+e)}if(a&&a.hasOwnProperty(e))throw new Error("Illegal identifier: "+e);return e},Program:function(t){return t.body.map(e).join("\n")},MemberExpression:function(t){var n=!t.computed,r=e(t.object);n&&(s+=1);var i=e(t.property);return n&&(s-=1),r+(n?"."+i:"["+i+"]")},CallExpression:function(t){if("Identifier"!==t.callee.type)throw new Error("Illegal callee type: "+t.callee.type);var n=t.callee.name,i=t.arguments,a=r.hasOwnProperty(n)&&r[n];if(!a)throw new Error("Unrecognized function: "+n);return a instanceof Function?a(i):a+"("+i.map(e).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(e).join(",")+"]"},BinaryExpression:function(t){return"("+e(t.left)+t.operator+e(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+e(t.argument)+")"},UpdateExpression:function(t){return"("+(prefix?t.operator+e(t.argument):e(t.argument)+t.operator)+")"},ConditionalExpression:function(t){return"("+e(t.test)+"?"+e(t.consequent)+":"+e(t.alternate)+")"},LogicalExpression:function(t){return"("+e(t.left)+t.operator+e(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(e).join(",")+"}"},Property:function(t){s+=1;var n=e(t.key);return s-=1,n+":"+e(t.value)},ExpressionStatement:function(t){return e(t.expression)}};return e},j=function(){"use strict";
function t(t,e){if(!t)throw new Error("ASSERT: "+e)}function e(t){return t>=48&&57>=t}function n(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function r(t){return"01234567".indexOf(t)>=0}function i(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function a(t){return 10===t||13===t||8232===t||8233===t}function s(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||92===t||t>=128&&Se.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function o(t){return 36===t||95===t||t>=65&&90>=t||t>=97&&122>=t||t>=48&&57>=t||92===t||t>=128&&Se.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function u(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(t){if(Ae&&l(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function h(){var t,e;for(e=0===Me;ze>Me;)if(t=Ee.charCodeAt(Me),i(t))++Me;else{if(!a(t))break;++Me,13===t&&10===Ee.charCodeAt(Me)&&++Me,++Le,Ce=Me,e=!0}}function f(t){var e,r,i,a=0;for(r="u"===t?4:2,e=0;r>e;++e){if(!(ze>Me&&n(Ee[Me])))return"";i=Ee[Me++],a=16*a+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(a)}function d(){var t,e,r,i;for(t=Ee[Me],e=0,"}"===t&&F({},we.UnexpectedToken,"ILLEGAL");ze>Me&&(t=Ee[Me++],n(t));)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&F({},we.UnexpectedToken,"ILLEGAL"),65535>=e?String.fromCharCode(e):(r=(e-65536>>10)+55296,i=(e-65536&1023)+56320,String.fromCharCode(r,i))}function p(){var t,e;for(t=Ee.charCodeAt(Me++),e=String.fromCharCode(t),92===t&&(117!==Ee.charCodeAt(Me)&&F({},we.UnexpectedToken,"ILLEGAL"),++Me,t=f("u"),t&&"\\"!==t&&s(t.charCodeAt(0))||F({},we.UnexpectedToken,"ILLEGAL"),e=t);ze>Me&&(t=Ee.charCodeAt(Me),o(t));)++Me,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==Ee.charCodeAt(Me)&&F({},we.UnexpectedToken,"ILLEGAL"),++Me,t=f("u"),t&&"\\"!==t&&o(t.charCodeAt(0))||F({},we.UnexpectedToken,"ILLEGAL"),e+=t);return e}function g(){var t,e;for(t=Me++;ze>Me;){if(e=Ee.charCodeAt(Me),92===e)return Me=t,p();if(!o(e))break;++Me}return Ee.slice(t,Me)}function m(){var t,e,n;return t=Me,e=92===Ee.charCodeAt(Me)?p():g(),n=1===e.length?xe.Identifier:c(e)?xe.Keyword:"null"===e?xe.NullLiteral:"true"===e||"false"===e?xe.BooleanLiteral:xe.Identifier,{type:n,value:e,lineNumber:Le,lineStart:Ce,start:t,end:Me}}function v(){var t,e,n,r,i=Me,a=Ee.charCodeAt(Me),s=Ee[Me];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Me,Te.tokenize&&(40===a?Te.openParenToken=Te.tokens.length:123===a&&(Te.openCurlyToken=Te.tokens.length)),{type:xe.Punctuator,value:String.fromCharCode(a),lineNumber:Le,lineStart:Ce,start:i,end:Me};default:if(t=Ee.charCodeAt(Me+1),61===t)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Me+=2,{type:xe.Punctuator,value:String.fromCharCode(a)+String.fromCharCode(t),lineNumber:Le,lineStart:Ce,start:i,end:Me};case 33:case 61:return Me+=2,61===Ee.charCodeAt(Me)&&++Me,{type:xe.Punctuator,value:Ee.slice(i,Me),lineNumber:Le,lineStart:Ce,start:i,end:Me}}}return r=Ee.substr(Me,4),">>>="===r?(Me+=4,{type:xe.Punctuator,value:r,lineNumber:Le,lineStart:Ce,start:i,end:Me}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Me+=3,{type:xe.Punctuator,value:n,lineNumber:Le,lineStart:Ce,start:i,end:Me}):(e=n.substr(0,2),s===e[1]&&"+-<>&|".indexOf(s)>=0||"=>"===e?(Me+=2,{type:xe.Punctuator,value:e,lineNumber:Le,lineStart:Ce,start:i,end:Me}):"<>=!+-*%&|^/".indexOf(s)>=0?(++Me,{type:xe.Punctuator,value:s,lineNumber:Le,lineStart:Ce,start:i,end:Me}):void F({},we.UnexpectedToken,"ILLEGAL")))}function y(t){for(var e="";ze>Me&&n(Ee[Me]);)e+=Ee[Me++];return 0===e.length&&F({},we.UnexpectedToken,"ILLEGAL"),s(Ee.charCodeAt(Me))&&F({},we.UnexpectedToken,"ILLEGAL"),{type:xe.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:Le,lineStart:Ce,start:t,end:Me}}function x(t){for(var n="0"+Ee[Me++];ze>Me&&r(Ee[Me]);)n+=Ee[Me++];return(s(Ee.charCodeAt(Me))||e(Ee.charCodeAt(Me)))&&F({},we.UnexpectedToken,"ILLEGAL"),{type:xe.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:Le,lineStart:Ce,start:t,end:Me}}function b(){var n,i,a;if(a=Ee[Me],t(e(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),i=Me,n="","."!==a){if(n=Ee[Me++],a=Ee[Me],"0"===n){if("x"===a||"X"===a)return++Me,y(i);if(r(a))return x(i);a&&e(a.charCodeAt(0))&&F({},we.UnexpectedToken,"ILLEGAL")}for(;e(Ee.charCodeAt(Me));)n+=Ee[Me++];a=Ee[Me]}if("."===a){for(n+=Ee[Me++];e(Ee.charCodeAt(Me));)n+=Ee[Me++];a=Ee[Me]}if("e"===a||"E"===a)if(n+=Ee[Me++],a=Ee[Me],("+"===a||"-"===a)&&(n+=Ee[Me++]),e(Ee.charCodeAt(Me)))for(;e(Ee.charCodeAt(Me));)n+=Ee[Me++];else F({},we.UnexpectedToken,"ILLEGAL");return s(Ee.charCodeAt(Me))&&F({},we.UnexpectedToken,"ILLEGAL"),{type:xe.NumericLiteral,value:parseFloat(n),lineNumber:Le,lineStart:Ce,start:i,end:Me}}function k(){var e,n,i,s,o,u,l,c,h="",p=!1;for(l=Le,c=Ce,e=Ee[Me],t("'"===e||'"'===e,"String literal must starts with a quote"),n=Me,++Me;ze>Me;){if(i=Ee[Me++],i===e){e="";break}if("\\"===i)if(i=Ee[Me++],i&&a(i.charCodeAt(0)))++Le,"\r"===i&&"\n"===Ee[Me]&&++Me,Ce=Me;else switch(i){case"u":case"x":"{"===Ee[Me]?(++Me,h+=d()):(u=Me,o=f(i),o?h+=o:(Me=u,h+=i));break;case"n":h+="\n";break;case"r":h+="\r";break;case"t":h+="	";break;case"b":h+="\b";break;case"f":h+="\f";break;case"v":h+="";break;default:r(i)?(s="01234567".indexOf(i),0!==s&&(p=!0),ze>Me&&r(Ee[Me])&&(p=!0,s=8*s+"01234567".indexOf(Ee[Me++]),"0123".indexOf(i)>=0&&ze>Me&&r(Ee[Me])&&(s=8*s+"01234567".indexOf(Ee[Me++]))),h+=String.fromCharCode(s)):h+=i}else{if(a(i.charCodeAt(0)))break;h+=i}}return""!==e&&F({},we.UnexpectedToken,"ILLEGAL"),{type:xe.StringLiteral,value:h,octal:p,startLineNumber:l,startLineStart:c,lineNumber:Le,lineStart:Ce,start:n,end:Me}}function _(t,e){var n,r=t;e.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e){return parseInt(e,16)<=1114111?"x":void F({},we.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(r)}catch(i){F({},we.InvalidRegExp)}try{return new RegExp(t,e)}catch(a){return null}}function w(){var e,n,r,i,s;for(e=Ee[Me],t("/"===e,"Regular expression literal must start with a slash"),n=Ee[Me++],r=!1,i=!1;ze>Me;)if(e=Ee[Me++],n+=e,"\\"===e)e=Ee[Me++],a(e.charCodeAt(0))&&F({},we.UnterminatedRegExp),n+=e;else if(a(e.charCodeAt(0)))F({},we.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||F({},we.UnterminatedRegExp),s=n.substr(1,n.length-2),{value:s,literal:n}}function S(){var t,e,n,r;for(e="",n="";ze>Me&&(t=Ee[Me],o(t.charCodeAt(0)));)if(++Me,"\\"===t&&ze>Me)if(t=Ee[Me],"u"===t){if(++Me,r=Me,t=f("u"))for(n+=t,e+="\\u";Me>r;++r)e+=Ee[r];else Me=r,n+="u",e+="\\u";W({},we.UnexpectedToken,"ILLEGAL")}else e+="\\",W({},we.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}function E(){var t,e,n,r;return Ie=null,h(),t=Me,e=w(),n=S(),r=_(e.value,n.value),Te.tokenize?{type:xe.RegularExpression,value:r,regex:{pattern:e.value,flags:n.value},lineNumber:Le,lineStart:Ce,start:t,end:Me}:{literal:e.literal+n.literal,value:r,regex:{pattern:e.value,flags:n.value},start:t,end:Me}}function A(){var t,e,n,r;return h(),t=Me,e={start:{line:Le,column:Me-Ce}},n=E(),e.end={line:Le,column:Me-Ce},Te.tokenize||(Te.tokens.length>0&&(r=Te.tokens[Te.tokens.length-1],r.range[0]===t&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Te.tokens.pop()),Te.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[t,Me],loc:e})),n}function M(t){return t.type===xe.Identifier||t.type===xe.Keyword||t.type===xe.BooleanLiteral||t.type===xe.NullLiteral}function L(){var t,e;if(t=Te.tokens[Te.tokens.length-1],!t)return A();if("Punctuator"===t.type){if("]"===t.value)return v();if(")"===t.value)return e=Te.tokens[Te.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?v():A();if("}"===t.value){if(Te.tokens[Te.openCurlyToken-3]&&"Keyword"===Te.tokens[Te.openCurlyToken-3].type){if(e=Te.tokens[Te.openCurlyToken-4],!e)return v()}else{if(!Te.tokens[Te.openCurlyToken-4]||"Keyword"!==Te.tokens[Te.openCurlyToken-4].type)return v();if(e=Te.tokens[Te.openCurlyToken-5],!e)return A()}return v()}return A()}return"Keyword"===t.type&&"this"!==t.value?A():v()}function C(){var t;return h(),Me>=ze?{type:xe.EOF,lineNumber:Le,lineStart:Ce,start:Me,end:Me}:(t=Ee.charCodeAt(Me),s(t)?m():40===t||41===t||59===t?v():39===t||34===t?k():46===t?e(Ee.charCodeAt(Me+1))?b():v():e(t)?b():Te.tokenize&&47===t?L():v())}function z(){var t,e,n,r;return h(),t={start:{line:Le,column:Me-Ce}},e=C(),t.end={line:Le,column:Me-Ce},e.type!==xe.EOF&&(n=Ee.slice(e.start,e.end),r={type:be[e.type],value:n,range:[e.start,e.end],loc:t},e.regex&&(r.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Te.tokens.push(r)),e}function I(){var t;return t=Ie,Me=t.end,Le=t.lineNumber,Ce=t.lineStart,Ie="undefined"!=typeof Te.tokens?z():C(),Me=t.end,Le=t.lineNumber,Ce=t.lineStart,t}function P(){var t,e,n;t=Me,e=Le,n=Ce,Ie="undefined"!=typeof Te.tokens?z():C(),Me=t,Le=e,Ce=n}function T(){this.line=Le,this.column=Me-Ce}function O(){this.start=new T,this.end=null}function N(t){this.start=t.type===xe.StringLiteral?{line:t.startLineNumber,column:t.start-t.startLineStart}:{line:t.lineNumber,column:t.start-t.lineStart},this.end=null}function U(){Me=Ie.start,Ie.type===xe.StringLiteral?(Le=Ie.startLineNumber,Ce=Ie.startLineStart):(Le=Ie.lineNumber,Ce=Ie.lineStart),Te.range&&(this.range=[Me,0]),Te.loc&&(this.loc=new O)}function D(t){Te.range&&(this.range=[t.start,0]),Te.loc&&(this.loc=new N(t))}function j(){var t,e,n,r;return t=Me,e=Le,n=Ce,h(),r=Le!==e,Me=t,Le=e,Ce=n,r}function F(e,n){var r,i=Array.prototype.slice.call(arguments,2),a=n.replace(/%(\d)/g,function(e,n){return t(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof e.lineNumber?(r=new Error("Line "+e.lineNumber+": "+a),r.index=e.start,r.lineNumber=e.lineNumber,r.column=e.start-Ce+1):(r=new Error("Line "+Le+": "+a),r.index=Me,r.lineNumber=Le,r.column=Me-Ce+1),r.description=a,r}function W(){try{F.apply(null,arguments)}catch(t){if(!Te.errors)throw t;Te.errors.push(t)}}function R(t){if(t.type===xe.EOF&&F(t,we.UnexpectedEOS),t.type===xe.NumericLiteral&&F(t,we.UnexpectedNumber),t.type===xe.StringLiteral&&F(t,we.UnexpectedString),t.type===xe.Identifier&&F(t,we.UnexpectedIdentifier),t.type===xe.Keyword){if(u(t.value))F(t,we.UnexpectedReserved);else if(Ae&&l(t.value))return void W(t,we.StrictReservedWord);F(t,we.UnexpectedToken,t.value)}F(t,we.UnexpectedToken,t.value)}function q(t){var e=I();(e.type!==xe.Punctuator||e.value!==t)&&R(e)}function B(t){if(Te.errors){var e=Ie;e.type!==xe.Punctuator&&e.value!==t?W(e,we.UnexpectedToken,e.value):I()}else q(t)}function G(t){return Ie.type===xe.Punctuator&&Ie.value===t}function V(t){return Ie.type===xe.Keyword&&Ie.value===t}function H(){var t;return 59===Ee.charCodeAt(Me)||G(";")?void I():(t=Le,h(),void(Le===t&&(Ie.type===xe.EOF||G("}")||R(Ie))))}function K(){var t=[],e=new U;for(q("[");!G("]");)G(",")?(I(),t.push(null)):(t.push(le()),G("]")||q(","));return I(),e.finishArrayExpression(t)}function X(){var t,e=new U;return t=I(),t.type===xe.StringLiteral||t.type===xe.NumericLiteral?(Ae&&t.octal&&W(t,we.StrictOctalLiteral),e.finishLiteral(t)):e.finishIdentifier(t.value)}function J(){var t,e,n,r,i=new U;return t=Ie,t.type===xe.Identifier?(n=X(),q(":"),r=le(),i.finishProperty("init",n,r)):t.type!==xe.EOF&&t.type!==xe.Punctuator?(e=X(),q(":"),r=le(),i.finishProperty("init",e,r)):void R(t)}function Q(){var t,e,n,r,i=[],a={},s=String,o=new U;for(q("{");!G("}");)t=J(),e=t.key.type===ke.Identifier?t.key.name:s(t.key.value),r="init"===t.kind?_e.Data:"get"===t.kind?_e.Get:_e.Set,n="$"+e,Object.prototype.hasOwnProperty.call(a,n)?(a[n]===_e.Data?Ae&&r===_e.Data?W({},we.StrictDuplicateProperty):r!==_e.Data&&W({},we.AccessorDataProperty):r===_e.Data?W({},we.AccessorDataProperty):a[n]&r&&W({},we.AccessorGetSet),a[n]|=r):a[n]=r,i.push(t),G("}")||B(",");return q("}"),o.finishObjectExpression(i)}function $(){var t;return q("("),++Pe.parenthesisCount,t=ce(),q(")"),t}function Y(){var t,e,n,r;if(G("("))return $();if(G("["))return K();if(G("{"))return Q();if(t=Ie.type,r=new U,t===xe.Identifier||Oe[Ie.value])n=r.finishIdentifier(I().value);else if(t===xe.StringLiteral||t===xe.NumericLiteral)Ae&&Ie.octal&&W(Ie,we.StrictOctalLiteral),n=r.finishLiteral(I());else{if(t===xe.Keyword)throw new Error("Disabled.");t===xe.BooleanLiteral?(e=I(),e.value="true"===e.value,n=r.finishLiteral(e)):t===xe.NullLiteral?(e=I(),e.value=null,n=r.finishLiteral(e)):G("/")||G("/=")?(n=r.finishLiteral("undefined"!=typeof Te.tokens?A():E()),P()):R(I())}return n}function Z(){var t=[];if(q("("),!G(")"))for(;ze>Me&&(t.push(le()),!G(")"));)B(",");return q(")"),t}function te(){var t,e=new U;return t=I(),M(t)||R(t),e.finishIdentifier(t.value)}function ee(){return q("."),te()}function ne(){var t;return q("["),t=ce(),q("]"),t}function re(){var t,e,n,r,i=Pe.allowIn;for(r=Ie,Pe.allowIn=!0,t=Y();;)if(G("."))n=ee(),t=new D(r).finishMemberExpression(".",t,n);else if(G("("))e=Z(),t=new D(r).finishCallExpression(t,e);else{if(!G("["))break;n=ne(),t=new D(r).finishMemberExpression("[",t,n)}return Pe.allowIn=i,t}function ie(){var t;if(t=re(),Ie.type===xe.Punctuator&&(G("++")||G("--"))&&!j())throw new Error("Disabled.");return t}function ae(){var t,e,n;if(Ie.type!==xe.Punctuator&&Ie.type!==xe.Keyword)e=ie();else{if(G("++")||G("--"))throw new Error("Disabled.");if(G("+")||G("-")||G("~")||G("!"))n=Ie,t=I(),e=ae(),e=new D(n).finishUnaryExpression(t.value,e);else{if(V("delete")||V("void")||V("typeof"))throw new Error("Disabled.");e=ie()}}return e}function se(t,e){var n=0;if(t.type!==xe.Punctuator&&t.type!==xe.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function oe(){var t,e,n,r,i,a,s,o,u,l;if(t=Ie,u=ae(),r=Ie,i=se(r,Pe.allowIn),0===i)return u;for(r.prec=i,I(),e=[t,Ie],s=ae(),a=[u,r,s];(i=se(Ie,Pe.allowIn))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),o=a.pop().value,u=a.pop(),e.pop(),n=new D(e[e.length-1]).finishBinaryExpression(o,u,s),a.push(n);r=I(),r.prec=i,a.push(r),e.push(Ie),n=ae(),a.push(n)}for(l=a.length-1,n=a[l],e.pop();l>1;)n=new D(e.pop()).finishBinaryExpression(a[l-1].value,a[l-2],n),l-=2;return n}function ue(){var t,e,n,r,i;return i=Ie,t=oe(),G("?")&&(I(),e=Pe.allowIn,Pe.allowIn=!0,n=le(),Pe.allowIn=e,q(":"),r=le(),t=new D(i).finishConditionalExpression(t,n,r)),t}function le(){var t,e,n,r;return t=Pe.parenthesisCount,r=Ie,e=Ie,n=ue()}function ce(){var t;if(t=le(),G(","))throw new Error("Disabled.");return t}function he(t){var e=ce();return H(),t.finishExpressionStatement(e)}function fe(){var t,e,n=Ie.type;if(n===xe.EOF&&R(Ie),n===xe.Punctuator&&"{"===Ie.value)throw new Error("Disabled.");if(e=new U,n===xe.Punctuator)switch(Ie.value){case";":throw new Error("Disabled.");case"(":return he(e)}else if(n===xe.Keyword)throw new Error("Disabled.");return t=ce(),H(),e.finishExpressionStatement(t)}function de(){if(Ie.type===xe.Keyword)switch(Ie.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return fe()}return Ie.type!==xe.EOF?fe():void 0}function pe(){for(var t,e,n,r,i=[];ze>Me&&(e=Ie,e.type===xe.StringLiteral)&&(t=de(),i.push(t),t.expression.type===ke.Literal);)n=Ee.slice(e.start+1,e.end-1),"use strict"===n?(Ae=!0,r&&W(r,we.StrictOctalLiteral)):!r&&e.octal&&(r=e);for(;ze>Me&&(t=de(),"undefined"!=typeof t);)i.push(t);return i}function ge(){var t,e;return h(),P(),e=new U,Ae=!0,t=pe(),e.finishProgram(t)}function me(){var t,e,n,r=[];for(t=0;t<Te.tokens.length;++t)e=Te.tokens[t],n={type:e.type,value:e.value},e.regex&&(n.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Te.range&&(n.range=e.range),Te.loc&&(n.loc=e.loc),r.push(n);Te.tokens=r}function ve(t,e){var n,r;n=String,"string"==typeof t||t instanceof String||(t=n(t)),Ee=t,Me=0,Le=Ee.length>0?1:0,Ce=0,ze=Ee.length,Ie=null,Pe={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Te={},e=e||{},e.tokens=!0,Te.tokens=[],Te.tokenize=!0,Te.openParenToken=-1,Te.openCurlyToken=-1,Te.range="boolean"==typeof e.range&&e.range,Te.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.tolerant&&e.tolerant&&(Te.errors=[]);try{if(P(),Ie.type===xe.EOF)return Te.tokens;for(I();Ie.type!==xe.EOF;)try{I()}catch(i){if(Te.errors){Te.errors.push(i);break}throw i}me(),r=Te.tokens,"undefined"!=typeof Te.errors&&(r.errors=Te.errors)}catch(a){throw a}finally{Te={}}return r}function ye(t,e){var n,r;r=String,"string"==typeof t||t instanceof String||(t=r(t)),Ee=t,Me=0,Le=Ee.length>0?1:0,Ce=0,ze=Ee.length,Ie=null,Pe={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Te={},"undefined"!=typeof e&&(Te.range="boolean"==typeof e.range&&e.range,Te.loc="boolean"==typeof e.loc&&e.loc,Te.loc&&null!==e.source&&void 0!==e.source&&(Te.source=r(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(Te.tokens=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Te.errors=[]));try{n=ge(),"undefined"!=typeof Te.tokens&&(me(),n.tokens=Te.tokens),"undefined"!=typeof Te.errors&&(n.errors=Te.errors)}catch(i){throw i}finally{Te={}}return n}var xe,be,ke,_e,we,Se,Ee,Ae,Me,Le,Ce,ze,Ie,Pe,Te;xe={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},be={},be[xe.BooleanLiteral]="Boolean",be[xe.EOF]="<end>",be[xe.Identifier]="Identifier",be[xe.Keyword]="Keyword",be[xe.NullLiteral]="Null",be[xe.NumericLiteral]="Numeric",be[xe.Punctuator]="Punctuator",be[xe.StringLiteral]="String",be[xe.RegularExpression]="RegularExpression",ke={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression"},_e={Data:1,Get:2,Set:4},we={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Se={NonAsciiIdentifierStart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},D.prototype=U.prototype={finish:function(){Te.range&&(this.range[1]=Me),Te.loc&&(this.loc.end=new T,Te.source&&(this.loc.source=Te.source))},finishArrayExpression:function(t){return this.type=ke.ArrayExpression,this.elements=t,this.finish(),this},finishAssignmentExpression:function(t,e,n){return this.type=ke.AssignmentExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBinaryExpression:function(t,e,n){return this.type="||"===t||"&&"===t?ke.LogicalExpression:ke.BinaryExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishCallExpression:function(t,e){return this.type=ke.CallExpression,this.callee=t,this.arguments=e,this.finish(),this},finishConditionalExpression:function(t,e,n){return this.type=ke.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishExpressionStatement:function(t){return this.type=ke.ExpressionStatement,this.expression=t,this.finish(),this},finishIdentifier:function(t){return this.type=ke.Identifier,this.name=t,this.finish(),this},finishLiteral:function(t){return this.type=ke.Literal,this.value=t.value,this.raw=Ee.slice(t.start,t.end),t.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=t.regex),this.finish(),this},finishMemberExpression:function(t,e,n){return this.type=ke.MemberExpression,this.computed="["===t,this.object=e,this.property=n,this.finish(),this},finishObjectExpression:function(t){return this.type=ke.ObjectExpression,this.properties=t,this.finish(),this},finishProgram:function(t){return this.type=ke.Program,this.body=t,this.finish(),this},finishProperty:function(t,e,n){return this.type=ke.Property,this.key=e,this.value=n,this.kind=t,this.finish(),this},finishUnaryExpression:function(t,e){return this.type="++"===t||"--"===t?ke.UpdateExpression:ke.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0,this.finish(),this}};var Oe={"if":1,"this":1};return{tokenize:ve,parse:ye}}();z.parse={},z.parse.axes=function(){function t(t,n,r){(t||[]).forEach(function(t,i){n[i]=n[i]||z.scene.axis(),e(t,i,n[i],r)})}function e(t,e,r,i){void 0!==t.scale&&r.scale(i[t.scale]),r.orient(t.orient||n[t.type]),r.offset(t.offset||0),r.layer(t.layer||"front"),r.grid(t.grid||!1),r.title(t.title||null),r.titleOffset(null!=t.titleOffset?t.titleOffset:z.config.axis.titleOffset),r.tickValues(t.values||null),r.tickFormat(t.format||null),r.tickSubdivide(t.subdivide||0),r.tickPadding(t.tickPadding||z.config.axis.padding);var a=[];if(void 0!==t.tickSize)for(var s=0;3>s;++s)a.push(t.tickSize);else{var o=z.config.axis.tickSize;a=[o,o,o]}null!=t.tickSizeMajor&&(a[0]=t.tickSizeMajor),null!=t.tickSizeMinor&&(a[1]=t.tickSizeMinor),null!=t.tickSizeEnd&&(a[2]=t.tickSizeEnd),a.length&&r.tickSize.apply(r,a),r.tickCount(t.ticks||z.config.axis.ticks);var u=t.properties;u&&u.ticks?(r.majorTickProperties(u.majorTicks?z.extend({},u.ticks,u.majorTicks):u.ticks),r.minorTickProperties(u.minorTicks?z.extend({},u.ticks,u.minorTicks):u.ticks)):(r.majorTickProperties(u&&u.majorTicks||{}),r.minorTickProperties(u&&u.minorTicks||{})),r.tickLabelProperties(u&&u.labels||{}),r.titleProperties(u&&u.title||{}),r.gridLineProperties(u&&u.grid||{}),r.domainProperties(u&&u.axis||{})}var n={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};return t}(),z.parse.background=function(e){return null==e?null:t.rgb(e)+""},z.parse.data=function(t,e){function n(t){return function(n,r){if(n)z.error("LOADING FAILED: "+t.url);else try{i.load[t.name]=z.data.read(r.toString(),t.format)}catch(s){z.error("UNABLE TO PARSE: "+t.url+" "+s.toString())}0===--a&&e()}}function r(t){1!==l[t]&&(l[t]||(l[t]=1,(i.source[t]||[]).forEach(r),(i.deps[t]||[]).forEach(r),l[t]=2,u.push(t)))}var i={defs:t,load:{},flow:{},deps:{},source:{},sorted:null},a=0;(t||[]).forEach(function(t){if(t.url?(a+=1,z.data.load(t.url,n(t))):t.values?i.load[t.name]=z.data.read(t.values,t.format):t.source&&(i.source[t.source]||(i.source[t.source]=[])).push(t.name),t.transform){var e=z.parse.dataflow(t);i.flow[t.name]=e,e.dependencies.forEach(function(e){(i.deps[e]||(i.deps[e]=[])).push(t.name)})}});for(var s,o=(t||[]).map(z.accessor("name")),u=[],l={};o.length;)2!==l[s=o.pop()]&&r(s);return i.sorted=u.reverse(),0===a&&setTimeout(e,1),i},z.parse.dataflow=function(t){var e=(t.transform||[]).map(z.parse.transform),n=e.length?function(t,n,r){return e.reduce(function(t,e){return e(t,n,r)},t)}:z.identity;return n.transforms=e,n.dependencies=z.keys((t.transform||[]).reduce(function(t,e){var n=z.data[e.type].dependencies;return n&&n.forEach(function(n){e[n]&&(t[e[n]]=1)}),t},{})),n},z.parse.expr=function(){var t=z.expression.parse,e=z.expression.code({idWhiteList:["d","index","data"]});return function(n){var r=e(t(n));return Function("d","index","data",'"use strict"; return ('+r+");")}}(),z.parse.legends=function(){function t(t,n,r){(t||[]).forEach(function(t,i){n[i]=n[i]||z.scene.legend(),e(t,i,n[i],r)})}function e(t,e,n,r){n.size(t.size?r[t.size]:null),n.shape(t.shape?r[t.shape]:null),n.fill(t.fill?r[t.fill]:null),n.stroke(t.stroke?r[t.stroke]:null),t.orient&&n.orient(t.orient),null!=t.offset&&n.offset(t.offset),n.title(t.title||null),n.values(t.values||null),n.format(void 0!==t.format?t.format:null);var i=t.properties;n.titleProperties(i&&i.title||{}),n.labelProperties(i&&i.labels||{}),n.legendProperties(i&&i.legend||{}),n.symbolProperties(i&&i.symbols||{}),n.gradientProperties(i&&i.gradient||{})}return t}(),z.parse.mark=function(t){var e=t.properties,n=t.marks;if(z.keys(e).forEach(function(n){e[n]=z.parse.properties(t.type,e[n])}),t.delay&&(t.delay=z.parse.properties(t.type,{delay:t.delay})),t.from){var r=t.from.data,i=z.parse.dataflow(t.from);t.from=function(t,e,n){var a=z.scene.data(r?t[r]:null,n);return i(a,t,e)}}return n&&(t.marks=n.map(z.parse.mark)),t},z.parse.marks=function(t,e,n){return{type:"group",width:e,height:n,scales:t.scales||[],axes:t.axes||[],legends:t.legends||[],marks:(t.marks||[]).map(z.parse.mark)}},z.parse.padding=function(t){if(null==t)return"auto";if(z.isString(t))return"strict"===t?"strict":"auto";if(z.isObject(t))return t;var e=z.isNumber(t)?t:20;return{top:e,left:e,right:e,bottom:e}},z.parse.properties=function(){function t(t,r){var i,a,s,o,u="",l=z.keys(r),c={};for(u+="var o = trans ? {} : item;\n",i=0,a=l.length;a>i;++i)o=r[s=l[i]],u+=i>0?"\n  ":"  ",u+="o."+s+" = "+n(s,o)+";",c[s]=!0;c.x2&&(c.x?(u+="\n  if (o.x > o.x2) { var t = o.x; o.x = o.x2; o.x2 = t; };",u+="\n  o.width = (o.x2 - o.x);"):u+=c.width?"\n  o.x = (o.x2 - o.width);":"\n  o.x = o.x2;"),c.xc&&(u+=c.width?"\n  o.x = (o.xc - o.width/2);":"\n  o.x = o.xc;"),c.y2&&(c.y?(u+="\n  if (o.y > o.y2) { var t = o.y; o.y = o.y2; o.y2 = t; };",u+="\n  o.height = (o.y2 - o.y);"):u+=c.height?"\n  o.y = (o.y2 - o.height);":"\n  o.y = o.y2;"),c.yc&&(u+=c.height?"\n  o.y = (o.yc - o.height/2);":"\n  o.y = o.yc;"),e(t,c)&&(u+="\n  item.touch();"),u+="\n  if (trans) trans.interpolate(item, o);";try{return Function("item","group","trans",u)}catch(h){z.error(h),z.log(u)}}function e(t,e){return e.path||("area"===t||"line"===t)&&(e.x||e.x2||e.width||e.y||e.y2||e.height||e.tension||e.interpolate)}function n(t,e){if(null==e)return null;var n="fill"===t||"stroke"===t;if(n){if(e.c)return r("hcl",e.h,e.c,e.l);if(e.h||e.s)return r("hsl",e.h,e.s,e.l);if(e.l||e.a)return r("lab",e.l,e.a,e.b);if(e.r||e.g||e.b)return r("rgb",e.r,e.g,e.b)}if(e.template)return z.parse.template.source(e.template,"item.datum");var a="item.datum.data";if(void 0!==e.value&&(a=z.str(e.value)),null!=e.group){var s="group.datum";z.isString(e.group)&&(s=i[e.group]?"group."+e.group:"group.datum["+z.field(e.group).map(z.str).join("][")+"]")}if(null!=e.field?z.isString(e.field)?(a="item.datum["+z.field(e.field).map(z.str).join("][")+"]",null!=e.group&&(a="this.accessor("+a+")("+s+")")):a="this.accessor(group.datum["+z.field(e.field.group).map(z.str).join("][")+"])(item.datum.data)":null!=e.group&&(a=s),null!=e.scale){var o=z.isString(e.scale)?z.str(e.scale):(e.scale.group?"group":"item")+".datum["+z.str(e.scale.group||e.scale.field)+"]";o="group.scales["+o+"]",a=o+(e.band?".rangeBand()":"("+a+")")}return a="("+(null!=e.mult?z.number(e.mult)+" * ":"")+a+")"+(e.offset?" + "+z.number(e.offset):"")}function r(t,e,r,i){var a=e?n("",e):z.config.color[t][0],s=r?n("",r):z.config.color[t][1],o=i?n("",i):z.config.color[t][2];return"(this.d3."+t+"("+[a,s,o].join(",")+') + "")'}var i={width:1,height:1,"mark.group.width":1,"mark.group.height":1};
return t}(),z.parse.scales=function(){function e(t,e,r,i){return(t||[]).reduce(function(t,e){var a=e.name,s=a+":prev";return t[a]=n(e,t[a],r,i),t[s]=t[s]||t[a],t},e||{})}function n(t,e,n,s){var o=r(t,e),u=o.type===h?i:a,c=l(t,s),f=z.values(s.datum);return u(t,o,c,n,f),o}function r(e,n){var r=e.type||c;if(!n||r!==n.type){var i=z.config.scale[r]||t.scale[r];i||z.error("Unrecognized scale type: "+r),(n=i()).type=n.type||r,n.scaleName=e.name}return n}function i(t,e,n,r,i){var a,u,l,c,h=!1,f=t.padding||0,d=null==t.outerPadding?f:t.outerPadding;if(z.isObject(t.range)&&!z.isArray(t.range)&&(h=!0,c=t.range.fields||z.array(t.range),n=s(c,r,i)),u=t.sort&&!h,a=o(t,r,i,u),a&&e.domain(a),t.bandWidth){var p,g=t.bandWidth,m=a.length,v=t.points?f*g:f*g*(m-1)+2*d;n[0]>n[1]?(p=n[1]||0,n=[p+(g*m+v),p]):(p=n[0]||0,n=[p,p+(g*m+v)])}l="string"==typeof n[0],l||n.length>2||1===n.length||h?e.range(n):t.points&&(t.round||null==t.round)?e.rangeRoundPoints(n,f):t.points?e.rangePoints(n,f):t.round||null==t.round?e.rangeRoundBands(n,f,d):e.rangeBands(n,f,d)}function a(e,n,r,i,a){var s,l;s=e.type===g?o(e,i,a,!1):u(e,i,a),n.domain(s),"height"===e.range&&(r=r.reverse()),n[e.round&&n.rangeRound?"rangeRound":"range"](r),e.exponent&&e.type===d&&n.exponent(e.exponent),e.clamp&&n.clamp(!0),e.nice&&(e.type===p?(l=t.time[e.nice],l||z.error("Unrecognized interval: "+l),n.nice(l)):n.nice())}function s(t,e,n){return t.reduce(function(t,r){var i=z.values(e[r.data]||n),a=z.accessor(z.isString(r.field)?r.field:"data."+z.accessor(r.field.group)(n));return z.unique(i,a,t)},[])}function o(t,e,n,r){var i,a,o=t.domain;return z.isArray(o)?i=r?o.slice():o:z.isObject(o)&&(a=o.fields||z.array(o),i=s(a,e,n)),i&&r&&i.sort(z.cmp),i}function u(e,n,r){function i(e,i,a,s){var u=z.values(n[e.data]||r),l=z.array(e.field).map(function(t){return z.isString(t)?t:"data."+z.accessor(t.group)(r)});l.forEach(function(e){e=z.accessor(e),i&&(o[0]=t.min([o[0],t.min(u,e)])),a&&(o[s]=t.max([o[s],t.max(u,e)]))})}var a,s,o=[null,null];return void 0!==e.domain&&(z.isArray(e.domain)?o=e.domain.slice():z.isObject(e.domain)?(a=e.domain.fields||z.array(e.domain),a.forEach(function(t){i(t,1,1,1)})):o=e.domain),s=o.length-1,void 0!==e.domainMin&&(z.isObject(e.domainMin)?(o[0]=null,a=e.domainMin.fields||z.array(e.domainMin),a.forEach(function(t){i(t,1,0,s)})):o[0]=e.domainMin),void 0!==e.domainMax&&(z.isObject(e.domainMax)?(o[s]=null,a=e.domainMax.fields||z.array(e.domainMax),a.forEach(function(t){i(t,0,1,s)})):o[s]=e.domainMax),e.type===f||e.type===p||!e.zero&&void 0!==e.zero||(o[0]=Math.min(0,o[0]),o[s]=Math.max(0,o[s])),o}function l(t,e){var n=[null,null];if(void 0!==t.range)if("string"==typeof t.range)if(m[t.range])n=[0,e[t.range]];else{if(!z.config.range[t.range])return z.error("Unrecogized range: "+t.range),n;n=z.config.range[t.range]}else if(z.isArray(t.range))n=z.duplicate(t.range);else{if(z.isObject(t.range))return null;n=[0,t.range]}if(void 0!==t.rangeMin&&(n[0]=t.rangeMin),void 0!==t.rangeMax&&(n[n.length-1]=t.rangeMax),void 0!==t.reverse){var r=t.reverse;z.isObject(r)&&(r=z.accessor(r.field)(e.datum)),r&&(n=n.reverse())}return n}var c="linear",h="ordinal",f="log",d="pow",p="time",g="quantile",m={width:1,height:1};return e}(),z.parse.spec=function(e,n,r){function i(t){t=z.duplicate(t);var e=t.width||500,i=t.height||500,a=t.viewport||null,s={width:e,height:i,viewport:a,background:z.parse.background(t.background),padding:z.parse.padding(t.padding),marks:z.parse.marks(t,e,i),data:z.parse.data(t.data,function(){n(o)})},o=r(s)}r=r||z.ViewFactory,z.isObject(e)?i(e):t.json(e,function(t,e){t?z.error(t):i(e)})},z.parse.template=function(t){var e=z.parse.template.source(t,"d");e="var __t; return "+e+";";try{return new Function("d",e).bind(z)}catch(n){throw n.source=e,n}},z.parse.template.source=function(t,e){e=e||"obj";var n=0,r="'",i=W;return t.replace(i,function(i,a,s){return r+=t.slice(n,s).replace(q,B),n=s+i.length,a&&(r+="'\n+((__t=("+F(a,e)+"))==null?'':__t)+\n'"),i}),r+"'"};var F=function(e,n){function r(t){return t=t||"",s?(s=!1,o="String("+o+")"+t):o+=t,o}var i=e.split("|"),a=i.shift().trim(),s=!0,o=z.field(a).map(z.str).join("][");o=n+"["+o+"]";for(var u=0;u<i.length;++u){var l,c,h,f=i[u],d=null;switch((l=f.indexOf(":"))>0&&(f=f.slice(0,l),d=i[u].slice(l+1).split(",").map(function(t){return t.trim()})),f=f.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":c=z.number(d[0]),r(".slice(0,"+c+")");break;case"right":c=z.number(d[0]),r(".slice(-"+c+")");break;case"mid":c=z.number(d[0]),h=c+z.number(d[1]),r(".slice(+"+c+","+h+")");break;case"slice":c=z.number(d[0]),r(".slice("+c+(d.length>1?","+z.number(d[1]):"")+")");break;case"truncate":c=z.number(d[0]),h=d[1],h="left"!==h&&"middle"!==h&&"center"!==h?"right":h,o="this.truncate("+r()+","+c+',"'+h+'")';break;case"number":c=H(d[0],t.format),s=!1,o="this.__formats["+c+"]("+o+")";break;case"time":c=H(d[0],t.time.format),s=!1,o="this.__formats["+c+"]("+o+")";break;default:throw Error("Unrecognized template filter: "+f)}}return o},W=/\{\{(.+?)\}\}|$/g,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,B=function(t){return"\\"+R[t]},G=[],V={},H=function(t,e){if(!("'"===t[0]&&"'"===t[t.length-1]||'"'!==t[0]&&'"'===t[t.length-1]))throw Error("Format pattern must be quoted: "+t);if(t=t.slice(1,-1),!V[t]){var n=e(t),r=G.length;G.push(n),V[t]=r}return V[t]};z.__formats=G,z.parse.transform=function(t){var e=z.data[t.type]();return z.keys(t).forEach(function(n){"type"!==n&&e[n](t[n])}),e},z.scene={},z.scene.GROUP="group",z.scene.ENTER=0,z.scene.UPDATE=1,z.scene.EXIT=2,z.scene.DEFAULT_DATA={sentinel:1},z.scene.data=function(t,e){var n=z.scene.DEFAULT_DATA;return t=z.values(t||e||[n]),t===n&&(t=[n]),t},z.scene.fontString=function(t){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+(null!=t.fontSize?t.fontSize:z.config.render.fontSize)+"px "+(t.font||z.config.render.font)},z.scene.Item=function(){function t(t){this.mark=t}var e=t.prototype;return e.hasPropertySet=function(t){var e=this.mark.def.properties;return e&&null!=e[t]},e.cousin=function(t,e){if(0===t)return this;t=t||-1;var n=this.mark,r=n.group,i=null==e?n.items.indexOf(this):e,a=r.items.indexOf(n)+t;return r.items[a].items[i]},e.sibling=function(t){if(0===t)return this;t=t||-1;var e=this.mark,n=e.items.indexOf(this)+t;return e.items[n]},e.remove=function(){var t=this,e=t.mark.items,n=e.indexOf(t);return n>=0&&(n===e.length-1?e.pop():e.splice(n,1)),t},e.touch=function(){this.pathCache&&(this.pathCache=null),this.mark.pathCache&&(this.mark.pathCache=null)},t}(),z.scene.item=function(t){return new z.scene.Item(t)},z.scene.visit=function(t,e){var n,r,i,a,s;if(e(t))return!0;var o=["items","axisItems","legendItems"];for(i=0,a=o.length;a>i;++i)if(s=t[o[i]])for(n=0,r=s.length;r>n;++n)if(z.scene.visit(s[n],e))return!0},z.scene.build=function(){function e(t,e,s,u,l){var c=z.scene.data(t.from?t.from(e,s,u):null,u);return s=n(t,s),s.items=r(t,c,s),a(t,s),t.type===o&&i(t,e,s,l),s}function n(t,e){return e=e||{},e.def=t,e.marktype=t.type,e.interactive=t.interactive!==!1,e}function r(t,e,n){var r,i,a,o,h,f,d=s(t.key),p=n.items||[],g=[],m={};for(r=0,a=p.length;a>r;++r)o=p[r],o.status=c,d&&(m[o.key]=o);for(r=0,a=e.length;a>r;++r)h=e[r],i=r,o=d?m[i=d(h)]:p[r],f=o?!1:(o=z.scene.item(n),!0),o.status=f?u:l,o.datum=h,o.key=i,g.push(o);for(r=0,a=p.length;a>r;++r)o=p[r],o.status===c&&(o.key=d?o.key:g.length,g.splice(o.index,0,o));return g}function i(t,n,r,i){var a,s,o,u,l,c,h=r.items,f=t.marks;for(a=0,s=h.length;s>a;++a){if(c=h[a],!i&&c.scales)for(l in c.scales)l.indexOf(":prev")<0&&(c.scales[l+":prev"]=c.scales[l].copy());for(c.items=c.items||[],o=0,u=f.length;u>o;++o)c.items[o]=e(f[o],n,c.items[o],c.datum),c.items[o].group=c}}function a(e,n){if(e.duration&&(n.duration=e.duration),e.ease&&(n.ease=t.ease(e.ease)),e.delay){var r,i=n.items,a=n.group,s=i.length;for(r=0;s>r;++r)e.delay.call(this,i[r],a)}}function s(t){if(null==t)return null;var e=z.array(t).map(z.accessor);return function(t){for(var n="",r=0,i=e.length;i>r;++r)r>0&&(n+="|"),n+=String(e[r](t));return n}}var o=z.scene.GROUP,u=z.scene.ENTER,l=z.scene.UPDATE,c=z.scene.EXIT;return e}(),z.scene.bounds=function(){function e(){return _||(_=(z.config.isNode?new(require("canvas"))(1,1):t.select("body").append("canvas").attr("class","vega_hidden").attr("width",1).attr("height",1).style("display","none").node()).getContext("2d"))}function n(t,e,n){return null==e?n.set(0,0,0,0):(m(e,n),t.stroke&&0!==t.opacity&&t.strokeWidth>0&&n.expand(t.strokeWidth)),n}function r(t,e){var r=t.path?t.pathCache||(t.pathCache=g(t.path)):null;return n(t,r,e)}function i(t,e){var r=t.mark.items,t=r[0],i=t.pathCache||(t.pathCache=g(v(r)));return n(r[0],i,e)}function a(t,e){var r=t.mark.items,t=r[0],i=t.pathCache||(t.pathCache=g(y(r)));return n(r[0],i,e)}function s(t,e){var n=t.x||0,r=t.y||0,i=n+t.width||0,a=r+t.height||0;return e.set(n,r,i,a),t.stroke&&0!==t.opacity&&t.strokeWidth>0&&e.expand(t.strokeWidth),e}function o(t,e){var n=t.width||0,r=t.height||0,i=(t.x||0)-("center"===t.align?n/2:"right"===t.align?n:0),a=(t.y||0)-("middle"===t.baseline?r/2:"bottom"===t.baseline?r:0);return e.set(i,a,i+n,a+r)}function u(t,e){var n,r;return e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t.stroke&&0!==t.opacity&&t.strokeWidth>0&&e.expand(t.strokeWidth),e}function l(t,e){var n,r,i,a,s,o,u,l,c,h=t.x||0,f=t.y||0,d=t.innerRadius||0,p=t.outerRadius||0,g=(t.startAngle||0)-x,m=(t.endAngle||0)-x,v=1/0,y=-1/0,b=1/0,k=-1/0,_=[g,m],w=g-g%x;for(r=0;4>r&&m>w;++r,w+=x)_.push(w);for(r=0,i=_.length;i>r;++r)n=_[r],a=Math.cos(n),o=d*a,l=p*a,s=Math.sin(n),u=d*s,c=p*s,v=Math.min(v,o,l),y=Math.max(y,o,l),b=Math.min(b,u,c),k=Math.max(k,u,c);return e.set(h+v,f+b,h+y,f+k),t.stroke&&0!==t.opacity&&t.strokeWidth>0&&e.expand(t.strokeWidth),e}function c(t,e){var n,r,i,a,s=null!=t.size?t.size:100,o=t.x||0,u=t.y||0;switch(t.shape){case"cross":n=Math.sqrt(s/5)/2,r=3*n,e.set(o-r,u-n,o+r,u+n);break;case"diamond":a=Math.sqrt(s/(2*k)),i=a*k,e.set(o-i,u-a,o+i,u+a);break;case"square":r=Math.sqrt(s),n=r/2,e.set(o-n,u-n,o+n,u+n);break;case"triangle-down":i=Math.sqrt(s/b),a=i*b/2,e.set(o-i,u-a,o+i,u+a);break;case"triangle-up":i=Math.sqrt(s/b),a=i*b/2,e.set(o-i,u-a,o+i,u+a);break;default:n=Math.sqrt(s/Math.PI),e.set(o-n,u-n,o+n,u+n)}return t.stroke&&0!==t.opacity&&t.strokeWidth>0&&e.expand(t.strokeWidth),e}function h(t,n,r){var i,a,s=(t.x||0)+(t.dx||0),o=(t.y||0)+(t.dy||0),u=t.fontSize||z.config.render.fontSize,l=t.align,c=t.baseline,h=t.radius||0,f=e();return f.font=z.scene.fontString(t),f.textAlign=l||"left",f.textBaseline=c||"alphabetic",i=f.measureText(t.text||"").width,h&&(a=(t.theta||0)-Math.PI/2,s+=h*Math.cos(a),o+=h*Math.sin(a)),"center"===l?s-=i/2:"right"===l&&(s-=i),"top"===c?o+=u/5:"bottom"===c?o-=u:"middle"===c?o=o-u/2+u/10:o-=4*u/5,n.set(s,o,s+i,o+u),t.angle&&!r&&n.rotate(t.angle*Math.PI/180,t.x||0,t.y||0),n.expand(r?0:1)}function f(t,e,n){var r,i,a=t.axisItems||[],s=t.legendItems||[];for(r=0,i=a.length;i>r;++r)e.union(a[r].bounds);for(r=0,i=t.items.length;i>r;++r)e.union(t.items[r].bounds);if(n){for(r=0,i=s.length;i>r;++r)e.union(s[r].bounds);null!=t.width&&null!=t.height&&e.add(t.width,t.height),null!=t.x&&null!=t.y&&e.add(0,0)}return e.translate(t.x||0,t.y||0),e}function d(t,e,n){e=e||w[t.mark.marktype],t.bounds_prev||(t["bounds:prev"]=new z.Bounds);var r=t.bounds,i=t["bounds:prev"];return r&&i.clear().union(r),t.bounds=e(t,r?r.clear():new z.Bounds,n),r||i.clear().union(t.bounds),t.bounds}function p(t,e,n){e=e||t.bounds&&t.bounds.clear()||new z.Bounds;var r,i,a=t.marktype,s=w[a],o=t.items;if("area"===a||"line"===a)o.length&&(o[0].bounds=s(o[0],e));else for(r=0,i=o.length;i>r;++r)e.union(d(o[r],s,n));t.bounds=e}var g=z.canvas.path.parse,m=z.canvas.path.bounds,v=z.canvas.path.area,y=z.canvas.path.line,x=Math.PI/2,b=Math.sqrt(3),k=Math.tan(30*Math.PI/180),_=null,w={group:f,symbol:c,image:o,rect:s,rule:u,arc:l,text:h,path:r,area:i,line:a};return{mark:p,item:d,text:h,group:f}}(),z.scene.encode=function(){function t(t,r,i,a,s){return a&&s?e.call(this,t,r,i,a,s):n.call(this,t,t,r,i,a),t}function e(t,e,n,r,i){i=z.array(i);var a,s,o,u,l,c;for(a=0,s=i.length;s>a;++a)o=i[a],u=o.mark.group||null,l=o.mark.def.properties,c=l&&l[r],c&&(c.call(z,o,u,n),z.scene.bounds.item(o))}function n(t,e,n,r,o){a.call(this,t,e.items,n,r,o),e.marktype===s?i.call(this,e,n,t,r,o):z.scene.bounds.mark(e)}function r(t,e,n,r,s){i.call(this,e,n,t,r,s),a.call(this,t,e.items,n,r,s),z.scene.bounds.mark(e,null,!0)}function i(t,e,i,a,s){var o,u,l,c,h,f,d,p,g,m,v,y;for(o=0,u=t.items.length;u>o;++o)for(h=t.items[o],f=h.scales||(h.scales=e.scales?z.extend({},i.scales):i.scales),e.scales&&z.parse.scales(e.scales,f,this._data,h),e.axes&&(d=h.axes||(h.axes=[]),p=h.axisItems||(h.axisItems=[]),z.parse.axes(e.axes,d,h.scales),d.forEach(function(t,e){g=t.def(),p[e]=z.scene.build(g,this._data,p[e],null,1),p[e].group=h,n.call(this,h,h.axisItems[e],g,a)})),l=0,c=h.items.length;c>l;++l)n.call(this,h,h.items[l],e.marks[l],a,s);if(z.scene.bounds.mark(t,null,!e.legends),e.legends){for(o=0,u=t.items.length;u>o;++o)h=t.items[o],m=h.legends||(h.legends=[]),v=h.legendItems||(h.legendItems=[]),z.parse.legends(e.legends,m,h.scales),m.forEach(function(t,e){y=t.def(),v[e]=z.scene.build(y,this._data,v[e],null,1),v[e].group=h,r.call(this,h,h.legendItems[e],y,a)});z.scene.bounds.mark(t,null,!0)}}function a(t,e,n,r,i){var a,s,h,f,d=n.properties||c,p=d.enter,g=d.update,m=d.exit;if(i){if(f=d[i])for(a=0,s=e.length;s>a;++a)f.call(z,e[a],t,r)}else for(a=0;a<e.length;++a)h=e[a],h.status===o&&(p&&p.call(z,h,t),h.status=u),h.status!==l&&g&&g.call(z,h,t,r),h.status===l&&(m&&m.call(z,h,t,r),r&&!m?r.interpolate(h,c):r||e[a--].remove())}var s=z.scene.GROUP,o=z.scene.ENTER,u=z.scene.UPDATE,l=z.scene.EXIT,c={};return t}(),z.scene.Transition=function(){function e(e,n){this.duration=e||500,this.ease=n&&t.ease(n)||t.ease("cubic-in-out"),this.updates={next:null}}function n(t){for(var e,n,r,i,a,s,o=this.updates,u=o,l=u.next,c=this.duration,h=!0;null!=l;u=l,l=u.next)if(e=l.item,n=e.delay||0,r=(t-n)/c,0>r)h=!1;else{for(r>1&&(r=1),i=l.ease(r),a=0,s=l.length;s>a;++a)e[l[a].property]=l[a](i);e.touch(),z.scene.bounds.item(e),1===r?(l.remove&&e.remove(),u.next=l.next,l=u):h=!1}return this.callback(),h}var r=e.prototype,i={text:1,url:1};return r.interpolate=function(e,n){var r,a,s,o,u=null;for(r in n)a=e[r],s=n[r],a!==s&&(i[r]||void 0===a?e[r]=s:"number"!=typeof a||isFinite(a)?(o=t.interpolate(a,s),o.property=r,(u||(u=[])).push(o)):e[r]=s);return null===u&&e.status===z.scene.EXIT&&(u=[]),null!=u&&(u.item=e,u.ease=e.mark.ease||this.ease,u.next=this.updates.next,this.updates.next=u),this},r.start=function(e){for(var r=this,i=r.updates,a=i.next;null!=a;i=a,a=i.next)a.item.status===z.scene.EXIT&&(a.remove=!0);r.callback=e,t.timer(function(t){return n.call(r,t)})},e}(),z.scene.transition=function(t,e){return new z.scene.Transition(t,e)},z.scene.axis=function(){function e(){c=null}function n(){return I||("log"===s.type?".1s":null)}function r(){var e=n();return s.tickFormat?s.tickFormat(T,e):e?"time"===s.type?t.time.format(e):t.format(e):String}function i(t){var e={major:C,minor:null};return null==e.major&&(e.major=s.ticks?s.ticks(T):s.domain()),e.minor=h(s,e.major,P).map(z.data.ingest),e.major=e.major.map(function(e){return e=z.data.ingest(e),e.label=t(e.data),e}),e}function a(t){var e,n,r;"ordinal"===t.type?(e={scale:t.scaleName,offset:.5+t.rangeBand()/2},n=e):(e={scale:t.scaleName,offset:.5},n={scale:t.scaleName+":prev",offset:.5}),r=d(t);var i=x(),a=x(),s=x(),u=b(),c=_(),h=k();i.properties.enter.stroke={value:z.config.axis.gridColor},g(o,i,n,e,1/0),g(o,a,n,e,E),g(o,s,n,e,A),p(o,u,n,e,E,L),v(o,c,r,M),m(o,h,r,l),z.extend(i.properties.update,O),z.extend(a.properties.update,U),z.extend(s.properties.update,D),z.extend(u.properties.update,N),z.extend(c.properties.update,F),z.extend(h.properties.update,j);var f=[i,a,s,u,c,h];return{type:"group",interactive:!1,properties:{enter:y,update:y},marks:f.map(z.parse.mark)}}var s,o=z.config.axis.orient,u=0,l=z.config.axis.titleOffset,c=null,f="front",w=!1,S=null,E=z.config.axis.tickSize,A=z.config.axis.tickSize,M=z.config.axis.tickSize,L=z.config.axis.padding,C=null,I=null,P=0,T=z.config.axis.ticks,O={},N={},U={},D={},j={},F={},W={};return W.def=function(){var t=c?c:c=a(s),e=r(),n=i(e),l=S?[S].map(z.data.ingest):[];return t.marks[0].from=function(){return w?n.major:[]},t.marks[1].from=function(){return n.major},t.marks[2].from=function(){return n.minor},t.marks[3].from=t.marks[1].from,t.marks[4].from=function(){return[1]},t.marks[5].from=function(){return l},t.offset=u,t.orient=o,t.layer=f,t},W.scale=function(t){return arguments.length?(s!==t&&(s=t,e()),W):s},W.orient=function(t){return arguments.length?(o!==t&&(o=t in K?t+"":z.config.axis.orient,e()),W):o},W.title=function(t){return arguments.length?(S!==t&&(S=t,e()),W):S},W.tickCount=function(t){return arguments.length?(T=t,W):T},W.tickValues=function(t){return arguments.length?(C=t,W):C},W.tickFormat=function(t){return arguments.length?(I!==t&&(I=t,e()),W):I},W.tickSize=function(t,n){if(!arguments.length)return E;var r=arguments.length-1,i=+t,a=r>1?+n:E,s=r>0?+arguments[r]:E;return(E!==i||A!==a||M!==s)&&e(),E=i,A=a,M=s,W},W.tickSubdivide=function(t){return arguments.length?(P=+t,W):P},W.offset=function(t){return arguments.length?(u=z.isObject(t)?t:+t,W):u},W.tickPadding=function(t){return arguments.length?(L!==+t&&(L=+t,e()),W):L},W.titleOffset=function(t){return arguments.length?(l!==+t&&(l=+t,e()),W):l},W.layer=function(t){return arguments.length?(f!==t&&(f=t,e()),W):f},W.grid=function(t){return arguments.length?(w!==t&&(w=t,e()),W):w},W.gridLineProperties=function(t){return arguments.length?(O!==t&&(O=t),W):O},W.majorTickProperties=function(t){return arguments.length?(U!==t&&(U=t),W):U},W.minorTickProperties=function(t){return arguments.length?(D!==t&&(D=t),W):D},W.tickLabelProperties=function(t){return arguments.length?(N!==t&&(N=t),W):N},W.titleProperties=function(t){return arguments.length?(j!==t&&(j=t),W):j},W.domainProperties=function(t){return arguments.length?(F!==t&&(F=t),W):F},W.reset=function(){e()},W};var K={top:1,right:1,bottom:1,left:1},X={bottom:"center",top:"center",left:"right",right:"left"},J={bottom:"top",top:"bottom",left:"middle",right:"middle"};z.scene.legend=function(){function e(){u=null}function n(t){return"ordinal"===t||"quantize"===t||"quantile"===t||"threshold"===t}function r(e){var n,r,a,s=i(l,c,h,f),u=(null==p?e.ticks?e.ticks.apply(e,b):e.domain():p).map(z.data.ingest),m=null==g?e.tickFormat?e.tickFormat.apply(e,b):String:g,v=5,y=t.range(u.length);l?(r=u.map(function(t){return Math.sqrt(l(t.data))}),a=t.max(r),r=r.reduce(function(t,e,n,r){return n>0&&(t[n]=t[n-1]+r[n-1]/2+v),t[n]+=e/2,t},[0]).map(Math.round)):(a=Math.round(Math.sqrt(z.config.legend.symbolSize)),r=d||(n=T.fontSize)&&n.value+v||z.config.legend.labelFontSize+v,r=y.map(function(t,e){return Math.round(a/2+e*r)}));var k,_=x;o&&(k=P.fontSize,_+=5+(k&&k.value||z.config.legend.titleFontSize));for(var w=0,S=r.length;S>w;++w)r[w]+=_;var e={name:"legend",type:"ordinal",points:!0,domain:y,range:r},E=(o?[o]:[]).map(z.data.ingest);return u.forEach(function(t){t.label=m(t.data),t.offset=a}),s.scales=[e],s.marks[0].from=function(){return E},s.marks[1].from=function(){return u},s.marks[2].from=s.marks[1].from,s}function i(t,e,n,r){var i=E(),a=A(),s=M();return S(a,t,e,n,r),z.extend(i.properties.update,P),z.extend(a.properties.update,_),z.extend(s.properties.update,T),i.properties.enter.x.value+=x,i.properties.enter.y.value+=x,s.properties.enter.x.offset+=x+1,a.properties.enter.x.offset=x+1,s.properties.update.x.offset+=x+1,a.properties.update.x.offset=x+1,{type:"group",interactive:!1,properties:{enter:z.parse.properties("group",k),update:w},marks:[i,a,s].map(z.parse.mark)}}function a(t){var e=s(t),n=t.domain(),r=n.map(z.data.ingest),i=I.width&&I.width.value||z.config.legend.gradientWidth,a=null==g?t.tickFormat?t.tickFormat.apply(t,b):String:g,u={name:"legend",type:t.type,round:!0,zero:!1,domain:[n[0],n[n.length-1]],range:[x,i+x]};"pow"===t.type&&(u.exponent=t.exponent());var l=(o?[o]:[]).map(z.data.ingest);return r.forEach(function(t,e){t.label=a(t.data),t.align=e==r.length-1?"right":0==e?"left":"center"}),e.scales=[u],e.marks[0].from=function(){return l},e.marks[1].from=function(){return[1]},e.marks[2].from=function(){return r},e}function s(t){var e=E(),n=L(),r=C(),i=new z.Gradient,a=t.domain(),s=a[0],u=a[a.length-1],l=t.copy().domain([s,u]).range([0,1]),c="linear"!==t.type&&t.ticks?t.ticks.call(t,15):a;s!==c[0]&&c.unshift(s),u!==c[c.length-1]&&c.push(u);for(var h=0,f=c.length;f>h;++h)i.stop(l(c[h]),t(c[h]));n.properties.enter.fill={value:i},z.extend(e.properties.update,P),z.extend(n.properties.update,I),z.extend(r.properties.update,T);var d=n.properties,p=I.height,g=p&&p.value||d.enter.height.value;if(r.properties.enter.y.value=g,r.properties.update.y.value=g,o){var m=e.properties,v=P.fontSize,y=4+(v&&v.value||m.enter.fontSize.value);n.properties.enter.y.value+=y,r.properties.enter.y.value+=y,n.properties.update.y.value+=y,r.properties.update.y.value+=y}return e.properties.enter.x.value+=x,e.properties.enter.y.value+=x,n.properties.enter.x.value+=x,n.properties.enter.y.value+=x,r.properties.enter.y.value+=x,n.properties.update.x.value+=x,n.properties.update.y.value+=x,r.properties.update.y.value+=x,{type:"group",interactive:!1,properties:{enter:z.parse.properties("group",k),update:w},marks:[e,n,r].map(z.parse.mark)}}var o,u,l=null,c=null,h=null,f=null,d=null,p=null,g=null,m=null,v="right",y=z.config.legend.offset,x=z.config.legend.padding,b=[5],k={},_={},I={},P={},T={},O={},u=null;return O.def=function(){var e=l||c||h||f;return g=m?"time"===e.type?t.time.format(m):t.format(m):null,u||(u=e!==h&&e!==f||n(e.type)?r(e):a(e)),u.orient=v,u.offset=y,u.padding=x,u},O.size=function(t){return arguments.length?(l!==t&&(l=t,e()),O):l},O.shape=function(t){return arguments.length?(c!==t&&(c=t,e()),O):c},O.fill=function(t){return arguments.length?(h!==t&&(h=t,e()),O):h},O.stroke=function(t){return arguments.length?(f!==t&&(f=t,e()),O):f},O.title=function(t){return arguments.length?(o!==t&&(o=t,e()),O):o},O.format=function(t){return arguments.length?(m!==t&&(m=t,e()),O):m},O.spacing=function(t){return arguments.length?(d!==+t&&(d=+t,e()),O):d},O.orient=function(t){return arguments.length?(v=t in Q?t+"":z.config.legend.orient,O):v},O.offset=function(t){return arguments.length?(y=+t,O):y},O.values=function(t){return arguments.length?(p=t,O):p},O.legendProperties=function(t){return arguments.length?(k=t,O):k},O.symbolProperties=function(t){return arguments.length?(_=t,O):_},O.gradientProperties=function(t){return arguments.length?(I=t,O):I},O.labelProperties=function(t){return arguments.length?(T=t,O):T},O.titleProperties=function(t){return arguments.length?(P=t,O):P},O.reset=function(){e()},O};var Q={right:1,left:1};return z.Model=function(){function t(){this._defs=null,this._data={},this._scene=null,this._reset={axes:!1,legends:!1}}var e=t.prototype;return e.defs=function(t){return arguments.length?(this._defs=t,this):this._defs},e.data=function(t){function e(t){(o[t]||[]).forEach(function(n){a[n]=t,e(n)})}if(!arguments.length)return this._data;var n,r,i,a={},s=this._defs,o=s.data.source,l=s.data.flow||{},h=s.data.sorted,f=h.length;for(z.keys(t).forEach(e),n=0;f>n;++n){if(t[r=h[n]])i=t[r];else{if(!a[r])continue;i=c(this._data[a[r]]),z.isTree(t)&&u(i)}this._data[r]=l[r]?l[r](i,this._data,s.marks):i}return this._reset.legends=!0,this},e.width=function(t){return this._defs&&(this._defs.width=t),this._defs&&this._defs.marks&&(this._defs.marks.width=t),this._scene&&(this._scene.items[0].width=t),this._reset.axes=!0,this},e.height=function(t){return this._defs&&(this._defs.height=t),this._defs&&this._defs.marks&&(this._defs.marks.height=t),this._scene&&(this._scene.items[0].height=t),this._reset.axes=!0,this},e.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},e.build=function(){var t=this,e=t._data,n=t._defs.marks;return t._scene=z.scene.build.call(t,n,e,t._scene),t._scene.items[0].width=n.width,t._scene.items[0].height=n.height,t._scene.interactive=!1,this},e.encode=function(t,e,n){this.reset();var r=this,i=r._scene,a=r._defs;return z.scene.encode.call(r,i,a.marks,t,e,n),this},e.reset=function(){return this._scene&&this._reset.axes&&(z.scene.visit(this._scene,function(t){t.axes&&t.axes.forEach(function(t){t.reset()})}),this._reset.axes=!1),this._scene&&this._reset.legends&&(z.scene.visit(this._scene,function(t){t.legends&&t.legends.forEach(function(t){t.reset()})}),this._reset.legends=!1),this},t}(),z.View=function(){var e=function(t,e,n){this._el=null,this._build=!1,this._model=new z.Model,this._width=this.__width=e||500,this._height=this.__height=n||500,this._bgcolor=null,this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._viewport=null,this._renderer=null,this._handler=null,this._io=z.canvas,t&&this.initialize(t)},n=e.prototype;return n.width=function(t){return arguments.length?(this.__width!==t&&(this._width=this.__width=t,this._el&&this.initialize(this._el.parentNode),this._model.width(t),this._strict&&(this._autopad=1)),this):this.__width},n.height=function(t){return arguments.length?(this.__height!==t&&(this._height=this.__height=t,this._el&&this.initialize(this._el.parentNode),this._model.height(this._height),this._strict&&(this._autopad=1)),this):this.__height},n.background=function(t){return arguments.length?(this._bgcolor!==t&&(this._bgcolor=t,this._el&&this.initialize(this._el.parentNode)),this):this._bgcolor},n.padding=function(t){return arguments.length?(this._padding!==t&&(z.isString(t)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===t):(this._autopad=0,this._padding=t,this._strict=!1),this._el&&(this._renderer.resize(this._width,this._height,t),this._handler.padding(t))),this):this._padding},n.autopad=function(t){if(this._autopad<1)return this;this._autopad=0;var e=this._padding,n=this.model().scene().bounds,r=z.config.autopadInset,i=n.x1<0?Math.ceil(-n.x1)+r:0,a=n.y1<0?Math.ceil(-n.y1)+r:0,s=n.x2>this._width?Math.ceil(+n.x2-this._width)+r:0,n=n.y2>this._height?Math.ceil(+n.y2-this._height)+r:0;return e={left:i,top:a,right:s,bottom:n},this._strict?(this._autopad=0,this._padding=e,this._width=Math.max(0,this.__width-(i+s)),this._height=Math.max(0,this.__height-(a+n)),this._model.width(this._width),this._model.height(this._height),this._el&&this.initialize(this._el.parentNode),this.update({props:"enter"}).update({props:"update"})):this.padding(e).update(t),this},n.viewport=function(t){return arguments.length?(this._viewport!==t&&(this._viewport=t,this._el&&this.initialize(this._el.parentNode)),this):this._viewport},n.renderer=function(t){return arguments.length?("canvas"===t&&(t=z.canvas),"svg"===t&&(t=z.svg),this._io!==t&&(this._io=t,this._renderer=null,this._el&&this.initialize(this._el.parentNode),this._build&&this.render()),this):this._io},n.defs=function(t){return arguments.length?(this._model.defs(t),this):this._model.defs()},n.data=function(t){if(!arguments.length)return this._model.data();var e=z.keys(t).reduce(function(e,n){return e[n]=z.data.ingestAll(t[n]),e},{});return this._model.data(e),this._build=!1,this},n.model=function(t){return arguments.length?(this._model!==t&&(this._model=t,this._handler&&this._handler.model(t)),this):this._model},n.initialize=function(e){var n,r=this,i=r._width,a=r._height,s=r._bgcolor,o=r._padding;return t.select(e).select("div.vega").remove(),this._el=e=t.select(e).append("div").attr("class","vega").style("position","relative").node(),r._viewport&&t.select(e).style("width",(r._viewport[0]||i)+"px").style("height",(r._viewport[1]||a)+"px").style("overflow","auto"),r._renderer=(r._renderer||new this._io.Renderer).initialize(e,i,a,o,s),n=r._handler,r._handler=(new this._io.Handler).initialize(e,o,r).model(r._model),n&&n.handlers().forEach(function(t){r._handler.on(t.type,t.handler)}),this},n.render=function(t){return this._renderer.render(this._model.scene(),t),this},n.on=function(){return this._handler.on.apply(this._handler,arguments),this},n.off=function(){return this._handler.off.apply(this._handler,arguments),this},n.update=function(t){t=t||{};var e=this,n=t.duration?z.scene.transition(t.duration,t.ease):null;return e._build=e._build||(e._model.build(),!0),e._model.encode(n,t.props,t.items),n?n.start(function(t){e._renderer.render(e._model.scene(),t)}):e.render(t.items),e.autopad(t)},e}(),z.ViewFactory=function(t){return function(e){e=e||{};var n=(new z.View).width(t.width).height(t.height).background(t.background).padding(t.padding).viewport(t.viewport).renderer(e.renderer||"canvas").defs(t);return t.data.load&&n.data(t.data.load),e.data&&n.data(e.data),e.el&&n.initialize(e.el),e.hover!==!1&&n.on("mouseover",function(t,e){e.hasPropertySet("hover")&&this.update({props:"hover",items:e})}).on("mouseout",function(t,e){e.hasPropertySet("hover")&&this.update({props:"update",items:e})}),n}},z.Spec=function(){var t=function(t){this.spec={width:500,height:500,padding:0,data:[],scales:[],axes:[],marks:[]},t&&z.extend(this.spec,t)},e=t.prototype;return e.width=function(t){return this.spec.width=t,this},e.height=function(t){return this.spec.height=t,this},e.padding=function(t){return this.spec.padding=t,this},e.viewport=function(t){return this.spec.viewport=t,this},e.data=function(t,e){return e?e.name=t:e=z.isString(t)?{name:t}:t,this.spec.data.push(e),this},e.scale=function(t,e){return e?e.name=t:e=z.isString(t)?{name:t}:t,this.spec.scales.push(e),this},e.axis=function(t){return this.spec.axes.push(t),this},e.mark=function(t,e){e?e.type=t:e={type:t},e.properties={},this.spec.marks.push(e);var n=this;return{from:function(t,n){return e.from=n?(n.data=t,n):z.isString(t)?{data:t}:t,this},prop:function(t,n){return e.properties[t]=z.keys(n).reduce(function(t,e){var r=n[e];return t[e]=z.isObject(r)?r:{value:r},t},{}),this},done:function(){return n}}},e.parse=function(t){z.parse.spec(this.spec,t)},e.json=function(){return this.spec},t}(),z.spec=function(t){return new z.Spec(t)},z.headless={},z.headless.canvas=z.canvas.Renderer,z.headless.svg=function(){function e(t,e,n){var r="<"+t;if(e)for(var i in e){var a=e[i];null!=a&&(r+=" "+i+'="'+a+'"')}return n&&(r+=" "+n),r+">"}function n(t){return"</"+t+">"}function r(t){return t=null==t?"":String(t),t.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(t){return String(t).replace(/\"/g,"'")}function a(t){var r=t.width||0,i=t.height||0;return 0===r&&0===i?"":e("rect",{"class":"background",width:r,height:i},w(t,"rect"))+n("rect")}function s(t,e){var n=t.x||0,r=t.y||0,i={transform:"translate("+n+","+r+")"};if(t.clip){var a={width:t.width||0,height:t.height||0},s=t.clip_id||(t.clip_id="clip"+O++);e.clipping[s]=a,i["clip-path"]="url(#"+s+")"}return i}function o(t){var e=t.x||0,n=t.y||0;return{transform:"translate("+e+","+n+")",d:L(t)}}function u(t){if(t.length){var e=t[0],n="horizontal"===e.orient?I:C;return n.interpolate(e.interpolate||"linear").tension(null==e.tension?.7:e.tension),{d:n(t)}}}function l(t){if(t.length){var e=t[0];return P.interpolate(e.interpolate||"linear").tension(null==e.tension?.7:e.tension),{d:P(t)}}}function c(t){var e=t.x||0,n=t.y||0;return{transform:"translate("+e+","+n+")",d:t.path}}function h(t){return{x:t.x||0,y:t.y||0,width:t.width||0,height:t.height||0}}function f(t){var e=t.x||0,n=t.y||0;return{x1:e,y1:n,x2:null!=t.x2?t.x2:e,y2:null!=t.y2?t.y2:n}}function d(t){var e=t.x||0,n=t.y||0;return{transform:"translate("+e+","+n+")",d:T(t)}}function p(t){var e=t.width||t.image&&t.image.width||0,n=t.height||t.image&&t.image.height||0,r=t.x-("center"===t.align?e/2:"right"===t.align?e:0),i=t.y-("middle"===t.baseline?n/2:"bottom"===t.baseline?n:0),a=z.config.baseURL+t.url;
return{"xlink:href":a,x:r,y:i,width:e,height:n}}function g(t){var e=t.x||0,n=t.y||0,r=t.dx||0,i=t.dy||0,a=t.angle||0,s=t.radius||0,o=N[t.align||"left"],u="top"===t.baseline?".9em":"middle"===t.baseline?".35em":0;if(s){var l=(t.theta||0)-Math.PI/2;e+=s*Math.cos(l),n+=s*Math.sin(l)}return{x:e+r,y:n+i,"text-anchor":o,transform:a?"rotate("+a+" "+e+","+n+")":null,dy:u?u:null}}function m(t){var e="type-"+t.type;return t.name&&(e+=" "+t.name),e}function v(t){return t.x||0}function y(t){return t.y||0}function x(t){return t.x+t.width||0}function b(t){return t.y+t.height||0}function k(t){return null==t.size?100:t.size}function _(t){return t.shape||"circle"}function w(t,e,n){var r,i,a,s,o,u=t.mark?t:t.length?t[0]:null;if(null===u)return null;var l="";for(r=0,i=D.length;i>r;++r)a=D[r],s=U[a],o=u[a],null==o?"fill"===s&&(l+="fill:none;"):(o.id&&(n.gradient[o.id]=o,o="url("+window.location.href+"#"+o.id+")"),l+=s+":"+o+";");return"text"===e&&(l+="font:"+S(u)),l.length?'style="'+l+'"':null}function S(t){var e=(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+(null!=t.fontSize?t.fontSize:z.config.render.fontSize)+"px "+(t.font&&i(t.font)||z.config.render.font);return e}var E=function(){this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}},A=E.prototype;A.initialize=function(t,r,i,a,s){var o=this._text,u={width:r,height:i};null!=s&&(u.style="background-color:"+s+";"),o.head=e("svg",u,z.config.svgNamespace),o.root=e("g",{transform:"translate("+a.left+","+a.top+")"}),o.foot=n("g")+n("svg")},A.svg=function(){var t=this._text;return t.head+t.defs+t.root+t.body+t.foot},A.buildDefs=function(){var t,r,i=this._defs,a=z.keys(i.gradient),s=z.keys(i.clipping),o="";for(t=0;t<a.length;++t){var u=a[t],l=i.gradient[u],c=l.stops;for(o+=e("linearGradient",{id:u,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2}),r=0;r<c.length;++r)o+=e("stop",{offset:c[r].offset,"stop-color":c[r].color})+n("stop");o+=n("linearGradient")}for(t=0;t<s.length;++t){var u=s[t],l=i.clipping[u];o+=e("clipPath",{id:u}),o+=e("rect",{x:0,y:0,width:l.width,height:l.height})+n("rect"),o+=n("clipPath")}return o},A.render=function(t){this._text.body=this.draw(t),this._text.defs=this.buildDefs()},A.draw=function(t){var i,a,s=M[t.marktype],o=s[0],u=s[1],l=s[2]||!1,c=l?[t.items]:t.items,h=this._defs,f="";for(f+=e("g",{"class":m(t.def)}),i=0;i<c.length;++i)a="g"===o?null:w(c[i],o,h),f+=e(o,u(c[i],h),a),"text"===o&&(f+=r(c[i].text)),"g"===o&&(f+=this.drawGroup(c[i])),f+=n(o);return f+n("g")};var M={group:["g",s],area:["path",u,!0],line:["path",l,!0],arc:["path",o],path:["path",c],symbol:["path",d],rect:["rect",h],rule:["line",f],text:["text",g],image:["image",p]};A.drawGroup=function(t){var e,n,r="",i=t.axisItems||[],s=t.items,o=t.legendItems||[];for(r+=a(t),e=0,n=i.length;n>e;++e)"back"===i[e].def.layer&&(r+=this.draw(i[e]));for(e=0,n=s.length;n>e;++e)r+=this.draw(s[e]);for(e=0,n=i.length;n>e;++e)"back"!==i[e].def.layer&&(r+=this.draw(i[e]));for(e=0,n=o.length;n>e;++e)r+=this.draw(o[e]);return r};var L=t.svg.arc(),C=t.svg.area().x(v).y1(y).y0(b),I=t.svg.area().y(y).x0(x).x1(v),P=t.svg.line().x(v).y(y),T=t.svg.symbol().type(_).size(k),O=0,N={left:"start",center:"middle",right:"end"},U={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},D=z.keys(U);return E}(),z.headless.View=function(){var t=function(t,e,n,r,i,a){this._canvas=null,this._type=i,this._el="body",this._build=!1,this._model=new z.Model,this._width=this.__width=t||500,this._height=this.__height=e||500,this._bgcolor=r||null,this._padding=n||{top:0,left:0,bottom:0,right:0},this._autopad=z.isString(this._padding)?1:0,this._renderer=new z.headless[i],this._viewport=a||null,this.initialize()},e=t.prototype;return e.el=function(t){return arguments.length?(this._el!==t&&(this._el=t,this.initialize()),this):this._el},e.model=function(){return this._model},e.width=function(t){return arguments.length?(this._width!==t&&(this._width=t,this.initialize(),this._model.width(t)),this):this._width},e.height=function(t){return arguments.length?(this._height!==t&&(this._height=t,this.initialize(),this._model.height(this._height)),this):this._height},e.background=function(t){return arguments.length?(this._bgcolor!==t&&(this._bgcolor=t,this.initialize()),this):this._bgcolor},e.padding=function(t){return arguments.length?(this._padding!==t&&(z.isString(t)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===t):(this._autopad=0,this._padding=t,this._strict=!1),this.initialize()),this):this._padding},e.autopad=function(t){if(this._autopad<1)return this;this._autopad=0;var e=this._padding,n=this._model.scene().bounds,r=z.config.autopadInset,i=n.x1<0?Math.ceil(-n.x1)+r:0,a=n.y1<0?Math.ceil(-n.y1)+r:0,s=n.x2>this._width?Math.ceil(+n.x2-this._width)+r:0,n=n.y2>this._height?Math.ceil(+n.y2-this._height)+r:0;return e={left:i,top:a,right:s,bottom:n},this._strict?(this._autopad=0,this._padding=e,this._width=Math.max(0,this.__width-(i+s)),this._height=Math.max(0,this.__height-(a+n)),this._model.width(this._width),this._model.height(this._height),this._el&&this.initialize(),this.update({props:"enter"}).update({props:"update"})):this.padding(e).update(t),this},e.viewport=function(t){return arguments.length?(this._viewport=t,this.initialize(),this):_viewport},e.defs=function(t){return arguments.length?(this._model.defs(t),this):this._model.defs()},e.data=function(t){if(!arguments.length)return this._model.data();var e=z.keys(t).reduce(function(e,n){return e[n]=z.data.ingestAll(t[n]),e},{});return this._model.data(e),this._build=!1,this},e.renderer=function(){return this._renderer},e.canvas=function(){return this._canvas},e.canvasAsync=function(t){function e(){0===n.pendingImages()?(r.render(),t(r._canvas)):setTimeout(e,10)}var n=this._renderer,r=this;n.pendingImages()>0?e():t(this._canvas)},e.svg=function(){return"svg"===this._type?this._renderer.svg():null},e.initialize=function(){var t=this._width,e=this._height,n=this._bgcolor,r=this._padding;return this._viewport&&(t=this._viewport[0]-(r?r.left+r.right:0),e=this._viewport[1]-(r?r.top+r.bottom:0)),"svg"===this._type?this.initSVG(t,e,r,n):this.initCanvas(t,e,r,n),this},e.initCanvas=function(t,e,n,r){var i=require("canvas"),a=t+(n?n.left+n.right:0),s=e+(n?n.top+n.bottom:0),o=this._canvas=new i(a,s),u=o.getContext("2d");u.setTransform(1,0,0,1,n.left,n.top),this._renderer.context(u),this._renderer.resize(t,e,n),this._renderer.background(r)},e.initSVG=function(t,e,n,r){var i=t+(n?n.left+n.right:0),a=e+(n?n.top+n.bottom:0);this._renderer.initialize(this._el,i,a,n,r)},e.render=function(t){return this._renderer.render(this._model.scene(),t),this},e.update=function(t){t=t||{};var e=this;return e._build=e._build||(e._model.build(),!0),e._model.encode(null,t.props,t.items),e.render(t.items),e.autopad(t)},t}(),z.headless.View.Factory=function(t){return function(e){e=e||{};var n=t.width,r=t.height,i=t.padding,a=t.background,s=t.viewport,o=e.renderer||"canvas",u=new z.headless.View(n,r,i,a,o,s).defs(t);return t.data.load&&u.data(t.data.load),e.data&&u.data(e.data),u}},z.headless.render=function(t,e){function n(n){try{var r=n({data:t.data,renderer:t.renderer}).update();"svg"===t.renderer?e(null,{svg:r.svg(),view:r}):r.canvasAsync(function(t){e(null,{canvas:t,view:r})})}catch(i){e(i,null)}}z.parse.spec(t.spec,n,z.headless.View.Factory)},z});

/* Vega-lite */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vl=e()}}(function(){var e;return function t(e,n,a){function r(f,o){if(!n[f]){if(!e[f]){var c="function"==typeof require&&require;if(!o&&c)return c(f,!0);if(i)return i(f,!0);var u=new Error("Cannot find module '"+f+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[f]={exports:{}};e[f][0].call(s.exports,function(t){var n=e[f][1][t];return r(n?n:t)},s,s.exports,t,e,n,a)}return n[f].exports}for(var i="function"==typeof require&&require,f=0;f<a.length;f++)r(a[f]);return r}({1:[function(e,t,n){},{}],2:[function(t,n,a){!function(){var t={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};"function"==typeof e&&e.amd?e(t):"object"==typeof n&&n.exports?n.exports=t:this.colorbrewer=t}()},{}],3:[function(e,t,n){t.exports=e("./colorbrewer.js")},{"./colorbrewer.js":2}],4:[function(t,n,a){!function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e(["exports"],r):r(t.color={})}(this,function(e){"use strict";function t(e,t){var n=e-t;return n>180||-180>n?n-360*Math.round(n/360):n}function n(){}function a(e){var t;return e=(e+"").trim().toLowerCase(),(t=D.exec(e))?(t=parseInt(t[1],16),i(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t)):(t=N.exec(e))?r(parseInt(t[1],16)):(t=L.exec(e))?i(t[1],t[2],t[3]):(t=Y.exec(e))?i(2.55*t[1],2.55*t[2],2.55*t[3]):(t=A.exec(e))?c(t[1],.01*t[2],.01*t[3]):E.hasOwnProperty(e)?r(E[e]):null}function r(e){return i(e>>16&255,e>>8&255,255&e)}function i(e,t,r){return 1===arguments.length&&(e instanceof n||(e=a(e)),e?(e=e.rgb(),r=e.b,t=e.g,e=e.r):e=t=r=NaN),new f(e,t,r)}function f(e,t,n){this.r=+e,this.g=+t,this.b=+n}function o(e,t,n){return"#"+(isNaN(e)?"00":(e=Math.round(e))<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16))+(isNaN(t)?"00":(t=Math.round(t))<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16))+(isNaN(n)?"00":(n=Math.round(n))<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16))}function c(e,t,r){if(1===arguments.length)if(e instanceof u)r=e.l,t=e.s,e=e.h;else if(e instanceof n||(e=a(e)),e){if(e instanceof u)return e;e=e.rgb();var i=e.r/255,f=e.g/255,o=e.b/255,c=Math.min(i,f,o),s=Math.max(i,f,o),d=s-c;r=(s+c)/2,d?(t=.5>r?d/(s+c):d/(2-s-c),e=i===s?(f-o)/d+6*(o>f):f===s?(o-i)/d+2:(i-f)/d+4,e*=60):(e=NaN,t=r>0&&1>r?0:e)}else e=t=r=NaN;return new u(e,t,r)}function u(e,t,n){this.h=+e,this.s=+t,this.l=+n}function s(e,t,n){return 255*(60>e?t+(n-t)*e/60:180>e?n:240>e?t+(n-t)*(240-e)/60:t)}function d(e,t,n){if(1===arguments.length)if(e instanceof l)n=e.b,t=e.a,e=e.l;else if(e instanceof y){var a=e.h*J;n=Math.sin(a)*e.c,t=Math.cos(a)*e.c,e=e.l}else{e instanceof f||(e=i(e));var r=m(e.r),o=m(e.g),n=m(e.b),c=b((.4124564*r+.3575761*o+.1804375*n)/_),u=b((.2126729*r+.7151522*o+.072175*n)/H),s=b((.0193339*r+.119192*o+.9503041*n)/W);n=200*(u-s),t=500*(c-u),e=116*u-16}return new l(e,t,n)}function l(e,t,n){this.l=+e,this.a=+t,this.b=+n}function b(e){return e>q?Math.pow(e,1/3):e/B+$}function h(e){return e>P?e*e*e:B*(e-$)}function g(e){return 255*(.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function m(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function p(e,t,n){return 1===arguments.length&&(e instanceof y?(n=e.l,t=e.c,e=e.h):(e instanceof l||(e=d(e)),n=e.l,t=Math.sqrt(e.a*e.a+e.b*e.b),e=Math.atan2(e.b,e.a)*G,0>e&&(e+=360))),new y(e,t,n)}function y(e,t,n){this.h=+e,this.c=+t,this.l=+n}function v(e,t,n){if(1===arguments.length)if(e instanceof M)n=e.l,t=e.s,e=e.h;else{e instanceof f||(e=i(e));var a=e.r/255,r=e.g/255,o=e.b/255;n=(re*o+ne*a-ae*r)/(re+ne-ae);var c=o-n,u=(te*(r-n)-K*c)/ee;t=Math.sqrt(u*u+c*c)/(te*n*(1-n)),e=t?Math.atan2(u,c)*G-120:NaN,0>e&&(e+=360)}return new M(e,t,n)}function M(e,t,n){this.h=+e,this.s=+t,this.l=+n}function x(e){return function(n,a){n=v(n),a=v(a);var r=isNaN(n.h)?a.h:n.h,i=isNaN(n.s)?a.s:n.s,f=n.l,o=isNaN(a.h)?0:t(a.h,r),c=isNaN(a.s)?0:a.s-i,u=a.l-f;return function(t){return n.h=r+o*t,n.s=i+c*t,n.l=f+u*Math.pow(t,e),n+""}}}function S(e){return function(t,n){t=v(t),n=v(n);var a=isNaN(t.h)?n.h:t.h,r=isNaN(t.s)?n.s:t.s,i=t.l,f=isNaN(n.h)?0:n.h-a,o=isNaN(n.s)?0:n.s-r,c=n.l-i;return function(n){return t.h=a+f*n,t.s=r+o*n,t.l=i+c*Math.pow(n,e),t+""}}}function O(e,t){e=p(e),t=p(t);var n=isNaN(e.h)?t.h:e.h,a=isNaN(e.c)?t.c:e.c,r=e.l,i=isNaN(t.h)?0:t.h-n,f=isNaN(t.c)?0:t.c-a,o=t.l-r;return function(t){return e.h=n+i*t,e.c=a+f*t,e.l=r+o*t,e+""}}function w(e,n){e=p(e),n=p(n);var a=isNaN(e.h)?n.h:e.h,r=isNaN(e.c)?n.c:e.c,i=e.l,f=isNaN(n.h)?0:t(n.h,a),o=isNaN(n.c)?0:n.c-r,c=n.l-i;return function(t){return e.h=a+f*t,e.c=r+o*t,e.l=i+c*t,e+""}}function T(e,t){e=d(e),t=d(t);var n=e.l,a=e.a,r=e.b,i=t.l-n,f=t.a-a,o=t.b-r;return function(t){return e.l=n+i*t,e.a=a+f*t,e.b=r+o*t,e+""}}function k(e,t){e=c(e),t=c(t);var n=isNaN(e.h)?t.h:e.h,a=isNaN(e.s)?t.s:e.s,r=e.l,i=isNaN(t.h)?0:t.h-n,f=isNaN(t.s)?0:t.s-a,o=t.l-r;return function(t){return e.h=n+i*t,e.s=a+f*t,e.l=r+o*t,e+""}}function C(e,n){e=c(e),n=c(n);var a=isNaN(e.h)?n.h:e.h,r=isNaN(e.s)?n.s:e.s,i=e.l,f=isNaN(n.h)?0:t(n.h,a),o=isNaN(n.s)?0:n.s-r,u=n.l-i;return function(t){return e.h=a+f*t,e.s=r+o*t,e.l=i+u*t,e+""}}function R(e,t){e=i(e),t=i(t);var n=e.r,a=e.g,r=e.b,f=t.r-n,c=t.g-a,u=t.b-r;return function(e){return o(Math.round(n+f*e),Math.round(a+c*e),Math.round(r+u*e))}}var D=/^#([0-9a-f]{3})$/,N=/^#([0-9a-f]{6})$/,L=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,Y=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,A=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/;a.prototype=n.prototype={displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}};var E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},U=.7,X=1/U,j=i.prototype=f.prototype=new n;j.brighter=function(e){return e=null==e?X:Math.pow(X,e),new f(this.r*e,this.g*e,this.b*e)},j.darker=function(e){return e=null==e?U:Math.pow(U,e),new f(this.r*e,this.g*e,this.b*e)},j.rgb=function(){return this},j.displayable=function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255},j.toString=function(){return o(this.r,this.g,this.b)};var z=c.prototype=u.prototype=new n;z.brighter=function(e){return e=null==e?X:Math.pow(X,e),new u(this.h,this.s,this.l*e)},z.darker=function(e){return e=null==e?U:Math.pow(U,e),new u(this.h,this.s,this.l*e)},z.rgb=function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(.5>n?n:1-n)*t,r=2*n-a;return new f(s(e>=240?e-240:e+120,r,a),s(e,r,a),s(120>e?e+240:e-120,r,a))},z.displayable=function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1};var F=18,_=.95047,H=1,W=1.08883,$=4/29,P=6/29,B=3*P*P,q=P*P*P,I=d.prototype=l.prototype=new n;I.brighter=function(e){return new l(this.l+F*(null==e?1:e),this.a,this.b)},I.darker=function(e){return new l(this.l-F*(null==e?1:e),this.a,this.b)},I.rgb=function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=H*h(e),t=_*h(t),n=W*h(n),new f(g(3.2404542*t-1.5371385*e-.4985314*n),g(-.969266*t+1.8760108*e+.041556*n),g(.0556434*t-.2040259*e+1.0572252*n))};var J=Math.PI/180,G=180/Math.PI,Z=p.prototype=y.prototype=new n;Z.brighter=function(e){return new y(this.h,this.c,this.l+F*(null==e?1:e))},Z.darker=function(e){return new y(this.h,this.c,this.l-F*(null==e?1:e))},Z.rgb=function(){return d(this).rgb()};var Q=-.14861,V=1.78277,K=-.29227,ee=-.90649,te=1.97294,ne=te*ee,ae=te*V,re=V*K-ee*Q,ie=v.prototype=M.prototype=new n;ie.brighter=function(e){return e=null==e?X:Math.pow(X,e),new M(this.h,this.s,this.l*e)},ie.darker=function(e){return e=null==e?U:Math.pow(U,e),new M(this.h,this.s,this.l*e)},ie.rgb=function(){var e=isNaN(this.h)?0:(this.h+120)*J,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new f(255*(t+n*(Q*a+V*r)),255*(t+n*(K*a+ee*r)),255*(t+n*(te*a)))};var fe=x(1),oe=S(1);e.interpolateCubehelix=fe,e.interpolateCubehelixLong=oe,e.color=a,e.rgb=i,e.hsl=c,e.lab=d,e.hcl=p,e.cubehelix=v,e.interpolateRgb=R,e.interpolateHsl=C,e.interpolateHslLong=k,e.interpolateLab=T,e.interpolateHcl=w,e.interpolateHclLong=O,e.interpolateCubehelixGamma=x,e.interpolateCubehelixGammaLong=S})},{}],5:[function(t,n,a){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e(["exports"],r):r(t.format={})}(this,function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function n(e){return e=t(Math.abs(e)),e?e[1]:NaN}function a(e,n){var a=t(e,n);if(!a)return e+"";var r=a[0],i=a[1],f=i-(g=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return f===o?r:f>o?r+new Array(f-o+1).join("0"):f>0?r.slice(0,f)+"."+r.slice(f):"0."+new Array(1-f).join("0")+t(e,n+f-1)[0]}function r(e,n){var a=t(e,n);if(!a)return e+"";var r=a[0],i=a[1];return 0>i?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function i(e,t){e=e.toPrecision(t);e:for(var n,a=e.length,r=1,i=-1;a>r;++r)switch(e[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;case"e":break e;default:i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(n+1):e}function f(e){return new o(e)}function o(e){if(!(t=U.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",a=t[2]||">",r=t[3]||"-",i=t[4]||"",f=!!t[5],o=t[6]&&+t[6],c=!!t[7],u=t[8]&&+t[8].slice(1),s=t[9]||"";"n"===s?(c=!0,s="g"):E[s]||(s=""),(f||"0"===n&&"="===a)&&(f=!0,n="0",a="="),this.fill=n,this.align=a,this.sign=r,this.symbol=i,this.zero=f,this.width=o,this.comma=c,this.precision=u,this.type=s}function c(e,t){return function(n,a){for(var r=n.length,i=[],f=0,o=e[0],c=0;r>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(n.substring(r-=o,r+o)),!((c+=o+1)>a));)o=e[f=(f+1)%e.length];return i.reverse().join(t)}}function u(e){return e}function s(e){function t(e){e=f(e);var t=e.fill,n=e.align,a=e.sign,c=e.symbol,u=e.zero,s=e.width,d=e.comma,l=e.precision,b=e.type,h="$"===c?i[0]:"#"===c&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",m="$"===c?i[1]:/[%p]/.test(b)?"%":"",p=E[b],y=!b||/[defgprs%]/.test(b);return l=null==l?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,l)):Math.max(0,Math.min(20,l)),function(e){var i=h,f=m;if("c"===b)f=p(e)+f,e="";else{e=+e;var c=(0>e||0>1/e)&&(e*=-1,!0);if(e=p(e,l),i=(c?"("===a?a:"-":"-"===a||"("===a?"":a)+i,
f=f+("s"===b?X[8+g/3]:"")+(c&&"("===a?")":""),y)for(var v,M=-1,x=e.length;++M<x;)if(v=e.charCodeAt(M),48>v||v>57){f=(46===v?o+e.slice(M+1):e.slice(M))+f,e=e.slice(0,M);break}}d&&!u&&(e=r(e,1/0));var S=i.length+e.length+f.length,O=s>S?new Array(s-S+1).join(t):"";switch(d&&u&&(e=r(O+e,O.length?s-f.length:1/0),O=""),n){case"<":return i+e+f+O;case"=":return i+O+e+f;case"^":return O.slice(0,S=O.length>>1)+i+e+f+O.slice(S)}return O+i+e+f}}function a(e,a){var r=t((e=f(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(n(a)/3))),o=Math.pow(10,-i),c=X[8+i/3];return function(e){return r(o*e)+c}}var r=e.grouping&&e.thousands?c(e.grouping,e.thousands):u,i=e.currency,o=e.decimal;return{format:t,formatPrefix:a}}function d(e,t){return Math.max(0,n(Math.abs(t))-n(Math.abs(e)))+1}function l(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))}function b(e){return Math.max(0,-n(Math.abs(e)))}function h(e){return"string"!=typeof e||(e=j.get(e))?s(e):null}var g,m={decimal:".",thousands:",",grouping:[3],currency:["",""]},p={decimal:",",thousands:"",grouping:[3],currency:["","."]},y={decimal:",",thousands:".",grouping:[3],currency:["R$",""]},v={decimal:",",thousands:".",grouping:[3],currency:["","z"]},M={decimal:",",thousands:".",grouping:[3],currency:["",""]},x={decimal:",",thousands:".",grouping:[3],currency:["","."]},S={decimal:".",thousands:",",grouping:[3],currency:["",""]},O={decimal:",",thousands:".",grouping:[3],currency:["",""]},w={decimal:".",thousands:",",grouping:[3],currency:["",""]},T={decimal:",",thousands:".",grouping:[3],currency:["",""]},k={decimal:",",thousands:"",grouping:[3],currency:["","$"]},C={decimal:",",thousands:"",grouping:[3],currency:["",""]},R={decimal:",",thousands:".",grouping:[3],currency:["",""]},D={decimal:".",thousands:",",grouping:[3],currency:["$",""]},N={decimal:".",thousands:",",grouping:[3],currency:["",""]},L={decimal:".",thousands:",",grouping:[3],currency:["$",""]},Y={decimal:",",thousands:".",grouping:[3],currency:["",""]},A={decimal:",",thousands:".",grouping:[3],currency:["",""]},E={"":i,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return r(100*e,t)},r:r,s:a,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},U=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var X=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],j=(new Map).set("ca-ES",A).set("de-DE",Y).set("en-CA",L).set("en-GB",N).set("en-US",D).set("es-ES",R).set("fi-FI",C).set("fr-CA",k).set("fr-FR",T).set("he-IL",w).set("it-IT",O).set("ja-JP",S).set("mk-MK",x).set("nl-NL",M).set("pl-PL",v).set("pt-BR",y).set("ru-RU",p).set("zh-CN",m),z=s(D);e.format=z.format,e.formatPrefix=z.formatPrefix,e.localeFormat=h,e.formatSpecifier=f,e.precisionFixed=b,e.precisionPrefix=l,e.precisionRound=d})},{}],6:[function(t,n,a){"undefined"==typeof Map?(Map=function(){this.clear()},Map.prototype={set:function(e,t){return this._[e]=t,this},get:function(e){return this._[e]},has:function(e){return e in this._},"delete":function(e){return e in this._&&delete this._[e]},clear:function(){this._=Object.create(null)},get size(){var e=0;for(var t in this._)++e;return e},forEach:function(e){for(var t in this._)e(this._[t],t,this)}}):function(){var e=new Map;e.set(0,0)!==e&&(e=e.set,Map.prototype.set=function(){return e.apply(this,arguments),this})}(),function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e(["exports"],r):r(t.timeFormat={})}(this,function(e){"use strict";function t(e,n,a){function r(t){return e(t=new Date(+t)),t}return r.floor=r,r.round=function(t){var a=new Date(+t),r=new Date(t-1);return e(a),e(r),n(r,1),r-t>t-a?a:r},r.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},r.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},r.range=function(t,a,r){var i=[];if(t=new Date(t-1),a=new Date(+a),r=null==r?1:Math.floor(r),!(a>t&&r>0))return i;for(n(t,1),e(t),a>t&&i.push(new Date(+t));n(t,r),e(t),a>t;)i.push(new Date(+t));return i},r.filter=function(a){return t(function(t){for(;e(t),!a(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!a(e););})},a&&(r.count=function(t,n){return Me.setTime(+t),xe.setTime(+n),e(Me),e(xe),Math.floor(a(Me,xe))}),r}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function a(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){function t(e,t){return function(n){for(var a,r,i,f=[],o=-1,c=0,u=e.length;++o<u;)37===e.charCodeAt(o)&&(f.push(e.slice(c,o)),null!=(r=Ne[a=e.charAt(++o)])&&(a=e.charAt(++o)),(i=t[a])&&(a=i(n,null==r?"e"===a?" ":"0":r)),f.push(a),c=o+1);return f.push(e.slice(c,o)),f.join("")}}function n(e,t){return function(n){var r=f(1900),o=a(r,e,n,0);if(o!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"Z"in r){if("w"in r&&("W"in r||"U"in r)){var c=i(f(r.y)).getUTCDay();"W"in r&&(r.U=r.W,r.w=(r.w+6)%7,--c),r.m=0,r.d=r.w+7*r.U-(c+6)%7}return r.H+=r.Z/100|0,r.M+=r.Z%100,i(r)}if("w"in r&&("W"in r||"U"in r)){var c=t(f(r.y)).getDay();"W"in r&&(r.U=r.W,r.w=(r.w+6)%7,--c),r.m=0,r.d=r.w+7*r.U-(c+6)%7}return t(r)}}function a(e,t,n,a){for(var r,i,f=0,o=t.length,c=n.length;o>f;){if(a>=c)return-1;if(r=t.charCodeAt(f++),37===r){if(r=t.charAt(f++),i=Xe[r in Ne?t.charAt(f++):r],!i||(a=i(e,n,a))<0)return-1}else if(r!=n.charCodeAt(a++))return-1}return a}function o(e,t,n){var a=Ce.exec(t.slice(n));return a?(e.w=Re.get(a[0].toLowerCase()),n+a[0].length):-1}function c(e,t,n){var a=Te.exec(t.slice(n));return a?(e.w=ke.get(a[0].toLowerCase()),n+a[0].length):-1}function u(e,t,n){var a=Ye.exec(t.slice(n));return a?(e.m=Ae.get(a[0].toLowerCase()),n+a[0].length):-1}function te(e,t,n){var a=De.exec(t.slice(n));return a?(e.m=Le.get(a[0].toLowerCase()),n+a[0].length):-1}function ne(e,t,n){return a(e,me,t,n)}function ae(e,t,n){return a(e,pe,t,n)}function re(e,t,n){return a(e,ye,t,n)}function ie(e,t,n){var a=we.get(t.slice(n,n+=2).toLowerCase());return null==a?-1:(e.p=a,n)}function fe(e){return xe[e.getDay()]}function oe(e){return Me[e.getDay()]}function ce(e){return Oe[e.getMonth()]}function ue(e){return Se[e.getMonth()]}function se(e){return ve[+(e.getHours()>=12)]}function de(e){return xe[e.getUTCDay()]}function le(e){return Me[e.getUTCDay()]}function be(e){return Oe[e.getUTCMonth()]}function he(e){return Se[e.getUTCMonth()]}function ge(e){return ve[+(e.getUTCHours()>=12)]}var me=e.dateTime,pe=e.date,ye=e.time,ve=e.periods,Me=e.days,xe=e.shortDays,Se=e.months,Oe=e.shortMonths,we=d(ve),Te=s(Me),ke=d(Me),Ce=s(xe),Re=d(xe),De=s(Se),Le=d(Se),Ye=s(Oe),Ae=d(Oe),Ee={a:fe,A:oe,b:ce,B:ue,c:null,d:k,e:k,H:C,I:R,j:D,L:N,m:L,M:Y,p:se,S:A,U:E,w:U,W:X,x:null,X:null,y:j,Y:z,Z:F,"%":ee},Ue={a:de,A:le,b:be,B:he,c:null,d:_,e:_,H:H,I:W,j:$,L:P,m:B,M:q,p:ge,S:I,U:J,w:G,W:Z,x:null,X:null,y:Q,Y:V,Z:K,"%":ee},Xe={a:o,A:c,b:u,B:te,c:ne,d:v,e:v,H:x,I:x,j:M,L:w,m:y,M:S,p:ie,S:O,U:b,w:l,W:h,x:ae,X:re,y:m,Y:g,Z:p,"%":T};return Ee.x=t(pe,Ee),Ee.X=t(ye,Ee),Ee.c=t(me,Ee),Ue.x=t(pe,Ue),Ue.X=t(ye,Ue),Ue.c=t(me,Ue),{format:function(e){var a=t(e+="",Ee);return a.parse=n(e,r),a.toString=function(){return e},a},utcFormat:function(e){var a=t(e+="",Ue);return a.parse=n(e,i),a.toString=function(){return e},a}}}function c(e,t,n){var a=0>e?"-":"",r=(a?-e:e)+"",i=r.length;return a+(n>i?new Array(n-i+1).join(t)+r:r)}function u(e){return e.replace(Ae,"\\$&")}function s(e){return new RegExp("^(?:"+e.map(u).join("|")+")","i")}function d(e){for(var t=new Map,n=-1,a=e.length;++n<a;)t.set(e[n].toLowerCase(),n);return t}function l(e,t,n){var a=Le.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function b(e,t,n){var a=Le.exec(t.slice(n));return a?(e.U=+a[0],n+a[0].length):-1}function h(e,t,n){var a=Le.exec(t.slice(n));return a?(e.W=+a[0],n+a[0].length):-1}function g(e,t,n){var a=Le.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function m(e,t,n){var a=Le.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function p(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function y(e,t,n){var a=Le.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function v(e,t,n){var a=Le.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function M(e,t,n){var a=Le.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function x(e,t,n){var a=Le.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function S(e,t,n){var a=Le.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function O(e,t,n){var a=Le.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function w(e,t,n){var a=Le.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function T(e,t,n){var a=Ye.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function k(e,t){return c(e.getDate(),t,2)}function C(e,t){return c(e.getHours(),t,2)}function R(e,t){return c(e.getHours()%12||12,t,2)}function D(e,t){return c(1+Se.count(Te(e),e),t,3)}function N(e,t){return c(e.getMilliseconds(),t,3)}function L(e,t){return c(e.getMonth()+1,t,2)}function Y(e,t){return c(e.getMinutes(),t,2)}function A(e,t){return c(e.getSeconds(),t,2)}function E(e,t){return c(Oe.count(Te(e),e),t,2)}function U(e){return e.getDay()}function X(e,t){return c(we.count(Te(e),e),t,2)}function j(e,t){return c(e.getFullYear()%100,t,2)}function z(e,t){return c(e.getFullYear()%1e4,t,4)}function F(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+c(t/60|0,"0",2)+c(t%60,"0",2)}function _(e,t){return c(e.getUTCDate(),t,2)}function H(e,t){return c(e.getUTCHours(),t,2)}function W(e,t){return c(e.getUTCHours()%12||12,t,2)}function $(e,t){return c(1+ke.count(De(e),e),t,3)}function P(e,t){return c(e.getUTCMilliseconds(),t,3)}function B(e,t){return c(e.getUTCMonth()+1,t,2)}function q(e,t){return c(e.getUTCMinutes(),t,2)}function I(e,t){return c(e.getUTCSeconds(),t,2)}function J(e,t){return c(Ce.count(De(e),e),t,2)}function G(e){return e.getUTCDay()}function Z(e,t){return c(Re.count(De(e),e),t,2)}function Q(e,t){return c(e.getUTCFullYear()%100,t,2)}function V(e,t){return c(e.getUTCFullYear()%1e4,t,4)}function K(){return"+0000"}function ee(){return"%"}function te(e){return e.toISOString()}function ne(e){return"string"!=typeof e||(e=je.get(e))?o(e):null}var ae={dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["",""],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]},re={dateTime:"%A, %e %B %Y . %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]},ie={dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]},fe={dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","r.","Czw.","Pt.","Sob."],months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Padz.","Listop.","Grudz."]},oe={dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]},ce={dateTime:"%A, %e %B %Y . %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]},ue={dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},se={dateTime:"%A, %e %B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["","","","","","",""],shortDays:["","","","","","",""],months:["","","","","","","","","","","",""],shortMonths:["","","","","","","","","","","",""]},de={dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortMonths:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."]},le={dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],shortMonths:["jan","fv","mar","avr","mai","jui","jul","ao","sep","oct","nov","dc"]},be={dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kes","Hein","Elo","Syys","Loka","Marras","Joulu"]},he={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],shortDays:["dom","lun","mar","mi","jue","vie","sb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]},ge={dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},me={dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},pe={dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ye={dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},ve={dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","mar","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]},Me=new Date,xe=new Date,Se=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),Oe=n(0),we=n(1),Te=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()}),ke=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5}),Ce=a(0),Re=a(1),De=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),Ne={"-":"",_:" ",0:"0"},Le=/^\s*\d+/,Ye=/^%/,Ae=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ee="%Y-%m-%dT%H:%M:%S.%LZ";te.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},te.toString=function(){return Ee};var Ue=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?te:ge.utcFormat(Ee),Xe=Ue,je=(new Map).set("ca-ES",ve).set("de-DE",ye).set("en-CA",pe).set("en-GB",me).set("en-US",ge).set("es-ES",he).set("fi-FI",be).set("fr-CA",le).set("fr-FR",de).set("he-IL",se).set("it-IT",ue).set("mk-MK",ce).set("nl-NL",oe).set("pl-PL",fe).set("pt-BR",ie).set("ru-RU",re).set("zh-CN",ae),ze=o(ge);e.format=ze.format,e.utcFormat=ze.utcFormat,e.localeFormat=ne,e.isoFormat=Xe})},{}],7:[function(t,n,a){!function(t,r){"object"==typeof a&&"undefined"!=typeof n?r(a):"function"==typeof e&&e.amd?e(["exports"],r):r(t.time={})}(this,function(e){"use strict";function t(e,n,a){function f(t){return e(t=new Date(+t)),t}return f.floor=f,f.round=function(t){var a=new Date(+t),r=new Date(t-1);return e(a),e(r),n(r,1),r-t>t-a?a:r},f.ceil=function(t){return e(t=new Date(t-1)),n(t,1),t},f.offset=function(e,t){return n(e=new Date(+e),null==t?1:Math.floor(t)),e},f.range=function(t,a,r){var i=[];if(t=new Date(t-1),a=new Date(+a),r=null==r?1:Math.floor(r),!(a>t&&r>0))return i;for(n(t,1),e(t),a>t&&i.push(new Date(+t));n(t,r),e(t),a>t;)i.push(new Date(+t));return i},f.filter=function(a){return t(function(t){for(;e(t),!a(t);)t.setTime(t-1)},function(e,t){for(;--t>=0;)for(;n(e,1),!a(e););})},a&&(f.count=function(t,n){return i.setTime(+t),r.setTime(+n),e(i),e(r),Math.floor(a(i,r))}),f}function n(e){return t(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5})}function a(e){return t(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var r=new Date,i=new Date,f=t(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.seconds=f.range;var o=t(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.minutes=o.range;var c=t(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.hours=c.range;var u=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5});e.days=u.range,e.sunday=n(0),e.sundays=e.sunday.range,e.monday=n(1),e.mondays=e.monday.range,e.tuesday=n(2),e.tuesdays=e.tuesday.range,e.wednesday=n(3),e.wednesdays=e.wednesday.range,e.thursday=n(4),e.thursdays=e.thursday.range,e.friday=n(5),e.fridays=e.friday.range,e.saturday=n(6),e.saturdays=e.saturday.range;var s=e.sunday;e.weeks=s.range;var d=t(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())});e.months=d.range;var l=t(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()});e.years=l.range;var b=t(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3});e.utcSeconds=b.range;var h=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4});e.utcMinutes=h.range;var g=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5});e.utcHours=g.range;var m=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5});e.utcDays=m.range,e.utcSunday=a(0),e.utcSundays=e.utcSunday.range,e.utcMonday=a(1),e.utcMondays=e.utcMonday.range,e.utcTuesday=a(2),e.utcTuesdays=e.utcTuesday.range,e.utcWednesday=a(3),e.utcWednesdays=e.utcWednesday.range,e.utcThursday=a(4),e.utcThursdays=e.utcThursday.range,e.utcFriday=a(5),e.utcFridays=e.utcFriday.range,e.utcSaturday=a(6),e.utcSaturdays=e.utcSaturday.range;var p=e.utcSunday;e.utcWeeks=p.range;var y=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())});e.utcMonths=y.range;var v=t(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()});e.utcYears=v.range,e.interval=t,e.second=f,e.minute=o,e.hour=c,e.day=u,e.week=s,e.month=d,e.year=l,e.utcSecond=b,e.utcMinute=h,e.utcHour=g,e.utcDay=m,e.utcWeek=p,e.utcMonth=y,e.utcYear=v})},{}],8:[function(e,t,n){function a(e){if(!e)throw Error("Missing binning options.");var t,n,a,o,c,u,s,d=e.maxbins||15,l=e.base||10,b=Math.log(l),h=e.div||[5,2],g=e.min,m=e.max,p=m-g;if(e.step)t=e.step;else if(e.steps)t=e.steps[Math.min(e.steps.length-1,r(e.steps,p/d,0,e.steps.length))];else{n=Math.ceil(Math.log(d)/b),a=e.minstep||0,t=Math.max(a,Math.pow(l,Math.round(Math.log(p)/b)-n));do t*=l;while(Math.ceil(p/t)>d);for(u=0;u<h.length;++u)c=t/h[u],c>=a&&d>=p/c&&(t=c)}return c=Math.log(t),o=c>=0?0:~~(-c/b)+1,s=Math.pow(l,-o-1),g=Math.min(g,Math.floor(g/t+s)*t),m=Math.ceil(m/t)*t,{start:g,stop:m,step:t,unit:{precision:o},value:i,index:f}}function r(e,t,n,a){for(;a>n;){var r=n+a>>>1;u.cmp(e[r],t)<0?n=r+1:a=r}return n}function i(e){return this.step*Math.floor(e/this.step+d)}function f(e){return Math.floor((e-this.start)/this.step+d)}function o(e){return this.unit.date(i.call(this,e))}function c(e){return f.call(this,this.unit.unit(e))}var u=e("../util"),s=e("../time"),d=1e-15;a.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?s.utc:s,n=e.min,r=e.max,i=e.maxbins||20,f=e.minbins||4,u=+r-+n,d=e.unit?t[e.unit]:t.find(u,f,i),l=a({min:null!=d.min?d.min:d.unit(n),max:null!=d.max?d.max:d.unit(r),maxbins:i,minstep:d.minstep,steps:d.step});return l.unit=d,l.index=c,e.raw||(l.value=o),l},t.exports=a},{"../time":12,"../util":13}],9:[function(e,t,n){var a=t.exports={};a.repeat=function(e,t){var n,a=Array(t);for(n=0;t>n;++n)a[n]=e;return a},a.zeros=function(e){return a.repeat(0,e)},a.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("Infinite range");var a,r=[],i=-1;if(0>n)for(;(a=e+n*++i)>t;)r.push(a);else for(;(a=e+n*++i)<t;)r.push(a);return r},a.random={},a.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var n=t-e,r=function(){return e+n*Math.random()};return r.samples=function(e){return a.zeros(e).map(r)},r},a.random.integer=function(e,t){void 0===t&&(t=e,e=0);var n=t-e,r=function(){return e+Math.floor(n*Math.random())};return r.samples=function(e){return a.zeros(e).map(r)},r},a.random.normal=function(e,t){e=e||0,t=t||1;var n,r=function(){var a,r,i=0,f=0;if(void 0!==n)return i=n,n=void 0,i;do i=2*Math.random()-1,f=2*Math.random()-1,a=i*i+f*f;while(0===a||a>1);return r=Math.sqrt(-2*Math.log(a)/a),n=e+f*r*t,e+i*r*t};return r.samples=function(e){return a.zeros(e).map(r)},r}},{}],10:[function(e,t,n){function a(e,t){return t?void(e[u]=t):e&&e[u]||null}function r(e,t){t=c.$(t);var n,a,r;if(e[u]&&(n=t(e[u]),c.isString(n)))return n;for(a=0,r=e.length;!c.isValid(n)&&r>a;++a)n=t?t(e[a]):e[a];return c.isDate(n)?"date":c.isNumber(n)?"number":c.isBoolean(n)?"boolean":c.isString(n)?"string":null}function i(e,t){return e.length?(t=t||c.keys(e[0]),t.reduce(function(t,n){return t[n]=r(e,n),t},{})):void 0}function f(e,t){t=c.$(t);var n,a,r,i=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(r=t?t(e[n]):e[n],a=0;a<i.length;++a)c.isValid(r)&&!d[i[a]](r)&&(i.splice(a,1),a-=1);if(0===i.length)return"string"}return i[0]}function o(e,t){return t=t||c.keys(e[0]),t.reduce(function(t,n){return t[n]=f(e,n),t},{})}var c=e("../util"),u="__types__",s={"boolean":c["boolean"],integer:c.number,number:c.number,date:c.date,string:function(e){return""===e?null:e}},d={"boolean":function(e){return"true"===e||"false"===e||c.isBoolean(e)},integer:function(e){return d.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!c.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};r.annotation=a,r.all=i,r.infer=f,r.inferAll=o,r.parsers=s,t.exports=r},{"../util":13}],11:[function(e,t,n){var a=e("./util"),r=e("./import/type"),i=e("./generate"),f={};f.unique=function(e,t,n){t=a.$(t),n=n||[];var r,i,f,o={};for(i=0,f=e.length;f>i;++i)r=t?t(e[i]):e[i],r in o||(o[r]=1,n.push(r));return n},f.count=function(e){return e&&e.length||0},f.count.valid=function(e,t){t=a.$(t);var n,r,i,f=0;for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],a.isValid(n)&&(f+=1);return f},f.count.missing=function(e,t){t=a.$(t);var n,r,i,f=0;for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],null==n&&(f+=1);return f},f.count.distinct=function(e,t){t=a.$(t);var n,r,i,f={},o=0;for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],n in f||(f[n]=1,o+=1);return o},f.count.map=function(e,t){t=a.$(t);var n,r,i,f={};for(r=0,i=e.length;i>r;++r)n=t?t(e[r]):e[r],f[n]=n in f?f[n]+1:1;return f},f.median=function(e,t){return t&&(e=e.map(a.$(t))),e=e.filter(a.isValid).sort(a.cmp),f.quantile(e,.5)},f.quartile=function(e,t){t&&(e=e.map(a.$(t))),e=e.filter(a.isValid).sort(a.cmp);var n=f.quantile;return[n(e,.25),n(e,.5),n(e,.75)]},f.quantile=function(e,t,n){void 0===n&&(n=t,t=a.identity),t=a.$(t);var r=(e.length-1)*n+1,i=Math.floor(r),f=+t(e[i-1]),o=r-i;return o?f+o*(t(e[i])-f):f},f.sum=function(e,t){t=a.$(t);for(var n,r=0,i=0,f=e.length;f>i;++i)n=t?t(e[i]):e[i],a.isValid(n)&&(r+=n);return r},f.mean=function(e,t){t=a.$(t);var n,r,i,f,o,c=0;for(r=0,f=0,i=e.length;i>r;++r)o=t?t(e[r]):e[r],a.isValid(o)&&(n=o-c,c+=n/++f);return c},f.variance=function(e,t){if(t=a.$(t),!a.isArray(e)||e.length<2)return 0;var n,r,i,f,o=0,c=0;for(r=0,i=0;r<e.length;++r)f=t?t(e[r]):e[r],a.isValid(f)&&(n=f-o,o+=n/++i,c+=n*(f-o));return c/=i-1},f.stdev=function(e,t){return Math.sqrt(f.variance(e,t))},f.modeskew=function(e,t){var n=f.mean(e,t),a=f.median(e,t),r=f.stdev(e,t);return 0===r?0:(n-a)/r},f.min=function(e,t){return f.extent(e,t)[0]},f.max=function(e,t){return f.extent(e,t)[1]},f.extent=function(e,t){t=a.$(t);var n,r,i,f,o=e.length;for(f=0;o>f;++f)if(i=t?t(e[f]):e[f],a.isValid(i)){n=r=i;break}for(;o>f;++f)i=t?t(e[f]):e[f],a.isValid(i)&&(n>i&&(n=i),i>r&&(r=i));return[n,r]},f.extent.index=function(e,t){t=a.$(t);var n,r,i,f,o=-1,c=-1,u=e.length;for(f=0;u>f;++f)if(i=t?t(e[f]):e[f],a.isValid(i)){n=r=i,o=c=f;break}for(;u>f;++f)i=t?t(e[f]):e[f],a.isValid(i)&&(n>i&&(n=i,o=f),i>r&&(r=i,c=f));return[o,c]},f.dot=function(e,t,n){var r,i,f=0;if(n)for(t=a.$(t),n=a.$(n),r=0;r<e.length;++r)i=t(e[r])*n(e[r]),i===i&&(f+=i);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(r=0;r<e.length;++r)i=e[r]*t[r],i===i&&(f+=i)}return f},f.rank=function(e,t){t=a.$(t)||a.identity;var n,r,i,f=e.map(function(e,n){return{idx:n,val:t(e)}}).sort(a.comparator("val")),o=e.length,c=Array(o),u=-1,s={};for(n=0;o>n;++n){if(r=f[n].val,0>u&&s===r)u=n-1;else if(u>-1&&s!==r){for(i=1+(n-1+u)/2;n>u;++u)c[f[u].idx]=i;u=-1}c[f[n].idx]=n+1,s=r}if(u>-1)for(i=1+(o-1+u)/2;o>u;++u)c[f[u].idx]=i;return c},f.cor=function(e,t,n){var r=n;n=r?e.map(a.$(n)):t,t=r?e.map(a.$(t)):e;var i=f.dot(t,n),o=f.mean(t),c=f.mean(n),u=f.stdev(t),s=f.stdev(n),d=e.length;return(i-d*o*c)/((d-1)*u*s)},f.cor.rank=function(e,t,n){var r,i,o,c=n?f.rank(e,a.$(t)):f.rank(e),u=n?f.rank(e,a.$(n)):f.rank(t),s=e.length;for(r=0,i=0;s>r;++r)o=c[r]-u[r],i+=o*o;return 1-6*i/(s*(s*s-1))},f.cor.dist=function(e,t,n){var r,i,o,c,u=n?e.map(a.$(t)):e,s=n?e.map(a.$(n)):t,d=f.dist.mat(u),l=f.dist.mat(s),b=d.length;for(r=0,i=0,o=0,c=0;b>r;++r)i+=d[r]*d[r],o+=l[r]*l[r],c+=d[r]*l[r];return Math.sqrt(c/Math.sqrt(i*o))},f.dist=function(e,t,n,r){var i,f,o=a.isFunction(n)||a.isString(n),c=e,u=o?e:t,s=o?r:n,d=2===s||null==s,l=e.length,b=0;for(o&&(t=a.$(t),n=a.$(n)),f=0;l>f;++f)i=o?t(c[f])-n(u[f]):c[f]-u[f],b+=d?i*i:Math.pow(Math.abs(i),s);return d?Math.sqrt(b):Math.pow(b,1/s)},f.dist.mat=function(e){var t,n,a,r=e.length,f=r*r,o=Array(f),c=i.zeros(r),u=0;for(n=0;r>n;++n)for(o[n*r+n]=0,a=n+1;r>a;++a)o[n*r+a]=t=Math.abs(e[n]-e[a]),o[a*r+n]=t,c[n]+=t,c[a]+=t;for(n=0;r>n;++n)u+=c[n],c[n]/=r;for(u/=f,n=0;r>n;++n)for(a=n;r>a;++a)o[n*r+a]+=u-c[n]-c[a],o[a*r+n]=o[n*r+a];return o},f.entropy=function(e,t){t=a.$(t);var n,r,i=0,f=0,o=e.length;for(n=0;o>n;++n)i+=t?t(e[n]):e[n];if(0===i)return 0;for(n=0;o>n;++n)r=(t?t(e[n]):e[n])/i,r&&(f+=r*Math.log(r));return-f/Math.LN2},f.mutual=function(e,t,n,r){var i,f,o,c=r?e.map(a.$(t)):e,u=r?e.map(a.$(n)):t,s=r?e.map(a.$(r)):n,d={},l={},b=s.length,h=0,g=0,m=0;
for(o=0;b>o;++o)d[c[o]]=0,l[u[o]]=0;for(o=0;b>o;++o)d[c[o]]+=s[o],l[u[o]]+=s[o],h+=s[o];for(f=1/(h*Math.LN2),o=0;b>o;++o)0!==s[o]&&(i=h*s[o]/(d[c[o]]*l[u[o]]),g+=s[o]*f*Math.log(i),m+=s[o]*f*Math.log(s[o]/h));return[g,1+g/m]},f.mutual.info=function(e,t,n,a){return f.mutual(e,t,n,a)[0]},f.mutual.dist=function(e,t,n,a){return f.mutual(e,t,n,a)[1]},f.profile=function(e,t){var n,i,o,c,u,s=0,d=0,l=0,b=0,h=null,g=null,m=0,p=[],y={};for(o=0;o<e.length;++o)c=t?t(e[o]):e[o],y[c]=c in y?y[c]+1:(b+=1,1),null==c?++l:a.isValid(c)&&(u="string"==typeof c?c.length:c,(null===h||h>u)&&(h=u),(null===g||u>g)&&(g=u),n=u-s,s+=n/++d,m+=n*(u-s),p.push(u));return m/=d-1,i=Math.sqrt(m),p.sort(a.cmp),{type:r(e,t),unique:y,count:e.length,valid:d,missing:l,distinct:b,min:h,max:g,mean:s,stdev:i,median:c=f.quantile(p,.5),q1:f.quantile(p,.25),q3:f.quantile(p,.75),modeskew:0===i?0:(s-c)/i}},f.summary=function(e,t){t=t||a.keys(e[0]);var n=t.map(function(t){var n=f.profile(e,a.$(t));return n.field=t,n});return n.__summary__=!0,n},t.exports=f},{"./generate":9,"./import/type":10,"./util":13}],12:[function(e,t,n){function a(e){return u.setTime(+e),u}function r(e,t,n,a,r,i){var f={type:e,date:t,unit:n};return a?f.step=a:f.minstep=1,null!=r&&(f.min=r),null!=i&&(f.max=i),f}function i(e,t,n,a,i,f){return r(e,function(e){return t.offset(n,e)},function(e){return t.count(n,e)},a,i,f)}function f(e,t,n,a){var r,i,f,o=h[0];for(r=1,i=h.length;i>r;++r)if(o=h[r],t>o[0]){if(f=t/o[0],f>a)return e[h[r-1][1]];if(f>=n)return e[o[1]]}return e[h[i-1][1]]}function o(e){var t,n,a={};for(t=0,n=e.length;n>t;++t)a[e[t].type]=e[t];return a.find=function(t,n,a){return f(e,t,n,a)},a}var c=e("d3-time"),u=new Date,s=new Date(0,0,1).setFullYear(0),d=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),l=[i("second",c.second,s),i("minute",c.minute,s),i("hour",c.hour,s),i("day",c.day,s,[1,7]),i("month",c.month,s,[1,3,6]),i("year",c.year,s),r("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return a(e).getSeconds()},null,0,59),r("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return a(e).getMinutes()},null,0,59),r("hours",function(e){return new Date(1970,0,1,e)},function(e){return a(e).getHours()},null,0,23),r("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return a(e).getDay()},[1],0,6),r("dates",function(e){return new Date(1970,0,e)},function(e){return a(e).getDate()},[1],1,31),r("months",function(e){return new Date(1970,e%12,1)},function(e){return a(e).getMonth()},[1],0,11)],b=[i("second",c.utcSecond,d),i("minute",c.utcMinute,d),i("hour",c.utcHour,d),i("day",c.utcDay,d,[1,7]),i("month",c.utcMonth,d,[1,3,6]),i("year",c.utcYear,d),r("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return a(e).getUTCSeconds()},null,0,59),r("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return a(e).getUTCMinutes()},null,0,59),r("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return a(e).getUTCHours()},null,0,23),r("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return a(e).getUTCDay()},[1],0,6),r("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return a(e).getUTCDate()},[1],1,31),r("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return a(e).getUTCMonth()},[1],0,11)],h=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];t.exports=o(l),t.exports.utc=o(b)},{"d3-time":7}],13:[function(e,t,n){function a(e){return e.replace(l,"$1\\'")}function r(e,t){var n,a="";for(n=0;e>n;++n)a+=t;return a}function i(e,t,n){var a=0,r=e.split(h);return e=n?(r=r.reverse()).filter(function(e){return a+=e.length,t>=a}).reverse():r.filter(function(e){return a+=e.length,t>=a}),e.length?e.join("").trim():r[0].slice(0,t)}var f=e("buffer"),o=e("./time"),c=o.utc,u=t.exports={},s="__name__";u.namedfunc=function(e,t){return t[s]=e,t},u.name=function(e){return null==e?null:e[s]},u.identity=function(e){return e},u["true"]=u.namedfunc("true",function(){return!0}),u["false"]=u.namedfunc("false",function(){return!1}),u.duplicate=function(e){return JSON.parse(JSON.stringify(e))},u.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},u.extend=function(e){for(var t,n,a=1,r=arguments.length;r>a;++a){t=arguments[a];for(n in t)e[n]=t[n]}return e},u.length=function(e){return null!=e&&null!=e.length?e.length:null},u.keys=function(e){var t,n=[];for(t in e)n.push(t);return n},u.vals=function(e){var t,n=[];for(t in e)n.push(e[t]);return n},u.toMap=function(e,t){return(t=u.$(t))?e.reduce(function(e,n){return e[t(n)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},u.keystr=function(e){var t=e.length;if(!t)return"";for(var n=String(e[0]),a=1;t>a;++a)n+="|"+String(e[a]);return n};var d=Object.prototype.toString;u.isObject=function(e){return e===Object(e)},u.isFunction=function(e){return"[object Function]"===d.call(e)},u.isString=function(e){return"string"==typeof value||"[object String]"===d.call(e)},u.isArray=Array.isArray||function(e){return"[object Array]"===d.call(e)},u.isNumber=function(e){return"number"==typeof e||"[object Number]"===d.call(e)},u.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},u.isDate=function(e){return"[object Date]"===d.call(e)},u.isValid=function(e){return null!=e&&e===e},u.isBuffer=f.Buffer&&f.Buffer.isBuffer||u["false"],u.number=function(e){return null==e||""===e?null:+e},u["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},u.date=function(e){return null==e||""===e?null:Date.parse(e)},u.array=function(e){return null!=e?u.isArray(e)?e:[e]:[]},u.str=function(e){return u.isArray(e)?"["+e.map(u.str)+"]":u.isObject(e)?JSON.stringify(e):u.isString(e)?"'"+a(e)+"'":e};var l=/(^|[^\\])'/g,b=/\[(.*?)\]|[^.\[]+/g;u.field=function(e){return String(e).match(b).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},u.accessor=function(e){var t;return null==e||u.isFunction(e)?e:u.namedfunc(e,(t=u.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},u.$=u.accessor,u.mutator=function(e){var t;return u.isString(e)&&(t=u.field(e)).length>1?function(e,n){for(var a=0;a<t.length-1;++a)e=e[t[a]];e[t[a]]=n}:function(t,n){t[e]=n}},u.$func=function(e,t){return function(n){n=u.$(n)||u.identity;var a=e+(u.name(n)?"_"+u.name(n):"");return u.namedfunc(a,function(e){return t(n(e))})}},u.$valid=u.$func("valid",u.isValid),u.$length=u.$func("length",u.length),u.$in=function(e,t){e=u.$(e);var n=u.isArray(t)?u.toMap(t):t;return function(t){return!!n[e(t)]}},u.$year=u.$func("year",o.year.unit),u.$month=u.$func("month",o.months.unit),u.$date=u.$func("date",o.dates.unit),u.$day=u.$func("day",o.weekdays.unit),u.$hour=u.$func("hour",o.hours.unit),u.$minute=u.$func("minute",o.minutes.unit),u.$second=u.$func("second",o.seconds.unit),u.$utcYear=u.$func("utcYear",c.year.unit),u.$utcMonth=u.$func("utcMonth",c.months.unit),u.$utcDate=u.$func("utcDate",c.dates.unit),u.$utcDay=u.$func("utcDay",c.weekdays.unit),u.$utcHour=u.$func("utcHour",c.hours.unit),u.$utcMinute=u.$func("utcMinute",c.minutes.unit),u.$utcSecond=u.$func("utcSecond",c.seconds.unit),u.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=u.array(e).map(function(e){var n=1;return"-"===e[0]?(n=-1,e=e.slice(1)):"+"===e[0]&&(n=1,e=e.slice(1)),t.push(n),u.accessor(e)}),function(n,a){var r,i,f,o,c;for(r=0,i=e.length;i>r;++r){if(f=e[r],o=f(n),c=f(a),c>o)return-1*t[r];if(o>c)return t[r]}return 0}},u.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:NaN},u.numcmp=function(e,t){return e-t},u.stablesort=function(e,t,n){var a=e.reduce(function(e,t,a){return e[n(t)]=a,e},{});return e.sort(function(e,r){var i=t(e),f=t(r);return f>i?-1:i>f?1:a[n(e)]-a[n(r)]}),e},u.pad=function(e,t,n,a){a=a||" ";var i=t-e.length;if(0>=i)return e;switch(n){case"left":return r(i,a)+e;case"middle":case"center":return r(Math.floor(i/2),a)+e+r(Math.ceil(i/2),a);default:return e+r(i,a)}},u.truncate=function(e,t,n,a,r){var f=e.length;if(t>=f)return e;r=void 0!==r?String(r):"";var o=Math.max(0,t-r.length);switch(n){case"left":return r+(a?i(e,o,1):e.slice(f-o));case"middle":case"center":var c=Math.ceil(o/2),u=Math.floor(o/2);return(a?i(e,c):e.slice(0,c))+r+(a?i(e,u,1):e.slice(f-u));default:return(a?i(e,o):e.slice(0,o))+r}};var h=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/},{"./time":12,buffer:1}],14:[function(e,t,n){"use strict";e("./globals");var a=e("./consts"),r=e("./util"),i=e("./field"),f=e("./enc"),o=e("./schema/schema");t.exports=function(){function e(e,t){var n=o.instantiate(),a=o.util.merge(n,t||{},e);this._data=a.data,this._marktype=a.marktype,this._enc=a.encoding,this._config=a.config,this._filter=a.filter}var t=e.prototype;return e.fromShorthand=function(t,n,r,i){var o=a.shorthand,c=t.split(o.delim),u=c.shift().split(o.assign)[1].trim(),s=f.fromShorthand(c);return new e({data:n,marktype:u,encoding:s,config:r,filter:[]},i)},e.fromSpec=function(t,n){return new e(t,n)},t.toShorthand=function(){var e=a.shorthand;return"mark"+e.assign+this._marktype+e.delim+f.shorthand(this._enc)},e.shorthand=function(e){var t=a.shorthand;return"mark"+t.assign+e.marktype+t.delim+f.shorthand(e.encoding)},e.specFromShorthand=function(t,n,a,r){return e.fromShorthand(t,n,a).toSpec(r)},t.toSpec=function(e,t){var n,a=r.duplicate(this._enc);n={marktype:this._marktype,encoding:a,filter:this._filter},e||(n.config=r.duplicate(this._config)),t||(n.data=r.duplicate(this._data));var i=o.instantiate();return o.util.subtract(n,i)},t.marktype=function(){return this._marktype},t.is=function(e){return this._marktype===e},t.has=function(e){return void 0!==this._enc[e].name},t.field=function(e){return this._enc[e]},t.filter=function(){var e=[],t=this.fields(),n=this;return r.forEach(t,function(t,a){"*"!==a&&(n.config("filterNull").Q&&t.containsType[Q]||n.config("filterNull").T&&t.containsType[T]||n.config("filterNull").O&&t.containsType[O]||n.config("filterNull").N&&t.containsType[N])&&e.push({operands:[a],operator:"notNull"})}),e.concat(this._filter)},t.fieldRef=function(e,t){return t=t||{},t.data=!this._vega2&&t.data!==!1,i.fieldRef(this._enc[e],t)},t.fieldName=function(e){return this._enc[e].name},t.fields=function(){return f.fields(this._enc)},t.fieldTitle=function(e){if(i.isCount(this._enc[e]))return i.count.displayName;var t=this._enc[e].aggregate||this._enc[e].timeUnit||this._enc[e].bin&&"bin";if(t){var n="avg"===t?"MEAN":t.toUpperCase();return n+"("+this._enc[e].name+")"}return this._enc[e].name},t.scale=function(e){return this._enc[e].scale||{}},t.axis=function(e){return this._enc[e].axis||{}},t.bandSize=function(e,t){return t=t||e===Y&&this.has(ROW)&&this.has(Y)||e===X&&this.has(COL)&&this.has(X),this.field(e).band.size||this.config(t?"smallBandSize":"largeBandSize")},t.aggregate=function(e){return this._enc[e].aggregate},t.bin=function(e){var t=this._enc[e].bin;return t==={}?!1:t===!0?{maxbins:o.MAXBINS_DEFAULT}:t},t.value=function(e){return this._enc[e].value},t.numberFormat=function(e){var t=e.max>this.config("maxSmallNumber")?"largeNumberFormat":"smallNumberFormat";return this.config(t)},t.sort=function(t,n){var a=this._enc[t].sort,r=this._enc,f=i.isTypes;if((!a||0===a.length)&&e.toggleSort.support({encoding:this._enc},n,!0)&&this.config("toggleSort")===Q){var o=f(r.x,[N,O])?r.y:r.x;f(r[t],[N,O])&&(a=[{name:o.name,aggregate:o.aggregate,type:o.type,reverse:!0}])}return a},t.map=function(e){return f.map(this._enc,e)},t.reduce=function(e,t){return f.reduce(this._enc,e,t)},t.forEach=function(e){return f.forEach(this._enc,e)},t.type=function(e){return this.has(e)?this._enc[e].type:null},t.isType=function(e,t){var n=this.field(e);return n&&i.isType(n,t)},t.isTypes=function(e,t){var n=this.field(e);return n&&i.isTypes(n,t)},e.isOrdinalScale=function(e,t){return i.isOrdinalScale(e.field(t))},e.isDimension=function(e,t){return i.isDimension(e.field(t))},e.isMeasure=function(e,t){return i.isMeasure(e.field(t))},t.isOrdinalScale=function(t){return this.has(t)&&e.isOrdinalScale(this,t)},t.isDimension=function(t){return this.has(t)&&e.isDimension(this,t)},t.isMeasure=function(t){return this.has(t)&&e.isMeasure(this,t)},t.isAggregate=function(){return f.isAggregate(this._enc)},t.dataTable=function(){return this.isAggregate()?AGGREGATE:RAW},e.isAggregate=function(e){return f.isAggregate(e.encoding)},e.alwaysNoOcclusion=function(e){return f.isAggregate(e.encoding)},e.isStack=function(e){return("bar"===e.marktype||"area"===e.marktype)&&e.encoding.color},t.isStack=function(){return(this.is("bar")||this.is("area"))&&this.has("color")},t.details=function(){var e=this;return this.reduce(function(t,n,a){return n.aggregate||a===X||a===Y||t.push(e.fieldRef(a)),t},[])},t.facets=function(){var e=this;return this.reduce(function(t,n,a){return n.aggregate||a!=ROW&&a!=COL||t.push(e.fieldRef(a)),t},[])},t.cardinality=function(e,t){return i.cardinality(this.field(e),t,this.config("filterNull"))},t.isRaw=function(){return!this.isAggregate()},t.data=function(){return this._data},t.hasValues=function(){var e=this.data().values;return e&&e.length},t.config=function(e){return this._config[e]},e.transpose=function(e){var t=e.encoding,n=r.duplicate(e.encoding);return n.x=t.y,n.y=t.x,n.row=t.col,n.col=t.row,e.encoding=n,e},e.toggleSort=function(e){return e.config=e.config||{},e.config.toggleSort=e.config.toggleSort===Q?N:Q,e},e.toggleSort.direction=function(t){if(e.toggleSort.support(t)){var n=t.encoding;return n.x.type===N?"x":"y"}},e.toggleSort.mode=function(e){return e.config.toggleSort},e.toggleSort.support=function(t,n){var a=t.encoding,r=i.isTypes;return!f.has(a,ROW)&&!f.has(a,COL)&&f.has(a,X)&&f.has(a,Y)&&e.alwaysNoOcclusion(t,n)?r(a.x,[N,O])&&i.isMeasure(a.y)?"x":r(a.y,[N,O])&&i.isMeasure(a.x)?"y":!1:!1},e.toggleFilterNullO=function(e){return e.config=e.config||{},e.config.filterNull=e.config.filterNull||{T:!0,Q:!0},e.config.filterNull.O=!e.config.filterNull.O,e},e.toggleFilterNullO.support=function(e,t){var n=f.fields(e.encoding);for(var a in n){var r=n[a];if(r.containsType.O&&a in t&&t[a].nulls>0)return!0}return!1},e}()},{"./consts":29,"./enc":31,"./field":32,"./globals":33,"./schema/schema":35,"./util":37}],15:[function(e,t,n){"use strict";e("../globals");var a=e("../util"),r=a.setter,i=a.getter,f=e("./time"),o=t.exports={};o.def=function(e,t,n,a,r){var f=e==COL,c=e==ROW,u=f?"x":c?"y":e,s={type:u,scale:e,properties:{},layer:t.field(e).axis.layer,orient:o.orient(e,t,a)};return s=o.labels.scale(s,t,e),s=o.labels.format(s,e,t,a),s=o.labels.angle(s,t,e),e==X&&(!t.isDimension(X)&&!t.isType(X,T)||"angle"in i(s,["properties","labels"])?s.ticks=t.field(e).axis.ticks:s=o.labels.rotate(s)),s.titleOffset=o.titleOffset(t,n,e),c&&(s.offset=o.titleOffset(t,n,Y)+20),s=o.grid(s,e,t,n),s=o.title(s,e,t,n,r),(c||f)&&(s=o.hideTicks(s)),s},o.orient=function(e,t,n){var a=t.field(e).axis.orient;return a?a:e===COL?"top":e===X&&t.has(Y)&&t.isOrdinalScale(Y)&&t.cardinality(Y,n)>30?"top":void 0},o.grid=function(e,t,n,a){var r=a.cellPadding,i=t==COL,f=t==ROW;return n.axis(t).grid&&(e.grid=!0,i?e.properties.grid={x:{offset:a.cellWidth*(1+r/2),scale:"col"},y:{value:-a.cellHeight*(r/2)},stroke:{value:n.config("cellGridColor")},opacity:{value:n.config("cellGridOpacity")}}:f?e.properties.grid={y:{offset:-a.cellHeight*(r/2),scale:"row"},x:{value:e.offset},x2:{offset:e.offset+.05*a.cellWidth,group:"mark.group.width",mult:1},stroke:{value:n.config("cellGridColor")},opacity:{value:n.config("cellGridOpacity")}}:e.properties.grid={stroke:{value:n.config("gridColor")},opacity:{value:n.config("gridOpacity")}}),e},o.hideTicks=function(e){return e.properties.ticks={opacity:{value:0}},e.properties.majorTicks={opacity:{value:0}},e.properties.axis={opacity:{value:0}},e},o.title=function(e,t,n,r){var i=n.field(t).axis;if(i.title)e.title=i.title;else{var f,o=n.fieldTitle(t);i.titleMaxLength?f=i.titleMaxLength:t===X?f=r.cellWidth/n.config("characterWidth"):t===Y&&(f=r.cellHeight/n.config("characterWidth")),e.title=f?a.truncate(o,f):o}return t===ROW&&(e.properties.title={angle:{value:0},align:{value:"right"},baseline:{value:"middle"},dy:{value:-r.height/2-20}}),e},o.labels={},o.labels.scale=function(e,t,n){var a=t.field(n).timeUnit;return t.isType(n,T)&&a&&f.hasScale(a)&&r(e,["properties","labels","text","scale"],"time-"+a),e},o.labels.format=function(e,t,n,a){var i=a[n.field(t).name];if(n.axis(t).format)e.format=n.axis(t).format;else if(n.isType(t,Q)||"number"===i.type)e.format=n.numberFormat(i);else if(n.isType(t,T)){var f=n.field(t).timeUnit;f?"year"===f&&(e.format="d"):e.format=n.config("timeFormat")}else n.isTypes(t,[N,O])&&n.axis(t).maxLabelLength&&r(e,["properties","labels","text","template"],"{{data | truncate:"+n.axis(t).maxLabelLength+"}}");return e},o.labels.angle=function(e,t,n){var a=t.axis(n).labelAngle;return"undefined"==typeof a?e:(r(e,["properties","labels","angle","value"],a),e)},o.labels.rotate=function(e){var t="top"===e.orient?"left":"right";return r(e,["properties","labels","angle","value"],270),r(e,["properties","labels","align","value"],t),r(e,["properties","labels","baseline","value"],"middle"),e},o.titleOffset=function(e,t,n){var a=e.axis(n).titleOffset;if(a)return a;switch(n){case ROW:return 0;case COL:return 35}return i(t,[n,"axisTitleOffset"])}},{"../globals":33,"../util":37,"./time":28}],16:[function(e,t,n){"use strict";var a=t.exports=e("datalib/src/stats").summary;e("../globals");var r=t.exports={},i=e("../Encoding"),f=r.axis=e("./axis"),o=r.legend=e("./legend"),c=r.marks=e("./marks"),u=r.scale=e("./scale");r.data=e("./data"),r.facet=e("./facet"),r.group=e("./group"),r.layout=e("./layout"),r.sort=e("./sort"),r.stack=e("./stack"),r.style=e("./style"),r.subfacet=e("./subfacet"),r.time=e("./time"),r.compile=function(e,t,n){return r.compileEncoding(i.fromSpec(e,n),t)},r.shorthand=function(e,t,n,a){return r.compileEncoding(i.fromShorthand(e,n,a),t)},r.compileEncoding=function(e,t){t||(e.hasValues()?t=a(e.data().values).reduce(function(e,t){return e[t.field]=t,e},{}):console.error("No stats provided and data is not embedded."));var n=r.layout(e,t),i={width:n.width,height:n.height,padding:"auto",data:r.data(e),scales:r.time.scales(e)};i.data=r.sort(i.data,e,t),i.marks=[r.group.def("cell",{width:n.cellWidth?{value:n.cellWidth}:void 0,height:n.cellHeight?{value:n.cellHeight}:void 0})];for(var s=r.style(e,t),d=i.marks[0],l=c.def(e,n,s,t),b=l[l.length-1],h=0;h<l.length;h++)d.marks.push(l[h]);var g=c[e.marktype()].line,m=e.details(),p=e.isAggregate()&&m.length>0&&r.stack(i.data,e,b);if(m.length>0&&(p||g)&&r.subfacet(d,b,m,p,e),g&&e.config("autoSortLine")){var y=e.isMeasure(X)&&e.isDimension(Y)?Y:X;b.from||(b.from={}),b.from.transform=[{type:"sort",by:"-"+e.fieldRef(y)}]}var v=[].concat.apply([],l.map(function(e){return u.names(e.properties.update)}));return e.has(ROW)||e.has(COL)?(i=r.facet(d,e,n,i,v,p,t),i.legends=o.defs(e,s)):(d.scales=u.defs(v,e,n,t,{stack:p}),d.axes=[],e.has(X)&&d.axes.push(f.def(X,e,n,t)),e.has(Y)&&d.axes.push(f.def(Y,e,n,t)),d.legends=o.defs(e,s)),i}},{"../Encoding":14,"../globals":33,"./axis":15,"./data":17,"./facet":18,"./group":19,"./layout":20,"./legend":21,"./marks":22,"./scale":23,"./sort":24,"./stack":25,"./style":26,"./subfacet":27,"./time":28,"datalib/src/stats":11}],17:[function(e,t,n){"use strict";function a(e){var t=[a.raw(e)],n=a.aggregate(e);return n&&t.push(a.aggregate(e)),a.filterNonPositive(t[t.length-1],e),t}e("../globals"),t.exports=a;var r=e("../field"),i=e("../util"),f=e("./time");a.raw=function(e){var t={name:RAW};e.hasValues()?t.values=e.data().values:(t.url=e.data().url,t.format={type:e.data().formatType});var n=a.raw.formatParse(e);return n&&(t.format=t.format||{},t.format.parse=n),t.transform=a.raw.transform(e),t},a.raw.formatParse=function(e){var t;return e.forEach(function(e){if(e.type==T)t=t||{},t[e.name]="date";else if(e.type==Q){if(r.isCount(e))return;t=t||{},t[e.name]="number"}}),t},a.raw.transform=function(e){return a.raw.transform.time(e).concat(a.raw.transform.bin(e),a.raw.transform.filter(e))};var o={">":!0,">=":!0,"=":!0,"!=":!0,"<":!0,"<=":!0};a.raw.transform.time=function(e){return e.reduce(function(t,n,a){return n.type===T&&n.timeUnit&&t.push({type:"formula",field:e.fieldRef(a),expr:f.formula(n.timeUnit,e.fieldRef(a,{nofn:!0,d:!0}))}),t},[])},a.raw.transform.bin=function(e){return e.reduce(function(t,n,a){return e.bin(a)&&t.push({type:"bin",field:e.fieldRef(a,{nofn:!0}),output:e.fieldRef(a),maxbins:e.bin(a).maxbins}),t},[])},a.raw.transform.filter=function(e){var t=e.filter().reduce(function(t,n){var a="",r=n.operator,f=n.operands,c="d."+(e._vega2?"":"data.");if(o[r]){"="===r&&(r="==");var u=f[0],s=f[1];a=c+u+" "+r+" "+s}else{if("notNull"!==r)return i.warn("Unsupported operator: ",r),t;for(var d=0;d<f.length;d++)a+=c+f[d]+"!==null",d<f.length-1&&(a+=" && ")}return t.push("("+a+")"),t},[]);return 0===t.length?[]:[{type:"filter",test:t.join(" && ")}]},a.aggregate=function(e){var t={},n={};return e.forEach(function(a,r){a.aggregate?"count"===a.aggregate?n.count={op:"count",field:"*"}:n[a.aggregate+"|"+a.name]={op:a.aggregate,field:e.fieldRef(r,{nofn:!0})}:t[a.name]=e.fieldRef(r)}),t=i.vals(t),n=i.vals(n),n.length>0?{name:AGGREGATE,source:RAW,transform:[{type:"aggregate",groupby:t,fields:n}]}:null},a.filterNonPositive=function(e,t){t.forEach(function(n,a){"log"===t.scale(a).type&&e.transform.push({type:"filter",test:t.fieldRef(a,{d:1})+" > 0"})})}},{"../field":32,"../globals":33,"../util":37,"./time":28}],18:[function(e,t,n){"use strict";function a(e,t,n,a,c,u,s){var d,l,b=e.properties.enter,h=[],g=[],m=t.has(ROW),p=t.has(COL);b.fill={value:t.config("cellBackgroundColor")},e.from={data:e.marks[0].from.data};for(var y=0;y<e.marks.length;y++){var v=e.marks[y];v.from.transform?delete v.from.data:delete v.from}m?(t.isDimension(ROW)||r.error("Row encoding should be ordinal."),b.y={scale:ROW,field:"keys."+h.length},b.height={value:n.cellHeight},h.push(t.fieldRef(ROW)),p&&(d=r.duplicate(e.from),d.transform=d.transform||[],d.transform.unshift({type:"facet",keys:[t.fieldRef(COL)]})),l=f("x-axes",{axes:t.has(X)?[i.def(X,t,n,s)]:void 0,x:p?{scale:COL,field:"keys.0"}:{value:0},width:p&&{value:n.cellWidth},from:d}),a.marks.unshift(l),a.axes=a.axes||[],a.axes.push(i.def(ROW,t,n,s))):t.has(X)&&g.push(i.def(X,t,n,s)),p?(t.isDimension(COL)||r.error("Col encoding should be ordinal."),b.x={scale:COL,field:"keys."+h.length},b.width={value:n.cellWidth},h.push(t.fieldRef(COL)),m&&(d=r.duplicate(e.from),d.transform=d.transform||[],d.transform.unshift({type:"facet",keys:[t.fieldRef(ROW)]})),l=f("y-axes",{axes:t.has(Y)?[i.def(Y,t,n,s)]:void 0,y:m&&{scale:ROW,field:"keys.0"},x:m&&{value:0},height:m&&{value:n.cellHeight},from:d}),a.marks.unshift(l),a.axes=a.axes||[],a.axes.push(i.def(COL,t,n,s))):t.has(Y)&&g.push(i.def(Y,t,n,s)),a.scales=(a.scales||[]).concat(o.defs(o.names(b).concat(c),t,n,s,{stack:u,facet:!0})),g.length>0&&(e.axes=g);var M=e.from.transform||(e.from.transform=[]);return M.unshift({type:"facet",keys:h}),a}e("../globals");var r=e("../util"),i=e("./axis"),f=e("./group").def,o=e("./scale");t.exports=a},{"../globals":33,"../util":37,"./axis":15,"./group":19,"./scale":23}],19:[function(e,t,n){"use strict";function a(e,t){return t=t||{},{_name:e||void 0,type:"group",from:t.from,properties:{enter:{x:t.x||void 0,y:t.y||void 0,width:t.width||{group:"width"},height:t.height||{group:"height"}}},scales:t.scales||void 0,axes:t.axes||void 0,marks:t.marks||[]}}t.exports={def:a}},{}],20:[function(e,t,n){"use strict";function a(e,t){var n=r(e,t);return n=o(e,t,n)}function r(e,t){var n,a,r=e.has(ROW),i=e.has(COL),f=e.has(X),o=e.has(Y),c=e.marktype(),u=f&&e.isDimension(X)?e.cardinality(X,t):1,s=o&&e.isDimension(Y)?e.cardinality(Y,t):1,d=u>e.config("largeBandMaxCardinality")||s>e.config("largeBandMaxCardinality"),l=e.config("cellPadding");n=f?e.isOrdinalScale(X)?(u+e.field(X).band.padding)*e.bandSize(X,d):i||r?e.field(COL).width:e.config("singleWidth"):c===TEXT?e.config("textCellWidth"):e.bandSize(X),a=o?e.isOrdinalScale(Y)?(s+e.field(Y).band.padding)*e.bandSize(Y,d):i||r?e.field(ROW).height:e.config("singleHeight"):e.bandSize(Y);var b=n,h=a;if(i){var g=e.cardinality(COL,t);b=n*((1+l)*(g-1)+1)}if(r){var m=e.cardinality(ROW,t);h=a*((1+l)*(m-1)+1)}return{cellWidth:n,cellHeight:a,cellPadding:l,width:b,height:h,x:{useSmallBand:d},y:{useSmallBand:d}}}function i(e,t,n){var a=e.numberFormat(t,n);return d.format(a)(n.max).length}function f(e,t,n){var a=e.field(n),r=t[a.name];return a.bin?i(e,n,r):e.isType(n,Q)?i(e,n,r):e.isType(n,T)?s.maxLength(e.field(n).timeUnit,e):e.isTypes(n,[N,O])?"number"===r.type?i(e,n,r):Math.min(r.max,e.axis(n).maxLabelLength||1/0):void 0}function o(e,t,n){return[X,Y].forEach(function(a){var r,i=a===X?20:22;e.isDimension(a)||e.isType(a,T)?r=f(e,t,a):(e.isType(a,Q)||"count"===e.aggregate(a))&&a===Y&&(r=f(e,t,a)),r?u(n,[a,"axisTitleOffset"],e.config("characterWidth")*r+i):u(n,[a,"axisTitleOffset"],3*e.config("characterWidth")+i)}),n}e("../globals");var c=e("../util"),u=c.setter,s=e("./time"),d=e("d3-format");t.exports=a},{"../globals":33,"../util":37,"./time":28,"d3-format":5}],21:[function(e,t,n){"use strict";e("../globals");var a=e("./time"),r=e("../util"),i=r.setter,f=r.getter,o=t.exports={};o.defs=function(e,t){var n=[];return e.has(COLOR)&&e.field(COLOR).legend&&n.push(o.def(COLOR,e,{fill:COLOR,orient:"right"},t)),e.has(SIZE)&&e.field(SIZE).legend&&n.push(o.def(SIZE,e,{size:SIZE,orient:1===n.length?"left":"right"},t)),e.has(SHAPE)&&e.field(SHAPE).legend&&(2===n.length&&console.error("Vega-lite currently only supports two legends"),n.push(o.def(SHAPE,e,{shape:SHAPE,orient:1===n.length?"left":"right"},t))),n},o.def=function(e,t,n,r){var f=t.field(e).timeUnit;return n.title=o.title(e,t),n=o.style(e,t,n,r),t.isType(e,T)&&f&&a.hasScale(f)&&i(n,["properties","labels","text","scale"],"time-"+f),n},o.style=function(e,t,n,a){var r=f(n,["properties","symbols"]),i=t.marktype();switch(i){case"bar":case"tick":case"text":r.stroke={value:"transparent"},r.shape={value:"square"};break;case"circle":case"square":r.shape={value:i};case"point":t.field(SHAPE).filled?(t.has(COLOR)&&e===COLOR?r.fill={scale:COLOR,field:"data"}:r.fill={value:t.value(COLOR)},r.stroke={value:"transparent"}):(t.has(COLOR)&&e===COLOR?r.stroke={scale:COLOR,field:"data"}:r.stroke={value:t.value(COLOR)},r.fill={value:"transparent"},r.strokeWidth={value:t.config("strokeWidth")});break;case"line":case"area":}var o=t.field(COLOR).opacity||a.opacity;return o&&(r.opacity={value:o}),n},o.title=function(e,t){var n=t.field(e).legend;return n.title?n.title:t.fieldTitle(e)}},{"../globals":33,"../util":37,"./time":28}],22:[function(e,t,n){"use strict";function a(e,t,n){var a={};e.isMeasure(X)?(a.x={scale:X,field:e.fieldRef(X)},(!e.has(Y)||e.isDimension(Y))&&(a.x2={value:0})):e.has(X)?a.xc={scale:X,field:e.fieldRef(X)}:a.x={value:0,offset:e.config("singleBarOffset")},a.x2||(!e.has(X)||e.isOrdinalScale(X)?e.has(SIZE)?a.width={scale:SIZE,field:e.fieldRef(SIZE)}:a.width={value:e.bandSize(X,t.x.useSmallBand),offset:-1}:a.width={value:2}),e.isMeasure(Y)?(a.y={scale:Y,field:e.fieldRef(Y)},a.y2={group:"height"}):(e.has(Y)?a.yc={scale:Y,field:e.fieldRef(Y)}:a.y2={group:"height",offset:-e.config("singleBarOffset")},e.has(SIZE)?a.height={scale:SIZE,field:e.fieldRef(SIZE)}:a.height={value:e.bandSize(Y,t.y.useSmallBand),offset:-1}),e.has(COLOR)?a.fill={scale:COLOR,field:e.fieldRef(COLOR)}:a.fill={value:e.value(COLOR)};var r=e.field(COLOR).opacity;return r&&(a.opacity={value:r}),a}function r(e,t,n){var a={};e.has(X)?a.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(a.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?a.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(a.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?a.size={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(a.size={value:e.value(SIZE)}),e.has(SHAPE)?a.shape={scale:SHAPE,field:e.fieldRef(SHAPE)}:e.has(SHAPE)||(a.shape={value:e.value(SHAPE)}),e.field(SHAPE).filled?e.has(COLOR)?a.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(a.fill={value:e.value(COLOR)}):(e.has(COLOR)?a.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(a.stroke={value:e.value(COLOR)}),a.strokeWidth={value:e.config("strokeWidth")});var r=e.field(COLOR).opacity||n.opacity;return r&&(a.opacity={value:r}),a}function i(e,t,n){var a={};e.has(X)?a.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(a.x={value:0}),e.has(Y)?a.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(a.y={group:"height"}),e.has(COLOR)?a.stroke={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(a.stroke={value:e.value(COLOR)});var r=e.field(COLOR).opacity;return r&&(a.opacity={value:r}),a.strokeWidth={value:e.config("strokeWidth")},a}function f(e,t,n){var a={};e.isMeasure(X)?(a.x={scale:X,field:e.fieldRef(X)},e.isDimension(Y)&&(a.x2={scale:X,value:0},a.orient={value:"horizontal"})):e.has(X)?a.x={scale:X,field:e.fieldRef(X)}:a.x={value:0},e.isMeasure(Y)?(a.y={scale:Y,field:e.fieldRef(Y)},a.y2={scale:Y,value:0}):e.has(Y)?a.y={scale:Y,field:e.fieldRef(Y)}:a.y={group:"height"},e.has(COLOR)?a.fill={scale:COLOR,field:e.fieldRef(COLOR)}:e.has(COLOR)||(a.fill={value:e.value(COLOR)});var r=e.field(COLOR).opacity;return r&&(a.opacity={value:r}),a}function o(e,t,n){var a={};e.has(X)?(a.x={scale:X,field:e.fieldRef(X)},e.isDimension(X)&&(a.x.offset=-e.bandSize(X,t.x.useSmallBand)/3)):e.has(X)||(a.x={value:0}),e.has(Y)?(a.y={scale:Y,field:e.fieldRef(Y)},e.isDimension(Y)&&(a.y.offset=-e.bandSize(Y,t.y.useSmallBand)/3)):e.has(Y)||(a.y={value:0}),!e.has(X)||e.isDimension(X)?a.width={value:e.bandSize(X,t.y.useSmallBand)/1.5}:a.width={value:1},!e.has(Y)||e.isDimension(Y)?a.height={value:e.bandSize(Y,t.y.useSmallBand)/1.5}:a.height={value:1},e.has(COLOR)?a.fill={scale:COLOR,field:e.fieldRef(COLOR)}:a.fill={value:e.value(COLOR)};var r=e.field(COLOR).opacity||n.opacity;return r&&(a.opacity={value:r}),a}function c(e){return function(t,n,a){var r={};t.has(X)?r.x={scale:X,field:t.fieldRef(X)}:t.has(X)||(r.x={value:t.bandSize(X,n.x.useSmallBand)/2}),t.has(Y)?r.y={scale:Y,field:t.fieldRef(Y)}:t.has(Y)||(r.y={value:t.bandSize(Y,n.y.useSmallBand)/2}),t.has(SIZE)?r.size={scale:SIZE,field:t.fieldRef(SIZE)}:t.has(X)||(r.size={value:t.value(SIZE)}),r.shape={value:e},t.has(COLOR)?r.fill={scale:COLOR,field:t.fieldRef(COLOR)}:t.has(COLOR)||(r.fill={value:t.value(COLOR)});var i=t.field(COLOR).opacity||a.opacity;return i&&(r.opacity={value:i}),r}}function u(e,t,n,a){var r={},i=e.field(TEXT);e.has(X)?r.x={scale:X,field:e.fieldRef(X)}:e.has(X)||(e.has(TEXT)&&e.isType(TEXT,Q)?r.x={value:t.cellWidth-5}:r.x={value:e.bandSize(X,t.x.useSmallBand)/2}),e.has(Y)?r.y={scale:Y,field:e.fieldRef(Y)}:e.has(Y)||(r.y={value:e.bandSize(Y,t.y.useSmallBand)/2}),e.has(SIZE)?r.fontSize={scale:SIZE,field:e.fieldRef(SIZE)}:e.has(SIZE)||(r.fontSize={value:i.font.size}),r.fill={value:i.color};var f=e.field(COLOR).opacity||n.opacity;if(f&&(r.opacity={value:f}),e.has(TEXT))if(e.isType(TEXT,Q)){var o=a[e.fieldName(TEXT)],c=i.format||e.numberFormat(o);r.text={template:"{{"+e.fieldRef(TEXT)+" | number:'"+c+"'}}"},r.align={value:i.align}}else r.text={field:e.fieldRef(TEXT)};else r.text={value:i.placeholder};return r.font={value:i.font.family},r.fontWeight={value:i.font.weight},r.fontStyle={value:i.font.style},r.baseline={value:i.baseline},r}e("../globals");var s=t.exports={};s.def=function(e,t,n,a){var r=[],i=s[e.marktype()],f=e.dataTable();if(e.marktype()===TEXT&&e.has(COLOR)){var o={x:{value:0},y:{value:0},x2:{value:t.cellWidth},y2:{value:t.cellHeight},fill:{scale:COLOR,field:e.fieldRef(COLOR)}};r.push({type:"rect",from:{data:f},properties:{enter:o,update:o}})}var c=i.prop(e,t,n,a);return r.push({type:i.type,from:{data:f},properties:{enter:c,update:c}}),r},s.bar={type:"rect",stack:!0,prop:a,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1
}},s.line={type:"line",line:!0,prop:i,requiredEncoding:["x","y"],supportedEncoding:{row:1,col:1,x:1,y:1,color:1,detail:1}},s.area={type:"area",stack:!0,line:!0,requiredEncoding:["x","y"],prop:f,supportedEncoding:{row:1,col:1,x:1,y:1,color:1}},s.tick={type:"rect",prop:o,supportedEncoding:{row:1,col:1,x:1,y:1,color:1,detail:1}},s.circle={type:"symbol",prop:c("circle"),supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,detail:1}},s.square={type:"symbol",prop:c("square"),supportedEncoding:s.circle.supportedEncoding},s.point={type:"symbol",prop:r,supportedEncoding:{row:1,col:1,x:1,y:1,size:1,color:1,shape:1,detail:1}},s.text={type:"text",prop:u,requiredEncoding:["text"],supportedEncoding:{row:1,col:1,size:1,color:1,text:1}}},{"../globals":33}],23:[function(e,t,n){"use strict";e("../globals");var a=e("../util"),r=e("./time"),i=e("colorbrewer"),f=e("d3-color").interpolateHsl,o=e("../schema/schema"),c=e("./sort"),u=t.exports={};u.names=function(e){return a.keys(a.keys(e).reduce(function(t,n){return e[n]&&e[n].scale&&(t[e[n].scale]=1),t},{}))},u.defs=function(e,t,n,a,r){return r=r||{},e.reduce(function(e,i){var f={name:i,type:u.type(i,t),domain:u.domain(i,t,a,r)};return f.sort=u.sort(f,t,i)||void 0,u.range(f,t,n,a,r),e.push(f),e},[])},u.sort=function(e,t,n){return"ordinal"===e.type&&(!!t.bin(n)||0===t.sort(n).length)},u.type=function(e,t){switch(t.type(e)){case N:case O:return"ordinal";case T:var n=t.field(e).timeUnit;return n?r.scale.type(n,e):"time";case Q:return t.bin(e)?e===COLOR?"linear":"ordinal":t.scale(e).type}},u.domain=function(e,t,n,i){var f=t.field(e);if(t.isType(e,T)){var u=r.scale.domain(f.timeUnit,e);if(u)return u}if(f.bin){var s=n[f.name],d=a.getbins(s,f.bin.maxbins||o.MAXBINS_DEFAULT),l=(d.stop-d.start)/d.step;return a.range(l).map(function(e){return d.start+d.step*e})}if(e==i.stack)return{data:STACKED,field:t.fieldRef(e,{data:!t._vega2,prefn:(i.facet?"max_":"")+"sum_"})};var b=t.aggregate(e),h=f.timeUnit,g=t.scale(e).useRawDomain,m=void 0!==g?g:t.config("useRawDomain"),p=!b||"count"!==b&&"sum"!==b;if(m&&p&&(t.isType(e,Q)&&!f.bin||t.isType(e,T)&&(!h||!r.isOrdinalFn(h))))return{data:RAW,field:t.fieldRef(e,{nofn:!h})};var y=t.sort(e,n).length>0?c.getDataName(e):t.dataTable();return{data:y,field:t.fieldRef(e)}},u.range=function(e,t,n,a){var r=t.scale(e.name),i=t.field(e.name),f=i.timeUnit;switch(e.name){case X:e.range=n.cellWidth?[0,n.cellWidth]:"width","ordinal"===e.type?e.bandWidth=t.bandSize(X,n.x.useSmallBand):(t.isType(e.name,T)&&"year"===f?e.zero=!1:e.zero=void 0===r.zero?!0:r.zero,e.reverse=r.reverse),e.round=!0,"time"===e.type?e.nice=f||t.config("timeScaleNice"):e.nice=!0;break;case Y:"ordinal"===e.type?(e.range=n.cellHeight?i.bin?[n.cellHeight,0]:[0,n.cellHeight]:"height",e.bandWidth=t.bandSize(Y,n.y.useSmallBand)):(e.range=n.cellHeight?[n.cellHeight,0]:"height",t.isType(e.name,T)&&"year"===f?e.zero=!1:e.zero=void 0===r.zero?!0:r.zero,e.reverse=r.reverse),e.round=!0,"time"===e.type?e.nice=f||t.config("timeScaleNice"):e.nice=!0;break;case ROW:e.bandWidth=n.cellHeight,e.round=!0,e.nice=!0;break;case COL:e.bandWidth=n.cellWidth,e.round=!0,e.nice=!0;break;case SIZE:if(t.is("bar"))e.range=[3,Math.max(t.bandSize(X),t.bandSize(Y))];else if(t.is(TEXT))e.range=[8,40];else{var o=Math.min(t.bandSize(X),t.bandSize(Y))-1;e.range=[10,.8*o*o]}e.round=!0,e.zero=!1;break;case SHAPE:e.range="shapes";break;case COLOR:e.range=u.color(e,t,a),"ordinal"!==e.type&&(e.zero=!1);break;default:throw new Error("Unknown encoding name: "+e.name)}switch(e.name){case ROW:case COL:e.padding=t.config("cellPadding"),e.outerPadding=0;break;case X:case Y:"ordinal"===e.type&&(e.points=!0,e.padding=t.field(e.name).band.padding)}},u.color=function(e,t,n){var a=t.scale(COLOR),r=a.range,i=t.cardinality(COLOR,n),f=t.type(COLOR);if(void 0===r){var o=a.ordinalPalette,c=a.quantitativeRange;return"ordinal"===e.type?f===N?(r=10>=i?a.c10palette:a.c20palette,u.color.palette(r,i,f)):o?u.color.palette(o,i,f):u.color.interpolate(c[0],c[1],i):[c[0],c[1]]}},u.color.palette=function(e,t,n){switch(e){case"category10k":return["#2ca02c","#e377c2","#7f7f7f","#17becf","#8c564b","#d62728","#bcbd22","#9467bd","#ff7f0e","#1f77b4"];case"category10":return["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];case"category20":return["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];case"category20b":return["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"];case"category20c":return["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"]}if(e in i){var r=i[e];if(t in r)return r[t];if(n===N)return r[Math.max.apply(null,a.keys(r))];var f=3>t?3:Math.max.apply(null,a.keys(r)),o=0,c=f-1;return u.color.interpolate(r[f][o],r[f][c],t)}return e},u.color.interpolate=function(e,t,n){var r=f(e,t);return a.range(n).map(function(e){return r(1*e/(n-1))})}},{"../globals":33,"../schema/schema":35,"../util":37,"./sort":24,"./time":28,colorbrewer:3,"d3-color":4}],24:[function(e,t,n){"use strict";function a(e,t,n,i){var f={};return t.forEach(function(i,o){var c=t.sort(o,n);if(c.length>0){var u=c.map(function(e){return{op:e.aggregate,field:r.fieldRef(e,{nofn:!0,data:!t._vega2})}}),s=c.map(function(e){var n=e.reverse?"-":"";return n+r.fieldRef(e,{data:!t._vega2})}),d=a.getDataName(o),l=[{type:"aggregate",groupby:[t.fieldRef(o)],fields:u},{type:"sort",by:s}];e.push({name:d,source:RAW,transform:l}),f[o]=d}}),e}e("../globals");var r=e("../field");t.exports=a,a.getDataName=function(e){return"sorted-"+e}},{"../field":32,"../globals":33}],25:[function(e,t,n){"use strict";function a(e,t,n){if(!r[t.marktype()].stack)return!1;if(!t.has(COLOR))return!1;var a=null,i=null,f=null,o=t.isMeasure(X),c=t.isMeasure(Y),u=t.facets();if(o&&!c)a=Y,i=X,f=0;else{if(!c||o)return null;a=X,i=Y,f=1}var s={name:STACKED,source:t.dataTable(),transform:[{type:"aggregate",groupby:[t.fieldRef(a)].concat(u),fields:[{op:"sum",field:t.fieldRef(i)}]}]};return u&&u.length>0&&s.transform.push({type:"aggregate",groupby:u,fields:[{op:"max",field:t.fieldName(i,{fn:"sum"})}]}),e.push(s),n.from.transform=[{type:"stack",point:t.fieldRef(a),height:t.fieldRef(i),output:{y1:i,y0:i+"2"}}],n.properties.update[i]=n.properties.enter[i]={scale:i,field:i},n.properties.update[i+"2"]=n.properties.enter[i+"2"]={scale:i,field:i+"2"},i}e("../globals");var r=e("./marks");t.exports=a},{"../globals":33,"./marks":22}],26:[function(e,t,n){"use strict";function a(e,t){if(!t)return 1;var n=0;if(e.isAggregate())n=1,e.forEach(function(a,i){i===ROW||i===COL||(i===X||i===Y)&&r.isOrdinalScale(a)||(n*=e.cardinality(i,t))});else{if(!t["*"])return 1;n=t["*"].max;var a=1;e.has(ROW)&&(a*=e.cardinality(ROW,t)),e.has(COL)&&(a*=e.cardinality(COL,t)),n/=a}var i=0;return i=25>=n?1:200>n?.8:1e3>n||e.is("tick")?.7:.3}e("../globals");var r=e("../field");t.exports=function(e,t){return{opacity:a(e,t)}}},{"../field":32,"../globals":33}],27:[function(e,t,n){"use strict";function a(e,t,n,a,i){var f=e.marks,o=r("subfacet",{marks:f});e.marks=[o],o.from=t.from,delete t.from;var c=o.from.transform||(o.from.transform=[]);c.unshift({type:"facet",keys:n}),a&&i.has(COLOR)&&c.unshift({type:"sort",by:i.fieldRef(COLOR)})}e("../globals");var r=e("./group").def;t.exports=a},{"../globals":33,"./group":19}],28:[function(e,t,n){"use strict";var a=e("../util"),r=e("d3-time-format"),i=t.exports={},f=new Date(2014,8,17);i.cardinality=function(e,t,n,a){var r=e.timeUnit;switch(r){case"seconds":return 60;case"minutes":return 60;case"hours":return 24;case"day":return 7;case"date":return 31;case"month":return 12;case"year":var i=t[e.name],f=t["year_"+e.name];return f?f.distinct-(i.nulls>0&&n[a]?1:0):null}return null},i.formula=function(e,t){var n="utc"+e;return n+"("+t+")"},i.maxLength=function(e,t){switch(e){case"seconds":case"minutes":case"hours":case"date":return 2;case"month":case"day":var n=i.range(e,t);return n?Math.max.apply(null,n.map(function(e){return e.length})):2;case"year":return 4}var a=t.config("timeFormat");return r.utcFormat(a)(f).length},i.range=function(e,t){var n,a=t.config("timeScaleLabelLength");switch(e){case"day":n=t.config("dayScaleLabel");break;case"month":n=t.config("monthScaleLabel")}return n?a?n.map(function(e){return e.substr(0,a)}):n:void 0},i.scales=function(e){var t=e.reduce(function(t,n){var a=n.timeUnit;if(n.type===T&&a&&!t[a]){var r=i.scale.def(n.timeUnit,e);r&&(t[a]=r)}return t},{});return a.vals(t)},i.scale={},i.scale.def=function(e,t){var n=i.range(e,t);return n?{name:"time-"+e,type:"ordinal",domain:i.scale.domain(e),range:n}:null},i.isOrdinalFn=function(e){switch(e){case"seconds":case"minutes":case"hours":case"day":case"date":case"month":return!0}return!1},i.scale.type=function(e,t){return t===COLOR?"linear":i.isOrdinalFn(e)||t===COL||t===ROW?"ordinal":"linear"},i.scale.domain=function(e,t){var n=t===COLOR;switch(e){case"seconds":case"minutes":return n?[0,59]:a.range(0,60);case"hours":return n?[0,23]:a.range(0,24);case"day":return n?[0,6]:a.range(0,7);case"date":return n?[1,31]:a.range(1,32);case"month":return n?[0,11]:a.range(0,12)}return null},i.hasScale=function(e){switch(e){case"day":case"month":return!0}return!1}},{"../util":37,"d3-time-format":6}],29:[function(e,t,n){"use strict";e("./globals");var a=t.exports={};a.encodingTypes=[X,Y,ROW,COL,SIZE,SHAPE,COLOR,TEXT,DETAIL],a.shorthand={delim:"|",assign:"=",type:",",func:"_"}},{"./globals":33}],30:[function(e,t,n){"use strict";e("./globals");var a=e("datalib/src/stats"),r=t.exports={};r.types={"boolean":N,number:Q,integer:Q,date:T,string:N},r.stats=function(e){var t=a.summary(e);return t.reduce(function(e,t){return e[t.field]=t,e},{"*":{max:e.length,min:0}})}},{"./globals":33,"datalib/src/stats":11}],31:[function(e,t,n){"use strict";var a=e("./consts"),r=a.shorthand,i=e("./field"),f=e("./util"),o=e("./schema/schema"),c=o.encTypes,u=t.exports={};u.countRetinal=function(e){var t=0;return e.color&&t++,e.size&&t++,e.shape&&t++,t},u.has=function(e,t){var n=e&&e[t];return n&&n.name},u.isAggregate=function(e){for(var t in e)if(u.has(e,t)&&e[t].aggregate)return!0;return!1},u.forEach=function(e,t){var n=0;c.forEach(function(a){u.has(e,a)&&t(e[a],a,n++)})},u.map=function(e,t){var n=[];return c.forEach(function(a){u.has(e,a)&&n.push(t(e[a],a,e))}),n},u.reduce=function(e,t,n){var a=n;return c.forEach(function(n){u.has(e,n)&&(a=t(a,e[n],n,e))}),a},u.fields=function(e){return u.reduce(e,function(e,t){var n=e[t.name]=e[t.name]||[],a=n.containsType=n.containsType||{};return-1===n.indexOf(t)&&(n.push(t),a[t.type]=!0),e},{})},u.shorthand=function(e){return u.map(e,function(e,t){return t+r.assign+i.shorthand(e)}).join(r.delim)},u.fromShorthand=function(e){var t=f.isArray(e)?e:e.split(r.delim);return t.reduce(function(e,t){var n=t.split(r.assign),a=n[0].trim(),f=n[1];return e[a]=i.fromShorthand(f),e},{})}},{"./consts":29,"./field":32,"./schema/schema":35,"./util":37}],32:[function(e,t,n){"use strict";function a(e){return d(e,[N,O])||!!e.bin||s(e,T)&&!!e.timeUnit}e("./globals");var r=e("./consts"),i=r.shorthand,f=e("./compiler/time"),o=e("./util"),c=e("./schema/schema"),u=t.exports={};u.fieldRef=function(e,t){t=t||{};var n=(t.d?"d.":"")+(t.data?"data.":"")+(t.prefn||""),a=t.nofn||t.fn,r=e.name;return u.isCount(e)?n+"count":!a&&e.bin?n+"bin_"+r:!a&&e.aggregate?n+e.aggregate+"_"+r:!a&&e.timeUnit?n+e.timeUnit+"_"+r:t.fn?n+t.fn+"_"+r:n+r},u.shorthand=function(e){var t=r.shorthand;return(e.aggregate?e.aggregate+t.func:"")+(e.timeUnit?e.timeUnit+t.func:"")+(e.bin?"bin"+t.func:"")+(e.name||"")+t.type+e.type},u.shorthands=function(e,t){return t=t||i.delim,e.map(u.shorthand).join(t)},u.fromShorthand=function(e){var t,n=e.split(i.type),a={name:n[0].trim(),type:n[1].trim()};for(t in c.aggregate["enum"]){var r=c.aggregate["enum"][t];if(0===a.name.indexOf(r+"_")){a.name=a.name.substr(r.length+1),"count"==r&&0===a.name.length&&(a.name="*"),a.aggregate=r;break}}for(t in c.timefns){var f=c.timefns[t];if(a.name&&0===a.name.indexOf(f+"_")){a.name=a.name.substr(a.length+1),a.timeUnit=f;break}}return a.name&&0===a.name.indexOf("bin_")&&(a.name=a.name.substr(4),a.bin=!0),a};var s=u.isType=function(e,t){return e.type===t},d=u.isTypes=function(e,t){for(var n=0;n<t.length;n++)if(e.type===t[n])return!0;return!1};u.isOrdinalScale=function(e){return d(e,[N,O])||e.bin||s(e,T)&&e.timeUnit&&f.isOrdinalFn(e.timeUnit)},u.isDimension=function(e){return e&&a(e)},u.isMeasure=function(e){return e&&!a(e)},u.count=function(){return{name:"*",aggregate:"count",type:Q,displayName:u.count.displayName}},u.count.displayName="Number of Records",u.isCount=function(e){return"count"===e.aggregate},u.cardinality=function(e,t,n){var a=t[e.name],r=e.type;if(n=n||{},e.bin){var i=o.getbins(a,e.bin.maxbins||c.MAXBINS_DEFAULT);return(i.stop-i.start)/i.step}if(s(e,T)){var u=f.cardinality(e,t,n,r);if(null!==u)return u}return e.aggregate?1:a.distinct-(a.nulls>0&&n[r]?1:0)}},{"./compiler/time":28,"./consts":29,"./globals":33,"./schema/schema":35,"./util":37}],33:[function(e,t,n){(function(e){"use strict";var t=e||window;t.AGGREGATE="aggregate",t.RAW="raw",t.STACKED="stacked",t.INDEX="index",t.X="x",t.Y="y",t.ROW="row",t.COL="col",t.SIZE="size",t.SHAPE="shape",t.COLOR="color",t.TEXT="text",t.DETAIL="detail",t.N="N",t.O="O",t.Q="Q",t.T="T"}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(e,t,n){"use strict";t.exports=function(e){var t=["error","info","debug","warn","log"];return t.reduce(function(t,n){var a=console[n]?n:"log";return"undefined"===console[a].bind?t[n]=Function.prototype.bind.call(console[a],console,e):t[n]=console[a].bind(console,e),t},{})}},{}],35:[function(e,t,n){"use strict";e("../globals");var a=t.exports={},r=e("../util"),i=r.toMap,f=e("colorbrewer");a.util=e("./schemautil"),a.marktype={type:"string","enum":["point","tick","bar","line","area","circle","square","text"]},a.aggregate={type:"string","enum":["avg","sum","median","min","max","count"],supportedEnums:{Q:["avg","median","sum","min","max","count"],O:["median","min","max"],N:[],T:["avg","median","min","max"],"":["count"]},supportedTypes:i([Q,N,O,T,""])},a.getSupportedRole=function(e){return a.schema.properties.encoding.properties[e].supportedRole},a.timeUnits=["year","month","day","date","hours","minutes","seconds"],a.defaultTimeFn="month",a.timeUnit={type:"string","enum":a.timeUnits,supportedTypes:i([T])},a.scale_type={type:"string","enum":["linear","log","pow","sqrt","quantile"],"default":"linear",supportedTypes:i([Q])},a.field={type:"object",properties:{name:{type:"string"}}};var o=r.duplicate,c=a.util.merge;a.MAXBINS_DEFAULT=15;var u={type:["boolean","object"],"default":!1,properties:{maxbins:{type:"integer","default":a.MAXBINS_DEFAULT,minimum:2,description:"Maximum number of bins."}},supportedTypes:i([Q])},s=c(o(a.field),{type:"object",properties:{type:{type:"string","enum":[N,O,Q,T]},aggregate:a.aggregate,timeUnit:a.timeUnit,bin:u,scale:{type:"object",properties:{type:a.scale_type,reverse:{type:"boolean","default":!1,supportedTypes:i([Q,T])},zero:{type:"boolean",description:"Include zero","default":!0,supportedTypes:i([Q,T])},nice:{type:"string","enum":["second","minute","hour","day","week","month","year"],supportedTypes:i([T])},useRawDomain:{type:"boolean","default":void 0,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}}}}),d=c(o(a.field),{type:"object",supportedRole:{dimension:!0},properties:{type:{type:"string","enum":[N,O,Q,T]},timeUnit:a.timeUnit,bin:u,aggregate:{type:"string","enum":["count"],supportedTypes:i([N,O])}}}),l={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0},properties:{axis:{type:"object",properties:{grid:{type:"boolean","default":!0,description:"A flag indicate if gridlines should be created in addition to ticks."},layer:{type:"string","default":"back",description:"A string indicating if the axis (and any gridlines) should be placed above or below the data marks."},orient:{type:"string","default":void 0,"enum":["top","right","left","bottom"],description:"The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart)."},ticks:{type:"integer","default":5,minimum:0,description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.'},title:{type:"string","default":void 0,description:"A title for the axis. (Shows field name and its function by default.)"},titleMaxLength:{type:"integer","default":void 0,minimum:0,description:"Max length for axis title if the title is automatically generated from the field's description"},titleOffset:{type:"integer","default":void 0,description:"A title offset value for the axis."},format:{type:"string","default":void 0,description:"The formatting pattern for axis labels. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."},maxLabelLength:{type:"integer","default":25,minimum:0,description:"Truncate labels that are too long."},labelAngle:{type:"integer","default":void 0,minimum:0,maximum:360,description:"Angle by which to rotate labels. Set to 0 to force horizontal."}}}}},b={type:"object",properties:{sort:{type:"array","default":[],items:{type:"object",supportedTypes:i([N,O]),required:["name","aggregate"],properties:{name:{type:"string"},aggregate:{type:"string","enum":["avg","sum","min","max","count"]},reverse:{type:"boolean","default":!1}}}}}},h={type:"object",properties:{band:{type:"object",properties:{size:{type:"integer",minimum:0,"default":void 0},padding:{type:"integer",minimum:0,"default":1}}}}},g={type:"object",properties:{legend:{type:"object",description:"Properties of a legend.",properties:{title:{type:"string","default":void 0,description:"A title for the legend. (Shows field name and its function by default.)"}}}}},m={type:"object",supportedMarktypes:{text:!0},properties:{align:{type:"string","default":"right"},baseline:{type:"string","default":"middle"},color:{type:"string",role:"color","default":"#000000"},margin:{type:"integer","default":4,minimum:0},placeholder:{type:"string","default":"Abc"},font:{type:"object",properties:{weight:{type:"string","enum":["normal","bold"],"default":"normal"},size:{type:"integer","default":10,minimum:0},family:{type:"string","default":"Helvetica Neue"},style:{type:"string","default":"normal","enum":["normal","italic"]}}},format:{type:"string","default":void 0,description:"The formatting pattern for text value. If not undefined, this will be determined by small/largeNumberFormat and the max value of the field."}}},p={type:"object",supportedMarktypes:{point:!0,bar:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"integer","default":30,minimum:0,description:"Size of marks."}}},y={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{value:{type:"string",role:"color","default":"#4682b4",description:"Color to be used for marks."},opacity:{type:"number","default":void 0,minimum:0,maximum:1},scale:{type:"object",properties:{range:{type:["string","array"],"default":void 0,description:"Color palette, if undefined vega-lite will use data propertyto pick one from c10palette, c20palette, or ordinalPalette."},c10palette:{type:"string","default":"category10","enum":["category10","category10k","Pastel1","Pastel2","Set1","Set2","Set3"]},c20palette:{type:"string","default":"category20","enum":["category20","category20b","category20c"]},ordinalPalette:{type:"string","default":void 0,description:"Color palette to encode ordinal variables.","enum":r.keys(f)},quantitativeRange:{type:"array","default":["#AFC6A3","#09622A"],description:"Color range to encode quantitative variables.",minItems:2,maxItems:2,items:{type:"string",role:"color"}}}}}},v={type:"object",supportedMarktypes:{point:!0,circle:!0,square:!0},properties:{value:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"],"default":"circle",description:"Mark to be used."},filled:{type:"boolean","default":!1,description:"Whether the shape's color should be used as fill color instead of stroke color."}}},M={type:"object",supportedMarktypes:{point:!0,tick:!0,line:!0,circle:!0,square:!0}},x={properties:{height:{type:"number",minimum:0,"default":150}}},S={properties:{width:{type:"number",minimum:0,"default":150},axis:{properties:{maxLabelLength:{type:"integer","default":12,minimum:0,description:"Truncate labels that are too long."}}}}},w={type:"object",supportedMarktypes:{point:!0,tick:!0,bar:!0,line:!0,area:!0,circle:!0,square:!0,text:!0},properties:{padding:{type:"number",minimum:0,maximum:1,"default":.1}}},k={required:["name","type"]},C=c(o(s),{supportedRole:{measure:!0,dimension:!0}}),R=c(o(s),{supportedRole:{measure:!0,dimension:"ordinal-only"}}),D=c(o(s),{supportedRole:{measure:!0}}),L=c(o(C),l,h,k,b),Y=o(L),A=c(o(d),k,w,b),E=c(o(A),l,x),U=c(o(A),l,S),X=c(o(R),g,p,b),j=c(o(C),g,y,b),z=c(o(d),g,v,b),F=c(o(d),M,b),_=c(o(D),m,b),H={type:"array",items:{type:"object",properties:{operands:{type:"array",items:{type:["string","boolean","integer","number"]}},operator:{type:"string","enum":[">",">=","=","!=","<","<=","notNull"]}}}},W={type:"object",properties:{formatType:{type:"string","enum":["json","csv"],"default":"json"},url:{type:"string","default":void 0},values:{type:"array","default":void 0,description:"Pass array of objects instead of a url to a file.",items:{type:"object",additionalProperties:!0}}}},$={type:"object",properties:{width:{type:"integer","default":void 0},height:{type:"integer","default":void 0},viewport:{type:"array",items:{type:"integer"},"default":void 0},gridColor:{type:"string",role:"color","default":"#000000"},gridOpacity:{type:"number",minimum:0,maximum:1,"default":.08},filterNull:{type:"object",properties:{O:{type:"boolean","default":!1},Q:{type:"boolean","default":!0},T:{type:"boolean","default":!0}}},toggleSort:{type:"string","default":O},autoSortLine:{type:"boolean","default":!0},singleHeight:{type:"integer","default":200,minimum:0},singleWidth:{type:"integer","default":200,minimum:0},largeBandSize:{type:"integer","default":21,minimum:0},smallBandSize:{type:"integer","default":12,minimum:0},largeBandMaxCardinality:{type:"integer","default":10},cellPadding:{type:"number","default":.1},cellGridColor:{type:"string",role:"color","default":"#000000"},cellGridOpacity:{type:"number",minimum:0,maximum:1,"default":.15},cellBackgroundColor:{type:"string",role:"color","default":"rgba(0,0,0,0)"},textCellWidth:{type:"integer","default":90,minimum:0},strokeWidth:{type:"integer","default":2,minimum:0},singleBarOffset:{type:"integer","default":5,minimum:0},timeScaleLabelLength:{type:"integer","default":3,minimum:0,description:"Max length for values in dayScaleLabel and monthScaleLabel.  Zero means using full names in dayScaleLabel/monthScaleLabel."},dayScaleLabel:{type:"array",items:{type:"string"},"default":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],description:"Axis labels for day of week, starting from Sunday.(Consistent with Javascript -- See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay."},monthScaleLabel:{type:"array",items:{type:"string"},"default":["January","February","March","April","May","June","July","August","September","October","November","December"],description:"Axis labels for month."},characterWidth:{type:"integer","default":6},maxSmallNumber:{type:"number","default":1e4,description:"maximum number that a field will be considered smallNumber.Used for axis labelling."},smallNumberFormat:{type:"string","default":"",description:"D3 Number format for axis labels and text tables for number <= maxSmallNumber. Used for axis labelling."},largeNumberFormat:{type:"string","default":".3s",description:"D3 Number format for axis labels and text tables for number > maxSmallNumber."},timeFormat:{type:"string","default":"%Y-%m-%d",description:"Date format for axis labels."},useRawDomain:{type:"boolean","default":!1,description:"Use the raw data range as scale domain instead of aggregated data for aggregate axis. This option does not work with sum or count aggregateas they might have a substantially larger scale range.By default, use value from config.useRawDomain."}}};a.schema={$schema:"http://json-schema.org/draft-04/schema#",description:"Schema for Vega-lite specification",type:"object",required:["marktype","encoding","data"],properties:{data:W,marktype:a.marktype,encoding:{type:"object",properties:{x:L,y:Y,row:E,col:U,size:X,color:j,shape:z,text:_,detail:F}},filter:H,config:$}},a.encTypes=r.keys(a.schema.properties.encoding.properties),a.instantiate=function(){return a.util.instantiate(a.schema)}},{"../globals":33,"../util":37,"./schemautil":36,colorbrewer:3}],36:[function(e,t,n){"use strict";function a(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=a(t[n].constructor===Array?[]:{},t[n]):a(e[n],t[n]));return e}var r=t.exports={},i=e("../util"),f=function(e){return 0===Object.keys(e).length};r.extend=function(e,t){return r.merge(r.instantiate(t),e)},r.instantiate=function(e){var t;if(void 0===e)return void 0;if("default"in e)return t=e["default"],i.isObject(t)?i.duplicate(t):t;if("object"===e.type){var n={};for(var a in e.properties)t=r.instantiate(e.properties[a]),void 0!==t&&(n[a]=t);return n}return"array"===e.type?[]:void 0},r.subtract=function(e,t){var n={};for(var a in e){var o=t[a],c=e[a];if(!t||o!==c)if("object"==typeof c&&!i.isArray(c)&&o){var u=r.subtract(c,o);f(u)||(n[a]=u)}else(!i.isArray(c)||c.length>0)&&(n[a]=c)}return n},r.merge=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},{"../util":37}],37:[function(e,t,n){"use strict";var a=t.exports=e("datalib/src/util");a.extend(a,e("datalib/src/generate")),a.extend(a,e("datalib/src/stats")),a.extend(a,e("./logger")("[VL Error]")),a.bin=e("datalib/src/bins/bins"),a.isin=function(e,t){return-1!==t.indexOf(e)},a.forEach=function(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(var a in e)t.call(n,e[a],a,e)},a.reduce=function(e,t,n,a){if(e.reduce)return e.reduce.call(a,t,n);for(var r in e)n=t.call(a,n,e[r],r,e);return n},a.map=function(e,t,n){if(e.map)return e.map.call(n,t);var a=[];for(var r in e)a.push(t.call(n,e[r],r,e))},a.any=function(e,t){var n,a=0;for(n in e)if(t(e[n],n,a++))return!0;return!1},a.all=function(e,t){var n,a=0;for(n in e)if(!t(e[n],n,a++))return!1;return!0},a.getbins=function(e,t){return a.bin({min:e.min,max:e.max,maxbins:t})},a.setter=function(e,t,n,a){for(var r=0;r<t.length-1;++r)e=a||t[r]in e?e[t[r]]:e[t[r]]={};e[t[r]]=n},a.getter=function(e,t,n){for(var a=0;a<t.length;++a)e=n||t[a]in e?e[t[a]]:e[t[a]]={};return e}},{"./logger":34,"datalib/src/bins/bins":8,"datalib/src/generate":9,"datalib/src/stats":11,"datalib/src/util":13}],38:[function(e,t,n){"use strict";e("./globals");var a=e("./util"),r=e("./consts"),i={};a.extend(i,r,a),i.Encoding=e("./Encoding"),i.compiler=e("./compiler/compiler"),i.compile=i.compiler.compile,i.data=e("./data"),i.enc=e("./enc"),i.field=e("./field"),i.schema=e("./schema/schema"),i.toShorthand=i.Encoding.shorthand,i.format=e("d3-format").format,t.exports=i},{"./Encoding":14,"./compiler/compiler":16,"./consts":29,"./data":30,"./enc":31,"./field":32,"./globals":33,"./schema/schema":35,"./util":37,"d3-format":5}]},{},[38])(38)});
//# sourceMappingURL=vega-lite.min.js.map

/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
